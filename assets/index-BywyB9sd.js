var iE=t=>{throw TypeError(t)};var qg=(t,e,r)=>e.has(t)||iE("Cannot "+r);var ue=(t,e,r)=>(qg(t,e,"read from private field"),r?r.call(t):e.get(t)),ft=(t,e,r)=>e.has(t)?iE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ke=(t,e,r,n)=>(qg(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),At=(t,e,r)=>(qg(t,e,"access private method"),r);var Zf=(t,e,r,n)=>({set _(i){Ke(t,e,i,r)},get _(){return ue(t,e,n)}});function lk(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function np(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ck(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Bg={exports:{}},Ru={},Ug={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function e5(){if(sE)return Tt;sE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,y={};function b(M,$,G){this.props=M,this.context=$,this.refs=y,this.updater=G||g}b.prototype.isReactComponent={},b.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=b.prototype;function x(M,$,G){this.props=M,this.context=$,this.refs=y,this.updater=G||g}var j=x.prototype=new E;j.constructor=x,_(j,b.prototype),j.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(M,$,G){var te,ee={},W=null,Z=null;if($!=null)for(te in $.ref!==void 0&&(Z=$.ref),$.key!==void 0&&(W=""+$.key),$)C.call($,te)&&!A.hasOwnProperty(te)&&(ee[te]=$[te]);var le=arguments.length-2;if(le===1)ee.children=G;else if(1<le){for(var ce=Array(le),me=0;me<le;me++)ce[me]=arguments[me+2];ee.children=ce}if(M&&M.defaultProps)for(te in le=M.defaultProps,le)ee[te]===void 0&&(ee[te]=le[te]);return{$$typeof:t,type:M,key:W,ref:Z,props:ee,_owner:O.current}}function q(M,$){return{$$typeof:t,type:M.type,key:$,ref:M.ref,props:M.props,_owner:M._owner}}function T(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function D(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(G){return $[G]})}var L=/\/+/g;function B(M,$){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):$.toString(36)}function U(M,$,G,te,ee){var W=typeof M;(W==="undefined"||W==="boolean")&&(M=null);var Z=!1;if(M===null)Z=!0;else switch(W){case"string":case"number":Z=!0;break;case"object":switch(M.$$typeof){case t:case e:Z=!0}}if(Z)return Z=M,ee=ee(Z),M=te===""?"."+B(Z,0):te,w(ee)?(G="",M!=null&&(G=M.replace(L,"$&/")+"/"),U(ee,$,G,"",function(me){return me})):ee!=null&&(T(ee)&&(ee=q(ee,G+(!ee.key||Z&&Z.key===ee.key?"":(""+ee.key).replace(L,"$&/")+"/")+M)),$.push(ee)),1;if(Z=0,te=te===""?".":te+":",w(M))for(var le=0;le<M.length;le++){W=M[le];var ce=te+B(W,le);Z+=U(W,$,G,ce,ee)}else if(ce=m(M),typeof ce=="function")for(M=ce.call(M),le=0;!(W=M.next()).done;)W=W.value,ce=te+B(W,le++),Z+=U(W,$,G,ce,ee);else if(W==="object")throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Z}function Y(M,$,G){if(M==null)return M;var te=[],ee=0;return U(M,te,"","",function(W){return $.call(G,W,ee++)}),te}function X(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(G){(M._status===0||M._status===-1)&&(M._status=1,M._result=G)},function(G){(M._status===0||M._status===-1)&&(M._status=2,M._result=G)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var ie={current:null},re={transition:null},K={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:re,ReactCurrentOwner:O};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:Y,forEach:function(M,$,G){Y(M,function(){$.apply(this,arguments)},G)},count:function(M){var $=0;return Y(M,function(){$++}),$},toArray:function(M){return Y(M,function($){return $})||[]},only:function(M){if(!T(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Tt.Component=b,Tt.Fragment=r,Tt.Profiler=i,Tt.PureComponent=x,Tt.StrictMode=n,Tt.Suspense=d,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Tt.act=Q,Tt.cloneElement=function(M,$,G){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var te=_({},M.props),ee=M.key,W=M.ref,Z=M._owner;if($!=null){if($.ref!==void 0&&(W=$.ref,Z=O.current),$.key!==void 0&&(ee=""+$.key),M.type&&M.type.defaultProps)var le=M.type.defaultProps;for(ce in $)C.call($,ce)&&!A.hasOwnProperty(ce)&&(te[ce]=$[ce]===void 0&&le!==void 0?le[ce]:$[ce])}var ce=arguments.length-2;if(ce===1)te.children=G;else if(1<ce){le=Array(ce);for(var me=0;me<ce;me++)le[me]=arguments[me+2];te.children=le}return{$$typeof:t,type:M.type,key:ee,ref:W,props:te,_owner:Z}},Tt.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Tt.createElement=P,Tt.createFactory=function(M){var $=P.bind(null,M);return $.type=M,$},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(M){return{$$typeof:u,render:M}},Tt.isValidElement=T,Tt.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:X}},Tt.memo=function(M,$){return{$$typeof:h,type:M,compare:$===void 0?null:$}},Tt.startTransition=function(M){var $=re.transition;re.transition={};try{M()}finally{re.transition=$}},Tt.unstable_act=Q,Tt.useCallback=function(M,$){return ie.current.useCallback(M,$)},Tt.useContext=function(M){return ie.current.useContext(M)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(M){return ie.current.useDeferredValue(M)},Tt.useEffect=function(M,$){return ie.current.useEffect(M,$)},Tt.useId=function(){return ie.current.useId()},Tt.useImperativeHandle=function(M,$,G){return ie.current.useImperativeHandle(M,$,G)},Tt.useInsertionEffect=function(M,$){return ie.current.useInsertionEffect(M,$)},Tt.useLayoutEffect=function(M,$){return ie.current.useLayoutEffect(M,$)},Tt.useMemo=function(M,$){return ie.current.useMemo(M,$)},Tt.useReducer=function(M,$,G){return ie.current.useReducer(M,$,G)},Tt.useRef=function(M){return ie.current.useRef(M)},Tt.useState=function(M){return ie.current.useState(M)},Tt.useSyncExternalStore=function(M,$,G){return ie.current.useSyncExternalStore(M,$,G)},Tt.useTransition=function(){return ie.current.useTransition()},Tt.version="18.3.1",Tt}var oE;function jd(){return oE||(oE=1,Ug.exports=e5()),Ug.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function t5(){if(aE)return Ru;aE=1;var t=jd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,d,h){var f,p={},m=null,g=null;h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(g=d.ref);for(f in d)n.call(d,f)&&!s.hasOwnProperty(f)&&(p[f]=d[f]);if(u&&u.defaultProps)for(f in d=u.defaultProps,d)p[f]===void 0&&(p[f]=d[f]);return{$$typeof:e,type:u,key:m,ref:g,props:p,_owner:i.current}}return Ru.Fragment=r,Ru.jsx=a,Ru.jsxs=a,Ru}var lE;function r5(){return lE||(lE=1,Bg.exports=t5()),Bg.exports}var c=r5(),Xf={},Vg={exports:{}},kn={},zg={exports:{}},Hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function n5(){return cE||(cE=1,(function(t){function e(re,K){var Q=re.length;re.push(K);e:for(;0<Q;){var M=Q-1>>>1,$=re[M];if(0<i($,K))re[M]=K,re[Q]=$,Q=M;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var K=re[0],Q=re.pop();if(Q!==K){re[0]=Q;e:for(var M=0,$=re.length,G=$>>>1;M<G;){var te=2*(M+1)-1,ee=re[te],W=te+1,Z=re[W];if(0>i(ee,Q))W<$&&0>i(Z,ee)?(re[M]=Z,re[W]=Q,M=W):(re[M]=ee,re[te]=Q,M=te);else if(W<$&&0>i(Z,Q))re[M]=Z,re[W]=Q,M=W;else break e}}return K}function i(re,K){var Q=re.sortIndex-K.sortIndex;return Q!==0?Q:re.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var d=[],h=[],f=1,p=null,m=3,g=!1,_=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(re){for(var K=r(h);K!==null;){if(K.callback===null)n(h);else if(K.startTime<=re)n(h),K.sortIndex=K.expirationTime,e(d,K);else break;K=r(h)}}function w(re){if(y=!1,j(re),!_)if(r(d)!==null)_=!0,X(C);else{var K=r(h);K!==null&&ie(w,K.startTime-re)}}function C(re,K){_=!1,y&&(y=!1,E(P),P=-1),g=!0;var Q=m;try{for(j(K),p=r(d);p!==null&&(!(p.expirationTime>K)||re&&!D());){var M=p.callback;if(typeof M=="function"){p.callback=null,m=p.priorityLevel;var $=M(p.expirationTime<=K);K=t.unstable_now(),typeof $=="function"?p.callback=$:p===r(d)&&n(d),j(K)}else n(d);p=r(d)}if(p!==null)var G=!0;else{var te=r(h);te!==null&&ie(w,te.startTime-K),G=!1}return G}finally{p=null,m=Q,g=!1}}var O=!1,A=null,P=-1,q=5,T=-1;function D(){return!(t.unstable_now()-T<q)}function L(){if(A!==null){var re=t.unstable_now();T=re;var K=!0;try{K=A(!0,re)}finally{K?B():(O=!1,A=null)}}else O=!1}var B;if(typeof x=="function")B=function(){x(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=L,B=function(){Y.postMessage(null)}}else B=function(){b(L,0)};function X(re){A=re,O||(O=!0,B())}function ie(re,K){P=b(function(){re(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,X(C))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(re){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Q=m;m=K;try{return re()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,K){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Q=m;m=re;try{return K()}finally{m=Q}},t.unstable_scheduleCallback=function(re,K,Q){var M=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?M+Q:M):Q=M,re){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Q+$,re={id:f++,callback:K,priorityLevel:re,startTime:Q,expirationTime:$,sortIndex:-1},Q>M?(re.sortIndex=Q,e(h,re),r(d)===null&&re===r(h)&&(y?(E(P),P=-1):y=!0,ie(w,Q-M))):(re.sortIndex=$,e(d,re),_||g||(_=!0,X(C))),re},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(re){var K=m;return function(){var Q=m;m=K;try{return re.apply(this,arguments)}finally{m=Q}}}})(Hg)),Hg}var uE;function i5(){return uE||(uE=1,zg.exports=n5()),zg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function s5(){if(dE)return kn;dE=1;var t=jd(),e=i5();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,v=1;v<arguments.length;v++)l+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(o){return d.call(p,o)?!0:d.call(f,o)?!1:h.test(o)?p[o]=!0:(f[o]=!0,!1)}function g(o,l,v,S){if(v!==null&&v.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return S?!1:v!==null?!v.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,l,v,S){if(l===null||typeof l>"u"||g(o,l,v,S))return!0;if(S)return!1;if(v!==null)switch(v.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function y(o,l,v,S,k,I,H){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=S,this.attributeNamespace=k,this.mustUseProperty=v,this.propertyName=o,this.type=l,this.sanitizeURL=I,this.removeEmptyString=H}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new y(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];b[l]=new y(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new y(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new y(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new y(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new y(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new y(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new y(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new y(o,5,!1,o.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function x(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(E,x);b[l]=new y(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(E,x);b[l]=new y(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(E,x);b[l]=new y(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new y(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new y(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,l,v,S){var k=b.hasOwnProperty(l)?b[l]:null;(k!==null?k.type!==0:S||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,v,k,S)&&(v=null),S||k===null?m(l)&&(v===null?o.removeAttribute(l):o.setAttribute(l,""+v)):k.mustUseProperty?o[k.propertyName]=v===null?k.type===3?!1:"":v:(l=k.attributeName,S=k.attributeNamespace,v===null?o.removeAttribute(l):(k=k.type,v=k===3||k===4&&v===!0?"":""+v,S?o.setAttributeNS(S,l,v):o.setAttribute(l,v))))}var w=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),re=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Object.assign,M;function $(o){if(M===void 0)try{throw Error()}catch(v){var l=v.stack.trim().match(/\n( *(at )?)/);M=l&&l[1]||""}return`
`+M+o}var G=!1;function te(o,l){if(!o||G)return"";G=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(we){var S=we}Reflect.construct(o,[],l)}else{try{l.call()}catch(we){S=we}o.call(l.prototype)}else{try{throw Error()}catch(we){S=we}o()}}catch(we){if(we&&S&&typeof we.stack=="string"){for(var k=we.stack.split(`
`),I=S.stack.split(`
`),H=k.length-1,se=I.length-1;1<=H&&0<=se&&k[H]!==I[se];)se--;for(;1<=H&&0<=se;H--,se--)if(k[H]!==I[se]){if(H!==1||se!==1)do if(H--,se--,0>se||k[H]!==I[se]){var de=`
`+k[H].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=H&&0<=se);break}}}finally{G=!1,Error.prepareStackTrace=v}return(o=o?o.displayName||o.name:"")?$(o):""}function ee(o){switch(o.tag){case 5:return $(o.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return o=te(o.type,!1),o;case 11:return o=te(o.type.render,!1),o;case 1:return o=te(o.type,!0),o;default:return""}}function W(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case O:return"Portal";case q:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case T:return(o._context.displayName||"Context")+".Provider";case L:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Y:return l=o.displayName||null,l!==null?l:W(o.type)||"Memo";case X:l=o._payload,o=o._init;try{return W(o(l))}catch{}}return null}function Z(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ce(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function me(o){var l=ce(o)?"checked":"value",v=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),S=""+o[l];if(!o.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var k=v.get,I=v.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return k.call(this)},set:function(H){S=""+H,I.call(this,H)}}),Object.defineProperty(o,l,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function(H){S=""+H},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function je(o){o._valueTracker||(o._valueTracker=me(o))}function Te(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var v=l.getValue(),S="";return o&&(S=ce(o)?o.checked?"true":"false":o.value),o=S,o!==v?(l.setValue(o),!0):!1}function ze(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ze(o,l){var v=l.checked;return Q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??o._wrapperState.initialChecked})}function pt(o,l){var v=l.defaultValue==null?"":l.defaultValue,S=l.checked!=null?l.checked:l.defaultChecked;v=le(l.value!=null?l.value:v),o._wrapperState={initialChecked:S,initialValue:v,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function _t(o,l){l=l.checked,l!=null&&j(o,"checked",l,!1)}function xt(o,l){_t(o,l);var v=le(l.value),S=l.type;if(v!=null)S==="number"?(v===0&&o.value===""||o.value!=v)&&(o.value=""+v):o.value!==""+v&&(o.value=""+v);else if(S==="submit"||S==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?_e(o,l.type,v):l.hasOwnProperty("defaultValue")&&_e(o,l.type,le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function xe(o,l,v){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var S=l.type;if(!(S!=="submit"&&S!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,v||l===o.value||(o.value=l),o.defaultValue=l}v=o.name,v!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,v!==""&&(o.name=v)}function _e(o,l,v){(l!=="number"||ze(o.ownerDocument)!==o)&&(v==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+v&&(o.defaultValue=""+v))}var J=Array.isArray;function oe(o,l,v,S){if(o=o.options,l){l={};for(var k=0;k<v.length;k++)l["$"+v[k]]=!0;for(v=0;v<o.length;v++)k=l.hasOwnProperty("$"+o[v].value),o[v].selected!==k&&(o[v].selected=k),k&&S&&(o[v].defaultSelected=!0)}else{for(v=""+le(v),l=null,k=0;k<o.length;k++){if(o[k].value===v){o[k].selected=!0,S&&(o[k].defaultSelected=!0);return}l!==null||o[k].disabled||(l=o[k])}l!==null&&(l.selected=!0)}}function ae(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ee(o,l){var v=l.value;if(v==null){if(v=l.children,l=l.defaultValue,v!=null){if(l!=null)throw Error(r(92));if(J(v)){if(1<v.length)throw Error(r(93));v=v[0]}l=v}l==null&&(l=""),v=l}o._wrapperState={initialValue:le(v)}}function he(o,l){var v=le(l.value),S=le(l.defaultValue);v!=null&&(v=""+v,v!==o.value&&(o.value=v),l.defaultValue==null&&o.defaultValue!==v&&(o.defaultValue=v)),S!=null&&(o.defaultValue=""+S)}function ve(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Oe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Oe(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var He,Et=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,v,S,k){MSApp.execUnsafeLocalFunction(function(){return o(l,v,S,k)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=He.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function V(o,l){if(l){var v=o.firstChild;if(v&&v===o.lastChild&&v.nodeType===3){v.nodeValue=l;return}}o.textContent=l}var R={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F=["Webkit","ms","Moz","O"];Object.keys(R).forEach(function(o){F.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),R[l]=R[o]})});function ne(o,l,v){return l==null||typeof l=="boolean"||l===""?"":v||typeof l!="number"||l===0||R.hasOwnProperty(o)&&R[o]?(""+l).trim():l+"px"}function fe(o,l){o=o.style;for(var v in l)if(l.hasOwnProperty(v)){var S=v.indexOf("--")===0,k=ne(v,l[v],S);v==="float"&&(v="cssFloat"),S?o.setProperty(v,k):o[v]=k}}var be=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(o,l){if(l){if(be[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function yt(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function Dt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Vt=null,Ot=null,xn=null;function Xr(o){if(o=vu(o)){if(typeof Vt!="function")throw Error(r(280));var l=o.stateNode;l&&(l=ff(l),Vt(o.stateNode,o.type,l))}}function We(o){Ot?xn?xn.push(o):xn=[o]:Ot=o}function nt(){if(Ot){var o=Ot,l=xn;if(xn=Ot=null,Xr(o),l)for(o=0;o<l.length;o++)Xr(l[o])}}function qt(o,l){return o(l)}function Yt(){}var Gr=!1;function en(o,l,v){if(Gr)return o(l,v);Gr=!0;try{return qt(o,l,v)}finally{Gr=!1,(Ot!==null||xn!==null)&&(Yt(),nt())}}function Er(o,l){var v=o.stateNode;if(v===null)return null;var S=ff(v);if(S===null)return null;v=S[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(o=o.type,S=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!S;break e;default:o=!1}if(o)return null;if(v&&typeof v!="function")throw Error(r(231,l,typeof v));return v}var Mn=!1;if(u)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Mn=!1}function ri(o,l,v,S,k,I,H,se,de){var we=Array.prototype.slice.call(arguments,3);try{l.apply(v,we)}catch(Ae){this.onError(Ae)}}var Pe=!1,Xt=null,ar=!1,Pt=null,vi={onError:function(o){Pe=!0,Xt=o}};function Bt(o,l,v,S,k,I,H,se,de){Pe=!1,Xt=null,ri.apply(vi,arguments)}function Ui(o,l,v,S,k,I,H,se,de){if(Bt.apply(this,arguments),Pe){if(Pe){var we=Xt;Pe=!1,Xt=null}else throw Error(r(198));ar||(ar=!0,Pt=we)}}function sa(o){var l=o,v=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(v=l.return),o=l.return;while(o)}return l.tag===3?v:null}function k1(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function N1(o){if(sa(o)!==o)throw Error(r(188))}function uI(o){var l=o.alternate;if(!l){if(l=sa(o),l===null)throw Error(r(188));return l!==o?null:o}for(var v=o,S=l;;){var k=v.return;if(k===null)break;var I=k.alternate;if(I===null){if(S=k.return,S!==null){v=S;continue}break}if(k.child===I.child){for(I=k.child;I;){if(I===v)return N1(k),o;if(I===S)return N1(k),l;I=I.sibling}throw Error(r(188))}if(v.return!==S.return)v=k,S=I;else{for(var H=!1,se=k.child;se;){if(se===v){H=!0,v=k,S=I;break}if(se===S){H=!0,S=k,v=I;break}se=se.sibling}if(!H){for(se=I.child;se;){if(se===v){H=!0,v=I,S=k;break}if(se===S){H=!0,S=I,v=k;break}se=se.sibling}if(!H)throw Error(r(189))}}if(v.alternate!==S)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?o:l}function O1(o){return o=uI(o),o!==null?A1(o):null}function A1(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=A1(o);if(l!==null)return l;o=o.sibling}return null}var T1=e.unstable_scheduleCallback,R1=e.unstable_cancelCallback,dI=e.unstable_shouldYield,fI=e.unstable_requestPaint,Sr=e.unstable_now,hI=e.unstable_getCurrentPriorityLevel,om=e.unstable_ImmediatePriority,P1=e.unstable_UserBlockingPriority,Hd=e.unstable_NormalPriority,pI=e.unstable_LowPriority,I1=e.unstable_IdlePriority,Wd=null,Vi=null;function mI(o){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Wd,o,void 0,(o.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:yI,gI=Math.log,vI=Math.LN2;function yI(o){return o>>>=0,o===0?32:31-(gI(o)/vI|0)|0}var Kd=64,Gd=4194304;function Xc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Qd(o,l){var v=o.pendingLanes;if(v===0)return 0;var S=0,k=o.suspendedLanes,I=o.pingedLanes,H=v&268435455;if(H!==0){var se=H&~k;se!==0?S=Xc(se):(I&=H,I!==0&&(S=Xc(I)))}else H=v&~k,H!==0?S=Xc(H):I!==0&&(S=Xc(I));if(S===0)return 0;if(l!==0&&l!==S&&(l&k)===0&&(k=S&-S,I=l&-l,k>=I||k===16&&(I&4194240)!==0))return l;if((S&4)!==0&&(S|=v&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=S;0<l;)v=31-yi(l),k=1<<v,S|=o[v],l&=~k;return S}function bI(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wI(o,l){for(var v=o.suspendedLanes,S=o.pingedLanes,k=o.expirationTimes,I=o.pendingLanes;0<I;){var H=31-yi(I),se=1<<H,de=k[H];de===-1?((se&v)===0||(se&S)!==0)&&(k[H]=bI(se,l)):de<=l&&(o.expiredLanes|=se),I&=~se}}function am(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function D1(){var o=Kd;return Kd<<=1,(Kd&4194240)===0&&(Kd=64),o}function lm(o){for(var l=[],v=0;31>v;v++)l.push(o);return l}function eu(o,l,v){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-yi(l),o[l]=v}function xI(o,l){var v=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var S=o.eventTimes;for(o=o.expirationTimes;0<v;){var k=31-yi(v),I=1<<k;l[k]=0,S[k]=-1,o[k]=-1,v&=~I}}function cm(o,l){var v=o.entangledLanes|=l;for(o=o.entanglements;v;){var S=31-yi(v),k=1<<S;k&l|o[S]&l&&(o[S]|=l),v&=~k}}var er=0;function M1(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var L1,um,F1,$1,q1,dm=!1,Yd=[],Ks=null,Gs=null,Qs=null,tu=new Map,ru=new Map,Ys=[],_I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B1(o,l){switch(o){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":tu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(l.pointerId)}}function nu(o,l,v,S,k,I){return o===null||o.nativeEvent!==I?(o={blockedOn:l,domEventName:v,eventSystemFlags:S,nativeEvent:I,targetContainers:[k]},l!==null&&(l=vu(l),l!==null&&um(l)),o):(o.eventSystemFlags|=S,l=o.targetContainers,k!==null&&l.indexOf(k)===-1&&l.push(k),o)}function EI(o,l,v,S,k){switch(l){case"focusin":return Ks=nu(Ks,o,l,v,S,k),!0;case"dragenter":return Gs=nu(Gs,o,l,v,S,k),!0;case"mouseover":return Qs=nu(Qs,o,l,v,S,k),!0;case"pointerover":var I=k.pointerId;return tu.set(I,nu(tu.get(I)||null,o,l,v,S,k)),!0;case"gotpointercapture":return I=k.pointerId,ru.set(I,nu(ru.get(I)||null,o,l,v,S,k)),!0}return!1}function U1(o){var l=oa(o.target);if(l!==null){var v=sa(l);if(v!==null){if(l=v.tag,l===13){if(l=k1(v),l!==null){o.blockedOn=l,q1(o.priority,function(){F1(v)});return}}else if(l===3&&v.stateNode.current.memoizedState.isDehydrated){o.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zd(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var v=hm(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(v===null){v=o.nativeEvent;var S=new v.constructor(v.type,v);It=S,v.target.dispatchEvent(S),It=null}else return l=vu(v),l!==null&&um(l),o.blockedOn=v,!1;l.shift()}return!0}function V1(o,l,v){Zd(o)&&v.delete(l)}function SI(){dm=!1,Ks!==null&&Zd(Ks)&&(Ks=null),Gs!==null&&Zd(Gs)&&(Gs=null),Qs!==null&&Zd(Qs)&&(Qs=null),tu.forEach(V1),ru.forEach(V1)}function iu(o,l){o.blockedOn===l&&(o.blockedOn=null,dm||(dm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SI)))}function su(o){function l(k){return iu(k,o)}if(0<Yd.length){iu(Yd[0],o);for(var v=1;v<Yd.length;v++){var S=Yd[v];S.blockedOn===o&&(S.blockedOn=null)}}for(Ks!==null&&iu(Ks,o),Gs!==null&&iu(Gs,o),Qs!==null&&iu(Qs,o),tu.forEach(l),ru.forEach(l),v=0;v<Ys.length;v++)S=Ys[v],S.blockedOn===o&&(S.blockedOn=null);for(;0<Ys.length&&(v=Ys[0],v.blockedOn===null);)U1(v),v.blockedOn===null&&Ys.shift()}var pl=w.ReactCurrentBatchConfig,Jd=!0;function jI(o,l,v,S){var k=er,I=pl.transition;pl.transition=null;try{er=1,fm(o,l,v,S)}finally{er=k,pl.transition=I}}function CI(o,l,v,S){var k=er,I=pl.transition;pl.transition=null;try{er=4,fm(o,l,v,S)}finally{er=k,pl.transition=I}}function fm(o,l,v,S){if(Jd){var k=hm(o,l,v,S);if(k===null)Am(o,l,S,Xd,v),B1(o,S);else if(EI(k,o,l,v,S))S.stopPropagation();else if(B1(o,S),l&4&&-1<_I.indexOf(o)){for(;k!==null;){var I=vu(k);if(I!==null&&L1(I),I=hm(o,l,v,S),I===null&&Am(o,l,S,Xd,v),I===k)break;k=I}k!==null&&S.stopPropagation()}else Am(o,l,S,null,v)}}var Xd=null;function hm(o,l,v,S){if(Xd=null,o=Dt(S),o=oa(o),o!==null)if(l=sa(o),l===null)o=null;else if(v=l.tag,v===13){if(o=k1(l),o!==null)return o;o=null}else if(v===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Xd=o,null}function z1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hI()){case om:return 1;case P1:return 4;case Hd:case pI:return 16;case I1:return 536870912;default:return 16}default:return 16}}var Zs=null,pm=null,ef=null;function H1(){if(ef)return ef;var o,l=pm,v=l.length,S,k="value"in Zs?Zs.value:Zs.textContent,I=k.length;for(o=0;o<v&&l[o]===k[o];o++);var H=v-o;for(S=1;S<=H&&l[v-S]===k[I-S];S++);return ef=k.slice(o,1<S?1-S:void 0)}function tf(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function rf(){return!0}function W1(){return!1}function Ln(o){function l(v,S,k,I,H){this._reactName=v,this._targetInst=k,this.type=S,this.nativeEvent=I,this.target=H,this.currentTarget=null;for(var se in o)o.hasOwnProperty(se)&&(v=o[se],this[se]=v?v(I):I[se]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?rf:W1,this.isPropagationStopped=W1,this}return Q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),l}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mm=Ln(ml),ou=Q({},ml,{view:0,detail:0}),kI=Ln(ou),gm,vm,au,nf=Q({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==au&&(au&&o.type==="mousemove"?(gm=o.screenX-au.screenX,vm=o.screenY-au.screenY):vm=gm=0,au=o),gm)},movementY:function(o){return"movementY"in o?o.movementY:vm}}),K1=Ln(nf),NI=Q({},nf,{dataTransfer:0}),OI=Ln(NI),AI=Q({},ou,{relatedTarget:0}),ym=Ln(AI),TI=Q({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),RI=Ln(TI),PI=Q({},ml,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),II=Ln(PI),DI=Q({},ml,{data:0}),G1=Ln(DI),MI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $I(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=FI[o])?!!l[o]:!1}function bm(){return $I}var qI=Q({},ou,{key:function(o){if(o.key){var l=MI[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=tf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?LI[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bm,charCode:function(o){return o.type==="keypress"?tf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?tf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),BI=Ln(qI),UI=Q({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q1=Ln(UI),VI=Q({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bm}),zI=Ln(VI),HI=Q({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),WI=Ln(HI),KI=Q({},nf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),GI=Ln(KI),QI=[9,13,27,32],wm=u&&"CompositionEvent"in window,lu=null;u&&"documentMode"in document&&(lu=document.documentMode);var YI=u&&"TextEvent"in window&&!lu,Y1=u&&(!wm||lu&&8<lu&&11>=lu),Z1=" ",J1=!1;function X1(o,l){switch(o){case"keyup":return QI.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ex(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var gl=!1;function ZI(o,l){switch(o){case"compositionend":return ex(l);case"keypress":return l.which!==32?null:(J1=!0,Z1);case"textInput":return o=l.data,o===Z1&&J1?null:o;default:return null}}function JI(o,l){if(gl)return o==="compositionend"||!wm&&X1(o,l)?(o=H1(),ef=pm=Zs=null,gl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Y1&&l.locale!=="ko"?null:l.data;default:return null}}var XI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!XI[o.type]:l==="textarea"}function rx(o,l,v,S){We(S),l=cf(l,"onChange"),0<l.length&&(v=new mm("onChange","change",null,v,S),o.push({event:v,listeners:l}))}var cu=null,uu=null;function e3(o){wx(o,0)}function sf(o){var l=xl(o);if(Te(l))return o}function t3(o,l){if(o==="change")return l}var nx=!1;if(u){var xm;if(u){var _m="oninput"in document;if(!_m){var ix=document.createElement("div");ix.setAttribute("oninput","return;"),_m=typeof ix.oninput=="function"}xm=_m}else xm=!1;nx=xm&&(!document.documentMode||9<document.documentMode)}function sx(){cu&&(cu.detachEvent("onpropertychange",ox),uu=cu=null)}function ox(o){if(o.propertyName==="value"&&sf(uu)){var l=[];rx(l,uu,o,Dt(o)),en(e3,l)}}function r3(o,l,v){o==="focusin"?(sx(),cu=l,uu=v,cu.attachEvent("onpropertychange",ox)):o==="focusout"&&sx()}function n3(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sf(uu)}function i3(o,l){if(o==="click")return sf(l)}function s3(o,l){if(o==="input"||o==="change")return sf(l)}function o3(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var bi=typeof Object.is=="function"?Object.is:o3;function du(o,l){if(bi(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var v=Object.keys(o),S=Object.keys(l);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var k=v[S];if(!d.call(l,k)||!bi(o[k],l[k]))return!1}return!0}function ax(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function lx(o,l){var v=ax(o);o=0;for(var S;v;){if(v.nodeType===3){if(S=o+v.textContent.length,o<=l&&S>=l)return{node:v,offset:l-o};o=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=ax(v)}}function cx(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?cx(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function ux(){for(var o=window,l=ze();l instanceof o.HTMLIFrameElement;){try{var v=typeof l.contentWindow.location.href=="string"}catch{v=!1}if(v)o=l.contentWindow;else break;l=ze(o.document)}return l}function Em(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function a3(o){var l=ux(),v=o.focusedElem,S=o.selectionRange;if(l!==v&&v&&v.ownerDocument&&cx(v.ownerDocument.documentElement,v)){if(S!==null&&Em(v)){if(l=S.start,o=S.end,o===void 0&&(o=l),"selectionStart"in v)v.selectionStart=l,v.selectionEnd=Math.min(o,v.value.length);else if(o=(l=v.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var k=v.textContent.length,I=Math.min(S.start,k);S=S.end===void 0?I:Math.min(S.end,k),!o.extend&&I>S&&(k=S,S=I,I=k),k=lx(v,I);var H=lx(v,S);k&&H&&(o.rangeCount!==1||o.anchorNode!==k.node||o.anchorOffset!==k.offset||o.focusNode!==H.node||o.focusOffset!==H.offset)&&(l=l.createRange(),l.setStart(k.node,k.offset),o.removeAllRanges(),I>S?(o.addRange(l),o.extend(H.node,H.offset)):(l.setEnd(H.node,H.offset),o.addRange(l)))}}for(l=[],o=v;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<l.length;v++)o=l[v],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var l3=u&&"documentMode"in document&&11>=document.documentMode,vl=null,Sm=null,fu=null,jm=!1;function dx(o,l,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;jm||vl==null||vl!==ze(S)||(S=vl,"selectionStart"in S&&Em(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),fu&&du(fu,S)||(fu=S,S=cf(Sm,"onSelect"),0<S.length&&(l=new mm("onSelect","select",null,l,v),o.push({event:l,listeners:S}),l.target=vl)))}function of(o,l){var v={};return v[o.toLowerCase()]=l.toLowerCase(),v["Webkit"+o]="webkit"+l,v["Moz"+o]="moz"+l,v}var yl={animationend:of("Animation","AnimationEnd"),animationiteration:of("Animation","AnimationIteration"),animationstart:of("Animation","AnimationStart"),transitionend:of("Transition","TransitionEnd")},Cm={},fx={};u&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function af(o){if(Cm[o])return Cm[o];if(!yl[o])return o;var l=yl[o],v;for(v in l)if(l.hasOwnProperty(v)&&v in fx)return Cm[o]=l[v];return o}var hx=af("animationend"),px=af("animationiteration"),mx=af("animationstart"),gx=af("transitionend"),vx=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(o,l){vx.set(o,l),s(l,[o])}for(var km=0;km<yx.length;km++){var Nm=yx[km],c3=Nm.toLowerCase(),u3=Nm[0].toUpperCase()+Nm.slice(1);Js(c3,"on"+u3)}Js(hx,"onAnimationEnd"),Js(px,"onAnimationIteration"),Js(mx,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(gx,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d3=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function bx(o,l,v){var S=o.type||"unknown-event";o.currentTarget=v,Ui(S,l,void 0,o),o.currentTarget=null}function wx(o,l){l=(l&4)!==0;for(var v=0;v<o.length;v++){var S=o[v],k=S.event;S=S.listeners;e:{var I=void 0;if(l)for(var H=S.length-1;0<=H;H--){var se=S[H],de=se.instance,we=se.currentTarget;if(se=se.listener,de!==I&&k.isPropagationStopped())break e;bx(k,se,we),I=de}else for(H=0;H<S.length;H++){if(se=S[H],de=se.instance,we=se.currentTarget,se=se.listener,de!==I&&k.isPropagationStopped())break e;bx(k,se,we),I=de}}}if(ar)throw o=Pt,ar=!1,Pt=null,o}function dr(o,l){var v=l[Mm];v===void 0&&(v=l[Mm]=new Set);var S=o+"__bubble";v.has(S)||(xx(l,o,2,!1),v.add(S))}function Om(o,l,v){var S=0;l&&(S|=4),xx(v,o,S,l)}var lf="_reactListening"+Math.random().toString(36).slice(2);function pu(o){if(!o[lf]){o[lf]=!0,n.forEach(function(v){v!=="selectionchange"&&(d3.has(v)||Om(v,!1,o),Om(v,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[lf]||(l[lf]=!0,Om("selectionchange",!1,l))}}function xx(o,l,v,S){switch(z1(l)){case 1:var k=jI;break;case 4:k=CI;break;default:k=fm}v=k.bind(null,l,v,o),k=void 0,!Mn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(k=!0),S?k!==void 0?o.addEventListener(l,v,{capture:!0,passive:k}):o.addEventListener(l,v,!0):k!==void 0?o.addEventListener(l,v,{passive:k}):o.addEventListener(l,v,!1)}function Am(o,l,v,S,k){var I=S;if((l&1)===0&&(l&2)===0&&S!==null)e:for(;;){if(S===null)return;var H=S.tag;if(H===3||H===4){var se=S.stateNode.containerInfo;if(se===k||se.nodeType===8&&se.parentNode===k)break;if(H===4)for(H=S.return;H!==null;){var de=H.tag;if((de===3||de===4)&&(de=H.stateNode.containerInfo,de===k||de.nodeType===8&&de.parentNode===k))return;H=H.return}for(;se!==null;){if(H=oa(se),H===null)return;if(de=H.tag,de===5||de===6){S=I=H;continue e}se=se.parentNode}}S=S.return}en(function(){var we=I,Ae=Dt(v),Re=[];e:{var Ne=vx.get(o);if(Ne!==void 0){var Qe=mm,tt=o;switch(o){case"keypress":if(tf(v)===0)break e;case"keydown":case"keyup":Qe=BI;break;case"focusin":tt="focus",Qe=ym;break;case"focusout":tt="blur",Qe=ym;break;case"beforeblur":case"afterblur":Qe=ym;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=K1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=OI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=zI;break;case hx:case px:case mx:Qe=RI;break;case gx:Qe=WI;break;case"scroll":Qe=kI;break;case"wheel":Qe=GI;break;case"copy":case"cut":case"paste":Qe=II;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=Q1}var st=(l&4)!==0,jr=!st&&o==="scroll",ge=st?Ne!==null?Ne+"Capture":null:Ne;st=[];for(var pe=we,ye;pe!==null;){ye=pe;var Ie=ye.stateNode;if(ye.tag===5&&Ie!==null&&(ye=Ie,ge!==null&&(Ie=Er(pe,ge),Ie!=null&&st.push(mu(pe,Ie,ye)))),jr)break;pe=pe.return}0<st.length&&(Ne=new Qe(Ne,tt,null,v,Ae),Re.push({event:Ne,listeners:st}))}}if((l&7)===0){e:{if(Ne=o==="mouseover"||o==="pointerover",Qe=o==="mouseout"||o==="pointerout",Ne&&v!==It&&(tt=v.relatedTarget||v.fromElement)&&(oa(tt)||tt[us]))break e;if((Qe||Ne)&&(Ne=Ae.window===Ae?Ae:(Ne=Ae.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Qe?(tt=v.relatedTarget||v.toElement,Qe=we,tt=tt?oa(tt):null,tt!==null&&(jr=sa(tt),tt!==jr||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(Qe=null,tt=we),Qe!==tt)){if(st=K1,Ie="onMouseLeave",ge="onMouseEnter",pe="mouse",(o==="pointerout"||o==="pointerover")&&(st=Q1,Ie="onPointerLeave",ge="onPointerEnter",pe="pointer"),jr=Qe==null?Ne:xl(Qe),ye=tt==null?Ne:xl(tt),Ne=new st(Ie,pe+"leave",Qe,v,Ae),Ne.target=jr,Ne.relatedTarget=ye,Ie=null,oa(Ae)===we&&(st=new st(ge,pe+"enter",tt,v,Ae),st.target=ye,st.relatedTarget=jr,Ie=st),jr=Ie,Qe&&tt)t:{for(st=Qe,ge=tt,pe=0,ye=st;ye;ye=bl(ye))pe++;for(ye=0,Ie=ge;Ie;Ie=bl(Ie))ye++;for(;0<pe-ye;)st=bl(st),pe--;for(;0<ye-pe;)ge=bl(ge),ye--;for(;pe--;){if(st===ge||ge!==null&&st===ge.alternate)break t;st=bl(st),ge=bl(ge)}st=null}else st=null;Qe!==null&&_x(Re,Ne,Qe,st,!1),tt!==null&&jr!==null&&_x(Re,jr,tt,st,!0)}}e:{if(Ne=we?xl(we):window,Qe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Ne.type==="file")var ut=t3;else if(tx(Ne))if(nx)ut=s3;else{ut=n3;var mt=r3}else(Qe=Ne.nodeName)&&Qe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(ut=i3);if(ut&&(ut=ut(o,we))){rx(Re,ut,v,Ae);break e}mt&&mt(o,Ne,we),o==="focusout"&&(mt=Ne._wrapperState)&&mt.controlled&&Ne.type==="number"&&_e(Ne,"number",Ne.value)}switch(mt=we?xl(we):window,o){case"focusin":(tx(mt)||mt.contentEditable==="true")&&(vl=mt,Sm=we,fu=null);break;case"focusout":fu=Sm=vl=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,dx(Re,v,Ae);break;case"selectionchange":if(l3)break;case"keydown":case"keyup":dx(Re,v,Ae)}var gt;if(wm)e:{switch(o){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else gl?X1(o,v)&&(bt="onCompositionEnd"):o==="keydown"&&v.keyCode===229&&(bt="onCompositionStart");bt&&(Y1&&v.locale!=="ko"&&(gl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&gl&&(gt=H1()):(Zs=Ae,pm="value"in Zs?Zs.value:Zs.textContent,gl=!0)),mt=cf(we,bt),0<mt.length&&(bt=new G1(bt,o,null,v,Ae),Re.push({event:bt,listeners:mt}),gt?bt.data=gt:(gt=ex(v),gt!==null&&(bt.data=gt)))),(gt=YI?ZI(o,v):JI(o,v))&&(we=cf(we,"onBeforeInput"),0<we.length&&(Ae=new G1("onBeforeInput","beforeinput",null,v,Ae),Re.push({event:Ae,listeners:we}),Ae.data=gt))}wx(Re,l)})}function mu(o,l,v){return{instance:o,listener:l,currentTarget:v}}function cf(o,l){for(var v=l+"Capture",S=[];o!==null;){var k=o,I=k.stateNode;k.tag===5&&I!==null&&(k=I,I=Er(o,v),I!=null&&S.unshift(mu(o,I,k)),I=Er(o,l),I!=null&&S.push(mu(o,I,k))),o=o.return}return S}function bl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function _x(o,l,v,S,k){for(var I=l._reactName,H=[];v!==null&&v!==S;){var se=v,de=se.alternate,we=se.stateNode;if(de!==null&&de===S)break;se.tag===5&&we!==null&&(se=we,k?(de=Er(v,I),de!=null&&H.unshift(mu(v,de,se))):k||(de=Er(v,I),de!=null&&H.push(mu(v,de,se)))),v=v.return}H.length!==0&&o.push({event:l,listeners:H})}var f3=/\r\n?/g,h3=/\u0000|\uFFFD/g;function Ex(o){return(typeof o=="string"?o:""+o).replace(f3,`
`).replace(h3,"")}function uf(o,l,v){if(l=Ex(l),Ex(o)!==l&&v)throw Error(r(425))}function df(){}var Tm=null,Rm=null;function Pm(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,p3=typeof clearTimeout=="function"?clearTimeout:void 0,Sx=typeof Promise=="function"?Promise:void 0,m3=typeof queueMicrotask=="function"?queueMicrotask:typeof Sx<"u"?function(o){return Sx.resolve(null).then(o).catch(g3)}:Im;function g3(o){setTimeout(function(){throw o})}function Dm(o,l){var v=l,S=0;do{var k=v.nextSibling;if(o.removeChild(v),k&&k.nodeType===8)if(v=k.data,v==="/$"){if(S===0){o.removeChild(k),su(l);return}S--}else v!=="$"&&v!=="$?"&&v!=="$!"||S++;v=k}while(v);su(l)}function Xs(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function jx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var v=o.data;if(v==="$"||v==="$!"||v==="$?"){if(l===0)return o;l--}else v==="/$"&&l++}o=o.previousSibling}return null}var wl=Math.random().toString(36).slice(2),zi="__reactFiber$"+wl,gu="__reactProps$"+wl,us="__reactContainer$"+wl,Mm="__reactEvents$"+wl,v3="__reactListeners$"+wl,y3="__reactHandles$"+wl;function oa(o){var l=o[zi];if(l)return l;for(var v=o.parentNode;v;){if(l=v[us]||v[zi]){if(v=l.alternate,l.child!==null||v!==null&&v.child!==null)for(o=jx(o);o!==null;){if(v=o[zi])return v;o=jx(o)}return l}o=v,v=o.parentNode}return null}function vu(o){return o=o[zi]||o[us],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function xl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function ff(o){return o[gu]||null}var Lm=[],_l=-1;function eo(o){return{current:o}}function fr(o){0>_l||(o.current=Lm[_l],Lm[_l]=null,_l--)}function lr(o,l){_l++,Lm[_l]=o.current,o.current=l}var to={},tn=eo(to),_n=eo(!1),aa=to;function El(o,l){var v=o.type.contextTypes;if(!v)return to;var S=o.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===l)return S.__reactInternalMemoizedMaskedChildContext;var k={},I;for(I in v)k[I]=l[I];return S&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=k),k}function En(o){return o=o.childContextTypes,o!=null}function hf(){fr(_n),fr(tn)}function Cx(o,l,v){if(tn.current!==to)throw Error(r(168));lr(tn,l),lr(_n,v)}function kx(o,l,v){var S=o.stateNode;if(l=l.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var k in S)if(!(k in l))throw Error(r(108,Z(o)||"Unknown",k));return Q({},v,S)}function pf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||to,aa=tn.current,lr(tn,o),lr(_n,_n.current),!0}function Nx(o,l,v){var S=o.stateNode;if(!S)throw Error(r(169));v?(o=kx(o,l,aa),S.__reactInternalMemoizedMergedChildContext=o,fr(_n),fr(tn),lr(tn,o)):fr(_n),lr(_n,v)}var ds=null,mf=!1,Fm=!1;function Ox(o){ds===null?ds=[o]:ds.push(o)}function b3(o){mf=!0,Ox(o)}function ro(){if(!Fm&&ds!==null){Fm=!0;var o=0,l=er;try{var v=ds;for(er=1;o<v.length;o++){var S=v[o];do S=S(!0);while(S!==null)}ds=null,mf=!1}catch(k){throw ds!==null&&(ds=ds.slice(o+1)),T1(om,ro),k}finally{er=l,Fm=!1}}return null}var Sl=[],jl=0,gf=null,vf=0,ni=[],ii=0,la=null,fs=1,hs="";function ca(o,l){Sl[jl++]=vf,Sl[jl++]=gf,gf=o,vf=l}function Ax(o,l,v){ni[ii++]=fs,ni[ii++]=hs,ni[ii++]=la,la=o;var S=fs;o=hs;var k=32-yi(S)-1;S&=~(1<<k),v+=1;var I=32-yi(l)+k;if(30<I){var H=k-k%5;I=(S&(1<<H)-1).toString(32),S>>=H,k-=H,fs=1<<32-yi(l)+k|v<<k|S,hs=I+o}else fs=1<<I|v<<k|S,hs=o}function $m(o){o.return!==null&&(ca(o,1),Ax(o,1,0))}function qm(o){for(;o===gf;)gf=Sl[--jl],Sl[jl]=null,vf=Sl[--jl],Sl[jl]=null;for(;o===la;)la=ni[--ii],ni[ii]=null,hs=ni[--ii],ni[ii]=null,fs=ni[--ii],ni[ii]=null}var Fn=null,$n=null,gr=!1,wi=null;function Tx(o,l){var v=li(5,null,null,0);v.elementType="DELETED",v.stateNode=l,v.return=o,l=o.deletions,l===null?(o.deletions=[v],o.flags|=16):l.push(v)}function Rx(o,l){switch(o.tag){case 5:var v=o.type;return l=l.nodeType!==1||v.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Fn=o,$n=Xs(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Fn=o,$n=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(v=la!==null?{id:fs,overflow:hs}:null,o.memoizedState={dehydrated:l,treeContext:v,retryLane:1073741824},v=li(18,null,null,0),v.stateNode=l,v.return=o,o.child=v,Fn=o,$n=null,!0):!1;default:return!1}}function Bm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Um(o){if(gr){var l=$n;if(l){var v=l;if(!Rx(o,l)){if(Bm(o))throw Error(r(418));l=Xs(v.nextSibling);var S=Fn;l&&Rx(o,l)?Tx(S,v):(o.flags=o.flags&-4097|2,gr=!1,Fn=o)}}else{if(Bm(o))throw Error(r(418));o.flags=o.flags&-4097|2,gr=!1,Fn=o}}}function Px(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Fn=o}function yf(o){if(o!==Fn)return!1;if(!gr)return Px(o),gr=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Pm(o.type,o.memoizedProps)),l&&(l=$n)){if(Bm(o))throw Ix(),Error(r(418));for(;l;)Tx(o,l),l=Xs(l.nextSibling)}if(Px(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var v=o.data;if(v==="/$"){if(l===0){$n=Xs(o.nextSibling);break e}l--}else v!=="$"&&v!=="$!"&&v!=="$?"||l++}o=o.nextSibling}$n=null}}else $n=Fn?Xs(o.stateNode.nextSibling):null;return!0}function Ix(){for(var o=$n;o;)o=Xs(o.nextSibling)}function Cl(){$n=Fn=null,gr=!1}function Vm(o){wi===null?wi=[o]:wi.push(o)}var w3=w.ReactCurrentBatchConfig;function yu(o,l,v){if(o=v.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(r(309));var S=v.stateNode}if(!S)throw Error(r(147,o));var k=S,I=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===I?l.ref:(l=function(H){var se=k.refs;H===null?delete se[I]:se[I]=H},l._stringRef=I,l)}if(typeof o!="string")throw Error(r(284));if(!v._owner)throw Error(r(290,o))}return o}function bf(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Dx(o){var l=o._init;return l(o._payload)}function Mx(o){function l(ge,pe){if(o){var ye=ge.deletions;ye===null?(ge.deletions=[pe],ge.flags|=16):ye.push(pe)}}function v(ge,pe){if(!o)return null;for(;pe!==null;)l(ge,pe),pe=pe.sibling;return null}function S(ge,pe){for(ge=new Map;pe!==null;)pe.key!==null?ge.set(pe.key,pe):ge.set(pe.index,pe),pe=pe.sibling;return ge}function k(ge,pe){return ge=uo(ge,pe),ge.index=0,ge.sibling=null,ge}function I(ge,pe,ye){return ge.index=ye,o?(ye=ge.alternate,ye!==null?(ye=ye.index,ye<pe?(ge.flags|=2,pe):ye):(ge.flags|=2,pe)):(ge.flags|=1048576,pe)}function H(ge){return o&&ge.alternate===null&&(ge.flags|=2),ge}function se(ge,pe,ye,Ie){return pe===null||pe.tag!==6?(pe=Ig(ye,ge.mode,Ie),pe.return=ge,pe):(pe=k(pe,ye),pe.return=ge,pe)}function de(ge,pe,ye,Ie){var ut=ye.type;return ut===A?Ae(ge,pe,ye.props.children,Ie,ye.key):pe!==null&&(pe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&Dx(ut)===pe.type)?(Ie=k(pe,ye.props),Ie.ref=yu(ge,pe,ye),Ie.return=ge,Ie):(Ie=Vf(ye.type,ye.key,ye.props,null,ge.mode,Ie),Ie.ref=yu(ge,pe,ye),Ie.return=ge,Ie)}function we(ge,pe,ye,Ie){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==ye.containerInfo||pe.stateNode.implementation!==ye.implementation?(pe=Dg(ye,ge.mode,Ie),pe.return=ge,pe):(pe=k(pe,ye.children||[]),pe.return=ge,pe)}function Ae(ge,pe,ye,Ie,ut){return pe===null||pe.tag!==7?(pe=va(ye,ge.mode,Ie,ut),pe.return=ge,pe):(pe=k(pe,ye),pe.return=ge,pe)}function Re(ge,pe,ye){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=Ig(""+pe,ge.mode,ye),pe.return=ge,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:return ye=Vf(pe.type,pe.key,pe.props,null,ge.mode,ye),ye.ref=yu(ge,null,pe),ye.return=ge,ye;case O:return pe=Dg(pe,ge.mode,ye),pe.return=ge,pe;case X:var Ie=pe._init;return Re(ge,Ie(pe._payload),ye)}if(J(pe)||K(pe))return pe=va(pe,ge.mode,ye,null),pe.return=ge,pe;bf(ge,pe)}return null}function Ne(ge,pe,ye,Ie){var ut=pe!==null?pe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ut!==null?null:se(ge,pe,""+ye,Ie);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case C:return ye.key===ut?de(ge,pe,ye,Ie):null;case O:return ye.key===ut?we(ge,pe,ye,Ie):null;case X:return ut=ye._init,Ne(ge,pe,ut(ye._payload),Ie)}if(J(ye)||K(ye))return ut!==null?null:Ae(ge,pe,ye,Ie,null);bf(ge,ye)}return null}function Qe(ge,pe,ye,Ie,ut){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ge=ge.get(ye)||null,se(pe,ge,""+Ie,ut);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return ge=ge.get(Ie.key===null?ye:Ie.key)||null,de(pe,ge,Ie,ut);case O:return ge=ge.get(Ie.key===null?ye:Ie.key)||null,we(pe,ge,Ie,ut);case X:var mt=Ie._init;return Qe(ge,pe,ye,mt(Ie._payload),ut)}if(J(Ie)||K(Ie))return ge=ge.get(ye)||null,Ae(pe,ge,Ie,ut,null);bf(pe,Ie)}return null}function tt(ge,pe,ye,Ie){for(var ut=null,mt=null,gt=pe,bt=pe=0,Hr=null;gt!==null&&bt<ye.length;bt++){gt.index>bt?(Hr=gt,gt=null):Hr=gt.sibling;var Wt=Ne(ge,gt,ye[bt],Ie);if(Wt===null){gt===null&&(gt=Hr);break}o&&gt&&Wt.alternate===null&&l(ge,gt),pe=I(Wt,pe,bt),mt===null?ut=Wt:mt.sibling=Wt,mt=Wt,gt=Hr}if(bt===ye.length)return v(ge,gt),gr&&ca(ge,bt),ut;if(gt===null){for(;bt<ye.length;bt++)gt=Re(ge,ye[bt],Ie),gt!==null&&(pe=I(gt,pe,bt),mt===null?ut=gt:mt.sibling=gt,mt=gt);return gr&&ca(ge,bt),ut}for(gt=S(ge,gt);bt<ye.length;bt++)Hr=Qe(gt,ge,bt,ye[bt],Ie),Hr!==null&&(o&&Hr.alternate!==null&&gt.delete(Hr.key===null?bt:Hr.key),pe=I(Hr,pe,bt),mt===null?ut=Hr:mt.sibling=Hr,mt=Hr);return o&&gt.forEach(function(fo){return l(ge,fo)}),gr&&ca(ge,bt),ut}function st(ge,pe,ye,Ie){var ut=K(ye);if(typeof ut!="function")throw Error(r(150));if(ye=ut.call(ye),ye==null)throw Error(r(151));for(var mt=ut=null,gt=pe,bt=pe=0,Hr=null,Wt=ye.next();gt!==null&&!Wt.done;bt++,Wt=ye.next()){gt.index>bt?(Hr=gt,gt=null):Hr=gt.sibling;var fo=Ne(ge,gt,Wt.value,Ie);if(fo===null){gt===null&&(gt=Hr);break}o&&gt&&fo.alternate===null&&l(ge,gt),pe=I(fo,pe,bt),mt===null?ut=fo:mt.sibling=fo,mt=fo,gt=Hr}if(Wt.done)return v(ge,gt),gr&&ca(ge,bt),ut;if(gt===null){for(;!Wt.done;bt++,Wt=ye.next())Wt=Re(ge,Wt.value,Ie),Wt!==null&&(pe=I(Wt,pe,bt),mt===null?ut=Wt:mt.sibling=Wt,mt=Wt);return gr&&ca(ge,bt),ut}for(gt=S(ge,gt);!Wt.done;bt++,Wt=ye.next())Wt=Qe(gt,ge,bt,Wt.value,Ie),Wt!==null&&(o&&Wt.alternate!==null&&gt.delete(Wt.key===null?bt:Wt.key),pe=I(Wt,pe,bt),mt===null?ut=Wt:mt.sibling=Wt,mt=Wt);return o&&gt.forEach(function(X3){return l(ge,X3)}),gr&&ca(ge,bt),ut}function jr(ge,pe,ye,Ie){if(typeof ye=="object"&&ye!==null&&ye.type===A&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case C:e:{for(var ut=ye.key,mt=pe;mt!==null;){if(mt.key===ut){if(ut=ye.type,ut===A){if(mt.tag===7){v(ge,mt.sibling),pe=k(mt,ye.props.children),pe.return=ge,ge=pe;break e}}else if(mt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&Dx(ut)===mt.type){v(ge,mt.sibling),pe=k(mt,ye.props),pe.ref=yu(ge,mt,ye),pe.return=ge,ge=pe;break e}v(ge,mt);break}else l(ge,mt);mt=mt.sibling}ye.type===A?(pe=va(ye.props.children,ge.mode,Ie,ye.key),pe.return=ge,ge=pe):(Ie=Vf(ye.type,ye.key,ye.props,null,ge.mode,Ie),Ie.ref=yu(ge,pe,ye),Ie.return=ge,ge=Ie)}return H(ge);case O:e:{for(mt=ye.key;pe!==null;){if(pe.key===mt)if(pe.tag===4&&pe.stateNode.containerInfo===ye.containerInfo&&pe.stateNode.implementation===ye.implementation){v(ge,pe.sibling),pe=k(pe,ye.children||[]),pe.return=ge,ge=pe;break e}else{v(ge,pe);break}else l(ge,pe);pe=pe.sibling}pe=Dg(ye,ge.mode,Ie),pe.return=ge,ge=pe}return H(ge);case X:return mt=ye._init,jr(ge,pe,mt(ye._payload),Ie)}if(J(ye))return tt(ge,pe,ye,Ie);if(K(ye))return st(ge,pe,ye,Ie);bf(ge,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,pe!==null&&pe.tag===6?(v(ge,pe.sibling),pe=k(pe,ye),pe.return=ge,ge=pe):(v(ge,pe),pe=Ig(ye,ge.mode,Ie),pe.return=ge,ge=pe),H(ge)):v(ge,pe)}return jr}var kl=Mx(!0),Lx=Mx(!1),wf=eo(null),xf=null,Nl=null,zm=null;function Hm(){zm=Nl=xf=null}function Wm(o){var l=wf.current;fr(wf),o._currentValue=l}function Km(o,l,v){for(;o!==null;){var S=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,S!==null&&(S.childLanes|=l)):S!==null&&(S.childLanes&l)!==l&&(S.childLanes|=l),o===v)break;o=o.return}}function Ol(o,l){xf=o,zm=Nl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Sn=!0),o.firstContext=null)}function si(o){var l=o._currentValue;if(zm!==o)if(o={context:o,memoizedValue:l,next:null},Nl===null){if(xf===null)throw Error(r(308));Nl=o,xf.dependencies={lanes:0,firstContext:o}}else Nl=Nl.next=o;return l}var ua=null;function Gm(o){ua===null?ua=[o]:ua.push(o)}function Fx(o,l,v,S){var k=l.interleaved;return k===null?(v.next=v,Gm(l)):(v.next=k.next,k.next=v),l.interleaved=v,ps(o,S)}function ps(o,l){o.lanes|=l;var v=o.alternate;for(v!==null&&(v.lanes|=l),v=o,o=o.return;o!==null;)o.childLanes|=l,v=o.alternate,v!==null&&(v.childLanes|=l),v=o,o=o.return;return v.tag===3?v.stateNode:null}var no=!1;function Qm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $x(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ms(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function io(o,l,v){var S=o.updateQueue;if(S===null)return null;if(S=S.shared,(zt&2)!==0){var k=S.pending;return k===null?l.next=l:(l.next=k.next,k.next=l),S.pending=l,ps(o,v)}return k=S.interleaved,k===null?(l.next=l,Gm(S)):(l.next=k.next,k.next=l),S.interleaved=l,ps(o,v)}function _f(o,l,v){if(l=l.updateQueue,l!==null&&(l=l.shared,(v&4194240)!==0)){var S=l.lanes;S&=o.pendingLanes,v|=S,l.lanes=v,cm(o,v)}}function qx(o,l){var v=o.updateQueue,S=o.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var k=null,I=null;if(v=v.firstBaseUpdate,v!==null){do{var H={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};I===null?k=I=H:I=I.next=H,v=v.next}while(v!==null);I===null?k=I=l:I=I.next=l}else k=I=l;v={baseState:S.baseState,firstBaseUpdate:k,lastBaseUpdate:I,shared:S.shared,effects:S.effects},o.updateQueue=v;return}o=v.lastBaseUpdate,o===null?v.firstBaseUpdate=l:o.next=l,v.lastBaseUpdate=l}function Ef(o,l,v,S){var k=o.updateQueue;no=!1;var I=k.firstBaseUpdate,H=k.lastBaseUpdate,se=k.shared.pending;if(se!==null){k.shared.pending=null;var de=se,we=de.next;de.next=null,H===null?I=we:H.next=we,H=de;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,se=Ae.lastBaseUpdate,se!==H&&(se===null?Ae.firstBaseUpdate=we:se.next=we,Ae.lastBaseUpdate=de))}if(I!==null){var Re=k.baseState;H=0,Ae=we=de=null,se=I;do{var Ne=se.lane,Qe=se.eventTime;if((S&Ne)===Ne){Ae!==null&&(Ae=Ae.next={eventTime:Qe,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var tt=o,st=se;switch(Ne=l,Qe=v,st.tag){case 1:if(tt=st.payload,typeof tt=="function"){Re=tt.call(Qe,Re,Ne);break e}Re=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=st.payload,Ne=typeof tt=="function"?tt.call(Qe,Re,Ne):tt,Ne==null)break e;Re=Q({},Re,Ne);break e;case 2:no=!0}}se.callback!==null&&se.lane!==0&&(o.flags|=64,Ne=k.effects,Ne===null?k.effects=[se]:Ne.push(se))}else Qe={eventTime:Qe,lane:Ne,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Ae===null?(we=Ae=Qe,de=Re):Ae=Ae.next=Qe,H|=Ne;if(se=se.next,se===null){if(se=k.shared.pending,se===null)break;Ne=se,se=Ne.next,Ne.next=null,k.lastBaseUpdate=Ne,k.shared.pending=null}}while(!0);if(Ae===null&&(de=Re),k.baseState=de,k.firstBaseUpdate=we,k.lastBaseUpdate=Ae,l=k.shared.interleaved,l!==null){k=l;do H|=k.lane,k=k.next;while(k!==l)}else I===null&&(k.shared.lanes=0);ha|=H,o.lanes=H,o.memoizedState=Re}}function Bx(o,l,v){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var S=o[l],k=S.callback;if(k!==null){if(S.callback=null,S=v,typeof k!="function")throw Error(r(191,k));k.call(S)}}}var bu={},Hi=eo(bu),wu=eo(bu),xu=eo(bu);function da(o){if(o===bu)throw Error(r(174));return o}function Ym(o,l){switch(lr(xu,l),lr(wu,o),lr(Hi,bu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:lt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=lt(l,o)}fr(Hi),lr(Hi,l)}function Al(){fr(Hi),fr(wu),fr(xu)}function Ux(o){da(xu.current);var l=da(Hi.current),v=lt(l,o.type);l!==v&&(lr(wu,o),lr(Hi,v))}function Zm(o){wu.current===o&&(fr(Hi),fr(wu))}var vr=eo(0);function Sf(o){for(var l=o;l!==null;){if(l.tag===13){var v=l.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Jm=[];function Xm(){for(var o=0;o<Jm.length;o++)Jm[o]._workInProgressVersionPrimary=null;Jm.length=0}var jf=w.ReactCurrentDispatcher,eg=w.ReactCurrentBatchConfig,fa=0,yr=null,Lr=null,Vr=null,Cf=!1,_u=!1,Eu=0,x3=0;function rn(){throw Error(r(321))}function tg(o,l){if(l===null)return!1;for(var v=0;v<l.length&&v<o.length;v++)if(!bi(o[v],l[v]))return!1;return!0}function rg(o,l,v,S,k,I){if(fa=I,yr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,jf.current=o===null||o.memoizedState===null?j3:C3,o=v(S,k),_u){I=0;do{if(_u=!1,Eu=0,25<=I)throw Error(r(301));I+=1,Vr=Lr=null,l.updateQueue=null,jf.current=k3,o=v(S,k)}while(_u)}if(jf.current=Of,l=Lr!==null&&Lr.next!==null,fa=0,Vr=Lr=yr=null,Cf=!1,l)throw Error(r(300));return o}function ng(){var o=Eu!==0;return Eu=0,o}function Wi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?yr.memoizedState=Vr=o:Vr=Vr.next=o,Vr}function oi(){if(Lr===null){var o=yr.alternate;o=o!==null?o.memoizedState:null}else o=Lr.next;var l=Vr===null?yr.memoizedState:Vr.next;if(l!==null)Vr=l,Lr=o;else{if(o===null)throw Error(r(310));Lr=o,o={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Vr===null?yr.memoizedState=Vr=o:Vr=Vr.next=o}return Vr}function Su(o,l){return typeof l=="function"?l(o):l}function ig(o){var l=oi(),v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=o;var S=Lr,k=S.baseQueue,I=v.pending;if(I!==null){if(k!==null){var H=k.next;k.next=I.next,I.next=H}S.baseQueue=k=I,v.pending=null}if(k!==null){I=k.next,S=S.baseState;var se=H=null,de=null,we=I;do{var Ae=we.lane;if((fa&Ae)===Ae)de!==null&&(de=de.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),S=we.hasEagerState?we.eagerState:o(S,we.action);else{var Re={lane:Ae,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};de===null?(se=de=Re,H=S):de=de.next=Re,yr.lanes|=Ae,ha|=Ae}we=we.next}while(we!==null&&we!==I);de===null?H=S:de.next=se,bi(S,l.memoizedState)||(Sn=!0),l.memoizedState=S,l.baseState=H,l.baseQueue=de,v.lastRenderedState=S}if(o=v.interleaved,o!==null){k=o;do I=k.lane,yr.lanes|=I,ha|=I,k=k.next;while(k!==o)}else k===null&&(v.lanes=0);return[l.memoizedState,v.dispatch]}function sg(o){var l=oi(),v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=o;var S=v.dispatch,k=v.pending,I=l.memoizedState;if(k!==null){v.pending=null;var H=k=k.next;do I=o(I,H.action),H=H.next;while(H!==k);bi(I,l.memoizedState)||(Sn=!0),l.memoizedState=I,l.baseQueue===null&&(l.baseState=I),v.lastRenderedState=I}return[I,S]}function Vx(){}function zx(o,l){var v=yr,S=oi(),k=l(),I=!bi(S.memoizedState,k);if(I&&(S.memoizedState=k,Sn=!0),S=S.queue,og(Kx.bind(null,v,S,o),[o]),S.getSnapshot!==l||I||Vr!==null&&Vr.memoizedState.tag&1){if(v.flags|=2048,ju(9,Wx.bind(null,v,S,k,l),void 0,null),zr===null)throw Error(r(349));(fa&30)!==0||Hx(v,l,k)}return k}function Hx(o,l,v){o.flags|=16384,o={getSnapshot:l,value:v},l=yr.updateQueue,l===null?(l={lastEffect:null,stores:null},yr.updateQueue=l,l.stores=[o]):(v=l.stores,v===null?l.stores=[o]:v.push(o))}function Wx(o,l,v,S){l.value=v,l.getSnapshot=S,Gx(l)&&Qx(o)}function Kx(o,l,v){return v(function(){Gx(l)&&Qx(o)})}function Gx(o){var l=o.getSnapshot;o=o.value;try{var v=l();return!bi(o,v)}catch{return!0}}function Qx(o){var l=ps(o,1);l!==null&&Si(l,o,1,-1)}function Yx(o){var l=Wi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:o},l.queue=o,o=o.dispatch=S3.bind(null,yr,o),[l.memoizedState,o]}function ju(o,l,v,S){return o={tag:o,create:l,destroy:v,deps:S,next:null},l=yr.updateQueue,l===null?(l={lastEffect:null,stores:null},yr.updateQueue=l,l.lastEffect=o.next=o):(v=l.lastEffect,v===null?l.lastEffect=o.next=o:(S=v.next,v.next=o,o.next=S,l.lastEffect=o)),o}function Zx(){return oi().memoizedState}function kf(o,l,v,S){var k=Wi();yr.flags|=o,k.memoizedState=ju(1|l,v,void 0,S===void 0?null:S)}function Nf(o,l,v,S){var k=oi();S=S===void 0?null:S;var I=void 0;if(Lr!==null){var H=Lr.memoizedState;if(I=H.destroy,S!==null&&tg(S,H.deps)){k.memoizedState=ju(l,v,I,S);return}}yr.flags|=o,k.memoizedState=ju(1|l,v,I,S)}function Jx(o,l){return kf(8390656,8,o,l)}function og(o,l){return Nf(2048,8,o,l)}function Xx(o,l){return Nf(4,2,o,l)}function e_(o,l){return Nf(4,4,o,l)}function t_(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function r_(o,l,v){return v=v!=null?v.concat([o]):null,Nf(4,4,t_.bind(null,l,o),v)}function ag(){}function n_(o,l){var v=oi();l=l===void 0?null:l;var S=v.memoizedState;return S!==null&&l!==null&&tg(l,S[1])?S[0]:(v.memoizedState=[o,l],o)}function i_(o,l){var v=oi();l=l===void 0?null:l;var S=v.memoizedState;return S!==null&&l!==null&&tg(l,S[1])?S[0]:(o=o(),v.memoizedState=[o,l],o)}function s_(o,l,v){return(fa&21)===0?(o.baseState&&(o.baseState=!1,Sn=!0),o.memoizedState=v):(bi(v,l)||(v=D1(),yr.lanes|=v,ha|=v,o.baseState=!0),l)}function _3(o,l){var v=er;er=v!==0&&4>v?v:4,o(!0);var S=eg.transition;eg.transition={};try{o(!1),l()}finally{er=v,eg.transition=S}}function o_(){return oi().memoizedState}function E3(o,l,v){var S=lo(o);if(v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},a_(o))l_(l,v);else if(v=Fx(o,l,v,S),v!==null){var k=un();Si(v,o,S,k),c_(v,l,S)}}function S3(o,l,v){var S=lo(o),k={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(a_(o))l_(l,k);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=l.lastRenderedReducer,I!==null))try{var H=l.lastRenderedState,se=I(H,v);if(k.hasEagerState=!0,k.eagerState=se,bi(se,H)){var de=l.interleaved;de===null?(k.next=k,Gm(l)):(k.next=de.next,de.next=k),l.interleaved=k;return}}catch{}finally{}v=Fx(o,l,k,S),v!==null&&(k=un(),Si(v,o,S,k),c_(v,l,S))}}function a_(o){var l=o.alternate;return o===yr||l!==null&&l===yr}function l_(o,l){_u=Cf=!0;var v=o.pending;v===null?l.next=l:(l.next=v.next,v.next=l),o.pending=l}function c_(o,l,v){if((v&4194240)!==0){var S=l.lanes;S&=o.pendingLanes,v|=S,l.lanes=v,cm(o,v)}}var Of={readContext:si,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},j3={readContext:si,useCallback:function(o,l){return Wi().memoizedState=[o,l===void 0?null:l],o},useContext:si,useEffect:Jx,useImperativeHandle:function(o,l,v){return v=v!=null?v.concat([o]):null,kf(4194308,4,t_.bind(null,l,o),v)},useLayoutEffect:function(o,l){return kf(4194308,4,o,l)},useInsertionEffect:function(o,l){return kf(4,2,o,l)},useMemo:function(o,l){var v=Wi();return l=l===void 0?null:l,o=o(),v.memoizedState=[o,l],o},useReducer:function(o,l,v){var S=Wi();return l=v!==void 0?v(l):l,S.memoizedState=S.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},S.queue=o,o=o.dispatch=E3.bind(null,yr,o),[S.memoizedState,o]},useRef:function(o){var l=Wi();return o={current:o},l.memoizedState=o},useState:Yx,useDebugValue:ag,useDeferredValue:function(o){return Wi().memoizedState=o},useTransition:function(){var o=Yx(!1),l=o[0];return o=_3.bind(null,o[1]),Wi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,v){var S=yr,k=Wi();if(gr){if(v===void 0)throw Error(r(407));v=v()}else{if(v=l(),zr===null)throw Error(r(349));(fa&30)!==0||Hx(S,l,v)}k.memoizedState=v;var I={value:v,getSnapshot:l};return k.queue=I,Jx(Kx.bind(null,S,I,o),[o]),S.flags|=2048,ju(9,Wx.bind(null,S,I,v,l),void 0,null),v},useId:function(){var o=Wi(),l=zr.identifierPrefix;if(gr){var v=hs,S=fs;v=(S&~(1<<32-yi(S)-1)).toString(32)+v,l=":"+l+"R"+v,v=Eu++,0<v&&(l+="H"+v.toString(32)),l+=":"}else v=x3++,l=":"+l+"r"+v.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},C3={readContext:si,useCallback:n_,useContext:si,useEffect:og,useImperativeHandle:r_,useInsertionEffect:Xx,useLayoutEffect:e_,useMemo:i_,useReducer:ig,useRef:Zx,useState:function(){return ig(Su)},useDebugValue:ag,useDeferredValue:function(o){var l=oi();return s_(l,Lr.memoizedState,o)},useTransition:function(){var o=ig(Su)[0],l=oi().memoizedState;return[o,l]},useMutableSource:Vx,useSyncExternalStore:zx,useId:o_,unstable_isNewReconciler:!1},k3={readContext:si,useCallback:n_,useContext:si,useEffect:og,useImperativeHandle:r_,useInsertionEffect:Xx,useLayoutEffect:e_,useMemo:i_,useReducer:sg,useRef:Zx,useState:function(){return sg(Su)},useDebugValue:ag,useDeferredValue:function(o){var l=oi();return Lr===null?l.memoizedState=o:s_(l,Lr.memoizedState,o)},useTransition:function(){var o=sg(Su)[0],l=oi().memoizedState;return[o,l]},useMutableSource:Vx,useSyncExternalStore:zx,useId:o_,unstable_isNewReconciler:!1};function xi(o,l){if(o&&o.defaultProps){l=Q({},l),o=o.defaultProps;for(var v in o)l[v]===void 0&&(l[v]=o[v]);return l}return l}function lg(o,l,v,S){l=o.memoizedState,v=v(S,l),v=v==null?l:Q({},l,v),o.memoizedState=v,o.lanes===0&&(o.updateQueue.baseState=v)}var Af={isMounted:function(o){return(o=o._reactInternals)?sa(o)===o:!1},enqueueSetState:function(o,l,v){o=o._reactInternals;var S=un(),k=lo(o),I=ms(S,k);I.payload=l,v!=null&&(I.callback=v),l=io(o,I,k),l!==null&&(Si(l,o,k,S),_f(l,o,k))},enqueueReplaceState:function(o,l,v){o=o._reactInternals;var S=un(),k=lo(o),I=ms(S,k);I.tag=1,I.payload=l,v!=null&&(I.callback=v),l=io(o,I,k),l!==null&&(Si(l,o,k,S),_f(l,o,k))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var v=un(),S=lo(o),k=ms(v,S);k.tag=2,l!=null&&(k.callback=l),l=io(o,k,S),l!==null&&(Si(l,o,S,v),_f(l,o,S))}};function u_(o,l,v,S,k,I,H){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(S,I,H):l.prototype&&l.prototype.isPureReactComponent?!du(v,S)||!du(k,I):!0}function d_(o,l,v){var S=!1,k=to,I=l.contextType;return typeof I=="object"&&I!==null?I=si(I):(k=En(l)?aa:tn.current,S=l.contextTypes,I=(S=S!=null)?El(o,k):to),l=new l(v,I),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Af,o.stateNode=l,l._reactInternals=o,S&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=k,o.__reactInternalMemoizedMaskedChildContext=I),l}function f_(o,l,v,S){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(v,S),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(v,S),l.state!==o&&Af.enqueueReplaceState(l,l.state,null)}function cg(o,l,v,S){var k=o.stateNode;k.props=v,k.state=o.memoizedState,k.refs={},Qm(o);var I=l.contextType;typeof I=="object"&&I!==null?k.context=si(I):(I=En(l)?aa:tn.current,k.context=El(o,I)),k.state=o.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(lg(o,l,I,v),k.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(l=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),l!==k.state&&Af.enqueueReplaceState(k,k.state,null),Ef(o,v,k,S),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308)}function Tl(o,l){try{var v="",S=l;do v+=ee(S),S=S.return;while(S);var k=v}catch(I){k=`
Error generating stack: `+I.message+`
`+I.stack}return{value:o,source:l,stack:k,digest:null}}function ug(o,l,v){return{value:o,source:null,stack:v??null,digest:l??null}}function dg(o,l){try{console.error(l.value)}catch(v){setTimeout(function(){throw v})}}var N3=typeof WeakMap=="function"?WeakMap:Map;function h_(o,l,v){v=ms(-1,v),v.tag=3,v.payload={element:null};var S=l.value;return v.callback=function(){Lf||(Lf=!0,Cg=S),dg(o,l)},v}function p_(o,l,v){v=ms(-1,v),v.tag=3;var S=o.type.getDerivedStateFromError;if(typeof S=="function"){var k=l.value;v.payload=function(){return S(k)},v.callback=function(){dg(o,l)}}var I=o.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(v.callback=function(){dg(o,l),typeof S!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var H=l.stack;this.componentDidCatch(l.value,{componentStack:H!==null?H:""})}),v}function m_(o,l,v){var S=o.pingCache;if(S===null){S=o.pingCache=new N3;var k=new Set;S.set(l,k)}else k=S.get(l),k===void 0&&(k=new Set,S.set(l,k));k.has(v)||(k.add(v),o=U3.bind(null,o,l,v),l.then(o,o))}function g_(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function v_(o,l,v,S,k){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(l=ms(-1,1),l.tag=2,io(v,l,1))),v.lanes|=1),o):(o.flags|=65536,o.lanes=k,o)}var O3=w.ReactCurrentOwner,Sn=!1;function cn(o,l,v,S){l.child=o===null?Lx(l,null,v,S):kl(l,o.child,v,S)}function y_(o,l,v,S,k){v=v.render;var I=l.ref;return Ol(l,k),S=rg(o,l,v,S,I,k),v=ng(),o!==null&&!Sn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~k,gs(o,l,k)):(gr&&v&&$m(l),l.flags|=1,cn(o,l,S,k),l.child)}function b_(o,l,v,S,k){if(o===null){var I=v.type;return typeof I=="function"&&!Pg(I)&&I.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(l.tag=15,l.type=I,w_(o,l,I,S,k)):(o=Vf(v.type,null,S,l,l.mode,k),o.ref=l.ref,o.return=l,l.child=o)}if(I=o.child,(o.lanes&k)===0){var H=I.memoizedProps;if(v=v.compare,v=v!==null?v:du,v(H,S)&&o.ref===l.ref)return gs(o,l,k)}return l.flags|=1,o=uo(I,S),o.ref=l.ref,o.return=l,l.child=o}function w_(o,l,v,S,k){if(o!==null){var I=o.memoizedProps;if(du(I,S)&&o.ref===l.ref)if(Sn=!1,l.pendingProps=S=I,(o.lanes&k)!==0)(o.flags&131072)!==0&&(Sn=!0);else return l.lanes=o.lanes,gs(o,l,k)}return fg(o,l,v,S,k)}function x_(o,l,v){var S=l.pendingProps,k=S.children,I=o!==null?o.memoizedState:null;if(S.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(Pl,qn),qn|=v;else{if((v&1073741824)===0)return o=I!==null?I.baseLanes|v:v,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,lr(Pl,qn),qn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=I!==null?I.baseLanes:v,lr(Pl,qn),qn|=S}else I!==null?(S=I.baseLanes|v,l.memoizedState=null):S=v,lr(Pl,qn),qn|=S;return cn(o,l,k,v),l.child}function __(o,l){var v=l.ref;(o===null&&v!==null||o!==null&&o.ref!==v)&&(l.flags|=512,l.flags|=2097152)}function fg(o,l,v,S,k){var I=En(v)?aa:tn.current;return I=El(l,I),Ol(l,k),v=rg(o,l,v,S,I,k),S=ng(),o!==null&&!Sn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~k,gs(o,l,k)):(gr&&S&&$m(l),l.flags|=1,cn(o,l,v,k),l.child)}function E_(o,l,v,S,k){if(En(v)){var I=!0;pf(l)}else I=!1;if(Ol(l,k),l.stateNode===null)Rf(o,l),d_(l,v,S),cg(l,v,S,k),S=!0;else if(o===null){var H=l.stateNode,se=l.memoizedProps;H.props=se;var de=H.context,we=v.contextType;typeof we=="object"&&we!==null?we=si(we):(we=En(v)?aa:tn.current,we=El(l,we));var Ae=v.getDerivedStateFromProps,Re=typeof Ae=="function"||typeof H.getSnapshotBeforeUpdate=="function";Re||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==S||de!==we)&&f_(l,H,S,we),no=!1;var Ne=l.memoizedState;H.state=Ne,Ef(l,S,H,k),de=l.memoizedState,se!==S||Ne!==de||_n.current||no?(typeof Ae=="function"&&(lg(l,v,Ae,S),de=l.memoizedState),(se=no||u_(l,v,se,S,Ne,de,we))?(Re||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(l.flags|=4194308)):(typeof H.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=S,l.memoizedState=de),H.props=S,H.state=de,H.context=we,S=se):(typeof H.componentDidMount=="function"&&(l.flags|=4194308),S=!1)}else{H=l.stateNode,$x(o,l),se=l.memoizedProps,we=l.type===l.elementType?se:xi(l.type,se),H.props=we,Re=l.pendingProps,Ne=H.context,de=v.contextType,typeof de=="object"&&de!==null?de=si(de):(de=En(v)?aa:tn.current,de=El(l,de));var Qe=v.getDerivedStateFromProps;(Ae=typeof Qe=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==Re||Ne!==de)&&f_(l,H,S,de),no=!1,Ne=l.memoizedState,H.state=Ne,Ef(l,S,H,k);var tt=l.memoizedState;se!==Re||Ne!==tt||_n.current||no?(typeof Qe=="function"&&(lg(l,v,Qe,S),tt=l.memoizedState),(we=no||u_(l,v,we,S,Ne,tt,de)||!1)?(Ae||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(S,tt,de),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(S,tt,de)),typeof H.componentDidUpdate=="function"&&(l.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof H.componentDidUpdate!="function"||se===o.memoizedProps&&Ne===o.memoizedState||(l.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Ne===o.memoizedState||(l.flags|=1024),l.memoizedProps=S,l.memoizedState=tt),H.props=S,H.state=tt,H.context=de,S=we):(typeof H.componentDidUpdate!="function"||se===o.memoizedProps&&Ne===o.memoizedState||(l.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Ne===o.memoizedState||(l.flags|=1024),S=!1)}return hg(o,l,v,S,I,k)}function hg(o,l,v,S,k,I){__(o,l);var H=(l.flags&128)!==0;if(!S&&!H)return k&&Nx(l,v,!1),gs(o,l,I);S=l.stateNode,O3.current=l;var se=H&&typeof v.getDerivedStateFromError!="function"?null:S.render();return l.flags|=1,o!==null&&H?(l.child=kl(l,o.child,null,I),l.child=kl(l,null,se,I)):cn(o,l,se,I),l.memoizedState=S.state,k&&Nx(l,v,!0),l.child}function S_(o){var l=o.stateNode;l.pendingContext?Cx(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Cx(o,l.context,!1),Ym(o,l.containerInfo)}function j_(o,l,v,S,k){return Cl(),Vm(k),l.flags|=256,cn(o,l,v,S),l.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function mg(o){return{baseLanes:o,cachePool:null,transitions:null}}function C_(o,l,v){var S=l.pendingProps,k=vr.current,I=!1,H=(l.flags&128)!==0,se;if((se=H)||(se=o!==null&&o.memoizedState===null?!1:(k&2)!==0),se?(I=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(k|=1),lr(vr,k&1),o===null)return Um(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(H=S.children,o=S.fallback,I?(S=l.mode,I=l.child,H={mode:"hidden",children:H},(S&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=H):I=zf(H,S,0,null),o=va(o,S,v,null),I.return=l,o.return=l,I.sibling=o,l.child=I,l.child.memoizedState=mg(v),l.memoizedState=pg,o):gg(l,H));if(k=o.memoizedState,k!==null&&(se=k.dehydrated,se!==null))return A3(o,l,H,S,se,k,v);if(I){I=S.fallback,H=l.mode,k=o.child,se=k.sibling;var de={mode:"hidden",children:S.children};return(H&1)===0&&l.child!==k?(S=l.child,S.childLanes=0,S.pendingProps=de,l.deletions=null):(S=uo(k,de),S.subtreeFlags=k.subtreeFlags&14680064),se!==null?I=uo(se,I):(I=va(I,H,v,null),I.flags|=2),I.return=l,S.return=l,S.sibling=I,l.child=S,S=I,I=l.child,H=o.child.memoizedState,H=H===null?mg(v):{baseLanes:H.baseLanes|v,cachePool:null,transitions:H.transitions},I.memoizedState=H,I.childLanes=o.childLanes&~v,l.memoizedState=pg,S}return I=o.child,o=I.sibling,S=uo(I,{mode:"visible",children:S.children}),(l.mode&1)===0&&(S.lanes=v),S.return=l,S.sibling=null,o!==null&&(v=l.deletions,v===null?(l.deletions=[o],l.flags|=16):v.push(o)),l.child=S,l.memoizedState=null,S}function gg(o,l){return l=zf({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Tf(o,l,v,S){return S!==null&&Vm(S),kl(l,o.child,null,v),o=gg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function A3(o,l,v,S,k,I,H){if(v)return l.flags&256?(l.flags&=-257,S=ug(Error(r(422))),Tf(o,l,H,S)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(I=S.fallback,k=l.mode,S=zf({mode:"visible",children:S.children},k,0,null),I=va(I,k,H,null),I.flags|=2,S.return=l,I.return=l,S.sibling=I,l.child=S,(l.mode&1)!==0&&kl(l,o.child,null,H),l.child.memoizedState=mg(H),l.memoizedState=pg,I);if((l.mode&1)===0)return Tf(o,l,H,null);if(k.data==="$!"){if(S=k.nextSibling&&k.nextSibling.dataset,S)var se=S.dgst;return S=se,I=Error(r(419)),S=ug(I,S,void 0),Tf(o,l,H,S)}if(se=(H&o.childLanes)!==0,Sn||se){if(S=zr,S!==null){switch(H&-H){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(S.suspendedLanes|H))!==0?0:k,k!==0&&k!==I.retryLane&&(I.retryLane=k,ps(o,k),Si(S,o,k,-1))}return Rg(),S=ug(Error(r(421))),Tf(o,l,H,S)}return k.data==="$?"?(l.flags|=128,l.child=o.child,l=V3.bind(null,o),k._reactRetry=l,null):(o=I.treeContext,$n=Xs(k.nextSibling),Fn=l,gr=!0,wi=null,o!==null&&(ni[ii++]=fs,ni[ii++]=hs,ni[ii++]=la,fs=o.id,hs=o.overflow,la=l),l=gg(l,S.children),l.flags|=4096,l)}function k_(o,l,v){o.lanes|=l;var S=o.alternate;S!==null&&(S.lanes|=l),Km(o.return,l,v)}function vg(o,l,v,S,k){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:k}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=S,I.tail=v,I.tailMode=k)}function N_(o,l,v){var S=l.pendingProps,k=S.revealOrder,I=S.tail;if(cn(o,l,S.children,v),S=vr.current,(S&2)!==0)S=S&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&k_(o,v,l);else if(o.tag===19)k_(o,v,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}S&=1}if(lr(vr,S),(l.mode&1)===0)l.memoizedState=null;else switch(k){case"forwards":for(v=l.child,k=null;v!==null;)o=v.alternate,o!==null&&Sf(o)===null&&(k=v),v=v.sibling;v=k,v===null?(k=l.child,l.child=null):(k=v.sibling,v.sibling=null),vg(l,!1,k,v,I);break;case"backwards":for(v=null,k=l.child,l.child=null;k!==null;){if(o=k.alternate,o!==null&&Sf(o)===null){l.child=k;break}o=k.sibling,k.sibling=v,v=k,k=o}vg(l,!0,v,null,I);break;case"together":vg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Rf(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function gs(o,l,v){if(o!==null&&(l.dependencies=o.dependencies),ha|=l.lanes,(v&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,v=uo(o,o.pendingProps),l.child=v,v.return=l;o.sibling!==null;)o=o.sibling,v=v.sibling=uo(o,o.pendingProps),v.return=l;v.sibling=null}return l.child}function T3(o,l,v){switch(l.tag){case 3:S_(l),Cl();break;case 5:Ux(l);break;case 1:En(l.type)&&pf(l);break;case 4:Ym(l,l.stateNode.containerInfo);break;case 10:var S=l.type._context,k=l.memoizedProps.value;lr(wf,S._currentValue),S._currentValue=k;break;case 13:if(S=l.memoizedState,S!==null)return S.dehydrated!==null?(lr(vr,vr.current&1),l.flags|=128,null):(v&l.child.childLanes)!==0?C_(o,l,v):(lr(vr,vr.current&1),o=gs(o,l,v),o!==null?o.sibling:null);lr(vr,vr.current&1);break;case 19:if(S=(v&l.childLanes)!==0,(o.flags&128)!==0){if(S)return N_(o,l,v);l.flags|=128}if(k=l.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),lr(vr,vr.current),S)break;return null;case 22:case 23:return l.lanes=0,x_(o,l,v)}return gs(o,l,v)}var O_,yg,A_,T_;O_=function(o,l){for(var v=l.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break;for(;v.sibling===null;){if(v.return===null||v.return===l)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},yg=function(){},A_=function(o,l,v,S){var k=o.memoizedProps;if(k!==S){o=l.stateNode,da(Hi.current);var I=null;switch(v){case"input":k=Ze(o,k),S=Ze(o,S),I=[];break;case"select":k=Q({},k,{value:void 0}),S=Q({},S,{value:void 0}),I=[];break;case"textarea":k=ae(o,k),S=ae(o,S),I=[];break;default:typeof k.onClick!="function"&&typeof S.onClick=="function"&&(o.onclick=df)}Se(v,S);var H;v=null;for(we in k)if(!S.hasOwnProperty(we)&&k.hasOwnProperty(we)&&k[we]!=null)if(we==="style"){var se=k[we];for(H in se)se.hasOwnProperty(H)&&(v||(v={}),v[H]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(i.hasOwnProperty(we)?I||(I=[]):(I=I||[]).push(we,null));for(we in S){var de=S[we];if(se=k!=null?k[we]:void 0,S.hasOwnProperty(we)&&de!==se&&(de!=null||se!=null))if(we==="style")if(se){for(H in se)!se.hasOwnProperty(H)||de&&de.hasOwnProperty(H)||(v||(v={}),v[H]="");for(H in de)de.hasOwnProperty(H)&&se[H]!==de[H]&&(v||(v={}),v[H]=de[H])}else v||(I||(I=[]),I.push(we,v)),v=de;else we==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,se=se?se.__html:void 0,de!=null&&se!==de&&(I=I||[]).push(we,de)):we==="children"?typeof de!="string"&&typeof de!="number"||(I=I||[]).push(we,""+de):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(i.hasOwnProperty(we)?(de!=null&&we==="onScroll"&&dr("scroll",o),I||se===de||(I=[])):(I=I||[]).push(we,de))}v&&(I=I||[]).push("style",v);var we=I;(l.updateQueue=we)&&(l.flags|=4)}},T_=function(o,l,v,S){v!==S&&(l.flags|=4)};function Cu(o,l){if(!gr)switch(o.tailMode){case"hidden":l=o.tail;for(var v=null;l!==null;)l.alternate!==null&&(v=l),l=l.sibling;v===null?o.tail=null:v.sibling=null;break;case"collapsed":v=o.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:S.sibling=null}}function nn(o){var l=o.alternate!==null&&o.alternate.child===o.child,v=0,S=0;if(l)for(var k=o.child;k!==null;)v|=k.lanes|k.childLanes,S|=k.subtreeFlags&14680064,S|=k.flags&14680064,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)v|=k.lanes|k.childLanes,S|=k.subtreeFlags,S|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=S,o.childLanes=v,l}function R3(o,l,v){var S=l.pendingProps;switch(qm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(l),null;case 1:return En(l.type)&&hf(),nn(l),null;case 3:return S=l.stateNode,Al(),fr(_n),fr(tn),Xm(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(o===null||o.child===null)&&(yf(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,wi!==null&&(Og(wi),wi=null))),yg(o,l),nn(l),null;case 5:Zm(l);var k=da(xu.current);if(v=l.type,o!==null&&l.stateNode!=null)A_(o,l,v,S,k),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!S){if(l.stateNode===null)throw Error(r(166));return nn(l),null}if(o=da(Hi.current),yf(l)){S=l.stateNode,v=l.type;var I=l.memoizedProps;switch(S[zi]=l,S[gu]=I,o=(l.mode&1)!==0,v){case"dialog":dr("cancel",S),dr("close",S);break;case"iframe":case"object":case"embed":dr("load",S);break;case"video":case"audio":for(k=0;k<hu.length;k++)dr(hu[k],S);break;case"source":dr("error",S);break;case"img":case"image":case"link":dr("error",S),dr("load",S);break;case"details":dr("toggle",S);break;case"input":pt(S,I),dr("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!I.multiple},dr("invalid",S);break;case"textarea":Ee(S,I),dr("invalid",S)}Se(v,I),k=null;for(var H in I)if(I.hasOwnProperty(H)){var se=I[H];H==="children"?typeof se=="string"?S.textContent!==se&&(I.suppressHydrationWarning!==!0&&uf(S.textContent,se,o),k=["children",se]):typeof se=="number"&&S.textContent!==""+se&&(I.suppressHydrationWarning!==!0&&uf(S.textContent,se,o),k=["children",""+se]):i.hasOwnProperty(H)&&se!=null&&H==="onScroll"&&dr("scroll",S)}switch(v){case"input":je(S),xe(S,I,!0);break;case"textarea":je(S),ve(S);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(S.onclick=df)}S=k,l.updateQueue=S,S!==null&&(l.flags|=4)}else{H=k.nodeType===9?k:k.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Oe(v)),o==="http://www.w3.org/1999/xhtml"?v==="script"?(o=H.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof S.is=="string"?o=H.createElement(v,{is:S.is}):(o=H.createElement(v),v==="select"&&(H=o,S.multiple?H.multiple=!0:S.size&&(H.size=S.size))):o=H.createElementNS(o,v),o[zi]=l,o[gu]=S,O_(o,l,!1,!1),l.stateNode=o;e:{switch(H=yt(v,S),v){case"dialog":dr("cancel",o),dr("close",o),k=S;break;case"iframe":case"object":case"embed":dr("load",o),k=S;break;case"video":case"audio":for(k=0;k<hu.length;k++)dr(hu[k],o);k=S;break;case"source":dr("error",o),k=S;break;case"img":case"image":case"link":dr("error",o),dr("load",o),k=S;break;case"details":dr("toggle",o),k=S;break;case"input":pt(o,S),k=Ze(o,S),dr("invalid",o);break;case"option":k=S;break;case"select":o._wrapperState={wasMultiple:!!S.multiple},k=Q({},S,{value:void 0}),dr("invalid",o);break;case"textarea":Ee(o,S),k=ae(o,S),dr("invalid",o);break;default:k=S}Se(v,k),se=k;for(I in se)if(se.hasOwnProperty(I)){var de=se[I];I==="style"?fe(o,de):I==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Et(o,de)):I==="children"?typeof de=="string"?(v!=="textarea"||de!=="")&&V(o,de):typeof de=="number"&&V(o,""+de):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?de!=null&&I==="onScroll"&&dr("scroll",o):de!=null&&j(o,I,de,H))}switch(v){case"input":je(o),xe(o,S,!1);break;case"textarea":je(o),ve(o);break;case"option":S.value!=null&&o.setAttribute("value",""+le(S.value));break;case"select":o.multiple=!!S.multiple,I=S.value,I!=null?oe(o,!!S.multiple,I,!1):S.defaultValue!=null&&oe(o,!!S.multiple,S.defaultValue,!0);break;default:typeof k.onClick=="function"&&(o.onclick=df)}switch(v){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return nn(l),null;case 6:if(o&&l.stateNode!=null)T_(o,l,o.memoizedProps,S);else{if(typeof S!="string"&&l.stateNode===null)throw Error(r(166));if(v=da(xu.current),da(Hi.current),yf(l)){if(S=l.stateNode,v=l.memoizedProps,S[zi]=l,(I=S.nodeValue!==v)&&(o=Fn,o!==null))switch(o.tag){case 3:uf(S.nodeValue,v,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&uf(S.nodeValue,v,(o.mode&1)!==0)}I&&(l.flags|=4)}else S=(v.nodeType===9?v:v.ownerDocument).createTextNode(S),S[zi]=l,l.stateNode=S}return nn(l),null;case 13:if(fr(vr),S=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(gr&&$n!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Ix(),Cl(),l.flags|=98560,I=!1;else if(I=yf(l),S!==null&&S.dehydrated!==null){if(o===null){if(!I)throw Error(r(318));if(I=l.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[zi]=l}else Cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),I=!1}else wi!==null&&(Og(wi),wi=null),I=!0;if(!I)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=v,l):(S=S!==null,S!==(o!==null&&o.memoizedState!==null)&&S&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(vr.current&1)!==0?Fr===0&&(Fr=3):Rg())),l.updateQueue!==null&&(l.flags|=4),nn(l),null);case 4:return Al(),yg(o,l),o===null&&pu(l.stateNode.containerInfo),nn(l),null;case 10:return Wm(l.type._context),nn(l),null;case 17:return En(l.type)&&hf(),nn(l),null;case 19:if(fr(vr),I=l.memoizedState,I===null)return nn(l),null;if(S=(l.flags&128)!==0,H=I.rendering,H===null)if(S)Cu(I,!1);else{if(Fr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(H=Sf(o),H!==null){for(l.flags|=128,Cu(I,!1),S=H.updateQueue,S!==null&&(l.updateQueue=S,l.flags|=4),l.subtreeFlags=0,S=v,v=l.child;v!==null;)I=v,o=S,I.flags&=14680066,H=I.alternate,H===null?(I.childLanes=0,I.lanes=o,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=H.childLanes,I.lanes=H.lanes,I.child=H.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=H.memoizedProps,I.memoizedState=H.memoizedState,I.updateQueue=H.updateQueue,I.type=H.type,o=H.dependencies,I.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),v=v.sibling;return lr(vr,vr.current&1|2),l.child}o=o.sibling}I.tail!==null&&Sr()>Il&&(l.flags|=128,S=!0,Cu(I,!1),l.lanes=4194304)}else{if(!S)if(o=Sf(H),o!==null){if(l.flags|=128,S=!0,v=o.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),Cu(I,!0),I.tail===null&&I.tailMode==="hidden"&&!H.alternate&&!gr)return nn(l),null}else 2*Sr()-I.renderingStartTime>Il&&v!==1073741824&&(l.flags|=128,S=!0,Cu(I,!1),l.lanes=4194304);I.isBackwards?(H.sibling=l.child,l.child=H):(v=I.last,v!==null?v.sibling=H:l.child=H,I.last=H)}return I.tail!==null?(l=I.tail,I.rendering=l,I.tail=l.sibling,I.renderingStartTime=Sr(),l.sibling=null,v=vr.current,lr(vr,S?v&1|2:v&1),l):(nn(l),null);case 22:case 23:return Tg(),S=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==S&&(l.flags|=8192),S&&(l.mode&1)!==0?(qn&1073741824)!==0&&(nn(l),l.subtreeFlags&6&&(l.flags|=8192)):nn(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function P3(o,l){switch(qm(l),l.tag){case 1:return En(l.type)&&hf(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Al(),fr(_n),fr(tn),Xm(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Zm(l),null;case 13:if(fr(vr),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Cl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return fr(vr),null;case 4:return Al(),null;case 10:return Wm(l.type._context),null;case 22:case 23:return Tg(),null;case 24:return null;default:return null}}var Pf=!1,sn=!1,I3=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Rl(o,l){var v=o.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){xr(o,l,S)}else v.current=null}function bg(o,l,v){try{v()}catch(S){xr(o,l,S)}}var R_=!1;function D3(o,l){if(Tm=Jd,o=ux(),Em(o)){if("selectionStart"in o)var v={start:o.selectionStart,end:o.selectionEnd};else e:{v=(v=o.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var k=S.anchorOffset,I=S.focusNode;S=S.focusOffset;try{v.nodeType,I.nodeType}catch{v=null;break e}var H=0,se=-1,de=-1,we=0,Ae=0,Re=o,Ne=null;t:for(;;){for(var Qe;Re!==v||k!==0&&Re.nodeType!==3||(se=H+k),Re!==I||S!==0&&Re.nodeType!==3||(de=H+S),Re.nodeType===3&&(H+=Re.nodeValue.length),(Qe=Re.firstChild)!==null;)Ne=Re,Re=Qe;for(;;){if(Re===o)break t;if(Ne===v&&++we===k&&(se=H),Ne===I&&++Ae===S&&(de=H),(Qe=Re.nextSibling)!==null)break;Re=Ne,Ne=Re.parentNode}Re=Qe}v=se===-1||de===-1?null:{start:se,end:de}}else v=null}v=v||{start:0,end:0}}else v=null;for(Rm={focusedElem:o,selectionRange:v},Jd=!1,Je=l;Je!==null;)if(l=Je,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Je=o;else for(;Je!==null;){l=Je;try{var tt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var st=tt.memoizedProps,jr=tt.memoizedState,ge=l.stateNode,pe=ge.getSnapshotBeforeUpdate(l.elementType===l.type?st:xi(l.type,st),jr);ge.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var ye=l.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ie){xr(l,l.return,Ie)}if(o=l.sibling,o!==null){o.return=l.return,Je=o;break}Je=l.return}return tt=R_,R_=!1,tt}function ku(o,l,v){var S=l.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var k=S=S.next;do{if((k.tag&o)===o){var I=k.destroy;k.destroy=void 0,I!==void 0&&bg(l,v,I)}k=k.next}while(k!==S)}}function If(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var v=l=l.next;do{if((v.tag&o)===o){var S=v.create;v.destroy=S()}v=v.next}while(v!==l)}}function wg(o){var l=o.ref;if(l!==null){var v=o.stateNode;switch(o.tag){case 5:o=v;break;default:o=v}typeof l=="function"?l(o):l.current=o}}function P_(o){var l=o.alternate;l!==null&&(o.alternate=null,P_(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[zi],delete l[gu],delete l[Mm],delete l[v3],delete l[y3])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function I_(o){return o.tag===5||o.tag===3||o.tag===4}function D_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||I_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xg(o,l,v){var S=o.tag;if(S===5||S===6)o=o.stateNode,l?v.nodeType===8?v.parentNode.insertBefore(o,l):v.insertBefore(o,l):(v.nodeType===8?(l=v.parentNode,l.insertBefore(o,v)):(l=v,l.appendChild(o)),v=v._reactRootContainer,v!=null||l.onclick!==null||(l.onclick=df));else if(S!==4&&(o=o.child,o!==null))for(xg(o,l,v),o=o.sibling;o!==null;)xg(o,l,v),o=o.sibling}function _g(o,l,v){var S=o.tag;if(S===5||S===6)o=o.stateNode,l?v.insertBefore(o,l):v.appendChild(o);else if(S!==4&&(o=o.child,o!==null))for(_g(o,l,v),o=o.sibling;o!==null;)_g(o,l,v),o=o.sibling}var Qr=null,_i=!1;function so(o,l,v){for(v=v.child;v!==null;)M_(o,l,v),v=v.sibling}function M_(o,l,v){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Wd,v)}catch{}switch(v.tag){case 5:sn||Rl(v,l);case 6:var S=Qr,k=_i;Qr=null,so(o,l,v),Qr=S,_i=k,Qr!==null&&(_i?(o=Qr,v=v.stateNode,o.nodeType===8?o.parentNode.removeChild(v):o.removeChild(v)):Qr.removeChild(v.stateNode));break;case 18:Qr!==null&&(_i?(o=Qr,v=v.stateNode,o.nodeType===8?Dm(o.parentNode,v):o.nodeType===1&&Dm(o,v),su(o)):Dm(Qr,v.stateNode));break;case 4:S=Qr,k=_i,Qr=v.stateNode.containerInfo,_i=!0,so(o,l,v),Qr=S,_i=k;break;case 0:case 11:case 14:case 15:if(!sn&&(S=v.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){k=S=S.next;do{var I=k,H=I.destroy;I=I.tag,H!==void 0&&((I&2)!==0||(I&4)!==0)&&bg(v,l,H),k=k.next}while(k!==S)}so(o,l,v);break;case 1:if(!sn&&(Rl(v,l),S=v.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(se){xr(v,l,se)}so(o,l,v);break;case 21:so(o,l,v);break;case 22:v.mode&1?(sn=(S=sn)||v.memoizedState!==null,so(o,l,v),sn=S):so(o,l,v);break;default:so(o,l,v)}}function L_(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var v=o.stateNode;v===null&&(v=o.stateNode=new I3),l.forEach(function(S){var k=z3.bind(null,o,S);v.has(S)||(v.add(S),S.then(k,k))})}}function Ei(o,l){var v=l.deletions;if(v!==null)for(var S=0;S<v.length;S++){var k=v[S];try{var I=o,H=l,se=H;e:for(;se!==null;){switch(se.tag){case 5:Qr=se.stateNode,_i=!1;break e;case 3:Qr=se.stateNode.containerInfo,_i=!0;break e;case 4:Qr=se.stateNode.containerInfo,_i=!0;break e}se=se.return}if(Qr===null)throw Error(r(160));M_(I,H,k),Qr=null,_i=!1;var de=k.alternate;de!==null&&(de.return=null),k.return=null}catch(we){xr(k,l,we)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)F_(l,o),l=l.sibling}function F_(o,l){var v=o.alternate,S=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ei(l,o),Ki(o),S&4){try{ku(3,o,o.return),If(3,o)}catch(st){xr(o,o.return,st)}try{ku(5,o,o.return)}catch(st){xr(o,o.return,st)}}break;case 1:Ei(l,o),Ki(o),S&512&&v!==null&&Rl(v,v.return);break;case 5:if(Ei(l,o),Ki(o),S&512&&v!==null&&Rl(v,v.return),o.flags&32){var k=o.stateNode;try{V(k,"")}catch(st){xr(o,o.return,st)}}if(S&4&&(k=o.stateNode,k!=null)){var I=o.memoizedProps,H=v!==null?v.memoizedProps:I,se=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{se==="input"&&I.type==="radio"&&I.name!=null&&_t(k,I),yt(se,H);var we=yt(se,I);for(H=0;H<de.length;H+=2){var Ae=de[H],Re=de[H+1];Ae==="style"?fe(k,Re):Ae==="dangerouslySetInnerHTML"?Et(k,Re):Ae==="children"?V(k,Re):j(k,Ae,Re,we)}switch(se){case"input":xt(k,I);break;case"textarea":he(k,I);break;case"select":var Ne=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!I.multiple;var Qe=I.value;Qe!=null?oe(k,!!I.multiple,Qe,!1):Ne!==!!I.multiple&&(I.defaultValue!=null?oe(k,!!I.multiple,I.defaultValue,!0):oe(k,!!I.multiple,I.multiple?[]:"",!1))}k[gu]=I}catch(st){xr(o,o.return,st)}}break;case 6:if(Ei(l,o),Ki(o),S&4){if(o.stateNode===null)throw Error(r(162));k=o.stateNode,I=o.memoizedProps;try{k.nodeValue=I}catch(st){xr(o,o.return,st)}}break;case 3:if(Ei(l,o),Ki(o),S&4&&v!==null&&v.memoizedState.isDehydrated)try{su(l.containerInfo)}catch(st){xr(o,o.return,st)}break;case 4:Ei(l,o),Ki(o);break;case 13:Ei(l,o),Ki(o),k=o.child,k.flags&8192&&(I=k.memoizedState!==null,k.stateNode.isHidden=I,!I||k.alternate!==null&&k.alternate.memoizedState!==null||(jg=Sr())),S&4&&L_(o);break;case 22:if(Ae=v!==null&&v.memoizedState!==null,o.mode&1?(sn=(we=sn)||Ae,Ei(l,o),sn=we):Ei(l,o),Ki(o),S&8192){if(we=o.memoizedState!==null,(o.stateNode.isHidden=we)&&!Ae&&(o.mode&1)!==0)for(Je=o,Ae=o.child;Ae!==null;){for(Re=Je=Ae;Je!==null;){switch(Ne=Je,Qe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:ku(4,Ne,Ne.return);break;case 1:Rl(Ne,Ne.return);var tt=Ne.stateNode;if(typeof tt.componentWillUnmount=="function"){S=Ne,v=Ne.return;try{l=S,tt.props=l.memoizedProps,tt.state=l.memoizedState,tt.componentWillUnmount()}catch(st){xr(S,v,st)}}break;case 5:Rl(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){B_(Re);continue}}Qe!==null?(Qe.return=Ne,Je=Qe):B_(Re)}Ae=Ae.sibling}e:for(Ae=null,Re=o;;){if(Re.tag===5){if(Ae===null){Ae=Re;try{k=Re.stateNode,we?(I=k.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(se=Re.stateNode,de=Re.memoizedProps.style,H=de!=null&&de.hasOwnProperty("display")?de.display:null,se.style.display=ne("display",H))}catch(st){xr(o,o.return,st)}}}else if(Re.tag===6){if(Ae===null)try{Re.stateNode.nodeValue=we?"":Re.memoizedProps}catch(st){xr(o,o.return,st)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===o)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===o)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===o)break e;Ae===Re&&(Ae=null),Re=Re.return}Ae===Re&&(Ae=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:Ei(l,o),Ki(o),S&4&&L_(o);break;case 21:break;default:Ei(l,o),Ki(o)}}function Ki(o){var l=o.flags;if(l&2){try{e:{for(var v=o.return;v!==null;){if(I_(v)){var S=v;break e}v=v.return}throw Error(r(160))}switch(S.tag){case 5:var k=S.stateNode;S.flags&32&&(V(k,""),S.flags&=-33);var I=D_(o);_g(o,I,k);break;case 3:case 4:var H=S.stateNode.containerInfo,se=D_(o);xg(o,se,H);break;default:throw Error(r(161))}}catch(de){xr(o,o.return,de)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function M3(o,l,v){Je=o,$_(o)}function $_(o,l,v){for(var S=(o.mode&1)!==0;Je!==null;){var k=Je,I=k.child;if(k.tag===22&&S){var H=k.memoizedState!==null||Pf;if(!H){var se=k.alternate,de=se!==null&&se.memoizedState!==null||sn;se=Pf;var we=sn;if(Pf=H,(sn=de)&&!we)for(Je=k;Je!==null;)H=Je,de=H.child,H.tag===22&&H.memoizedState!==null?U_(k):de!==null?(de.return=H,Je=de):U_(k);for(;I!==null;)Je=I,$_(I),I=I.sibling;Je=k,Pf=se,sn=we}q_(o)}else(k.subtreeFlags&8772)!==0&&I!==null?(I.return=k,Je=I):q_(o)}}function q_(o){for(;Je!==null;){var l=Je;if((l.flags&8772)!==0){var v=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:sn||If(5,l);break;case 1:var S=l.stateNode;if(l.flags&4&&!sn)if(v===null)S.componentDidMount();else{var k=l.elementType===l.type?v.memoizedProps:xi(l.type,v.memoizedProps);S.componentDidUpdate(k,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var I=l.updateQueue;I!==null&&Bx(l,I,S);break;case 3:var H=l.updateQueue;if(H!==null){if(v=null,l.child!==null)switch(l.child.tag){case 5:v=l.child.stateNode;break;case 1:v=l.child.stateNode}Bx(l,H,v)}break;case 5:var se=l.stateNode;if(v===null&&l.flags&4){v=se;var de=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&v.focus();break;case"img":de.src&&(v.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var we=l.alternate;if(we!==null){var Ae=we.memoizedState;if(Ae!==null){var Re=Ae.dehydrated;Re!==null&&su(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}sn||l.flags&512&&wg(l)}catch(Ne){xr(l,l.return,Ne)}}if(l===o){Je=null;break}if(v=l.sibling,v!==null){v.return=l.return,Je=v;break}Je=l.return}}function B_(o){for(;Je!==null;){var l=Je;if(l===o){Je=null;break}var v=l.sibling;if(v!==null){v.return=l.return,Je=v;break}Je=l.return}}function U_(o){for(;Je!==null;){var l=Je;try{switch(l.tag){case 0:case 11:case 15:var v=l.return;try{If(4,l)}catch(de){xr(l,v,de)}break;case 1:var S=l.stateNode;if(typeof S.componentDidMount=="function"){var k=l.return;try{S.componentDidMount()}catch(de){xr(l,k,de)}}var I=l.return;try{wg(l)}catch(de){xr(l,I,de)}break;case 5:var H=l.return;try{wg(l)}catch(de){xr(l,H,de)}}}catch(de){xr(l,l.return,de)}if(l===o){Je=null;break}var se=l.sibling;if(se!==null){se.return=l.return,Je=se;break}Je=l.return}}var L3=Math.ceil,Df=w.ReactCurrentDispatcher,Eg=w.ReactCurrentOwner,ai=w.ReactCurrentBatchConfig,zt=0,zr=null,Or=null,Yr=0,qn=0,Pl=eo(0),Fr=0,Nu=null,ha=0,Mf=0,Sg=0,Ou=null,jn=null,jg=0,Il=1/0,vs=null,Lf=!1,Cg=null,oo=null,Ff=!1,ao=null,$f=0,Au=0,kg=null,qf=-1,Bf=0;function un(){return(zt&6)!==0?Sr():qf!==-1?qf:qf=Sr()}function lo(o){return(o.mode&1)===0?1:(zt&2)!==0&&Yr!==0?Yr&-Yr:w3.transition!==null?(Bf===0&&(Bf=D1()),Bf):(o=er,o!==0||(o=window.event,o=o===void 0?16:z1(o.type)),o)}function Si(o,l,v,S){if(50<Au)throw Au=0,kg=null,Error(r(185));eu(o,v,S),((zt&2)===0||o!==zr)&&(o===zr&&((zt&2)===0&&(Mf|=v),Fr===4&&co(o,Yr)),Cn(o,S),v===1&&zt===0&&(l.mode&1)===0&&(Il=Sr()+500,mf&&ro()))}function Cn(o,l){var v=o.callbackNode;wI(o,l);var S=Qd(o,o===zr?Yr:0);if(S===0)v!==null&&R1(v),o.callbackNode=null,o.callbackPriority=0;else if(l=S&-S,o.callbackPriority!==l){if(v!=null&&R1(v),l===1)o.tag===0?b3(z_.bind(null,o)):Ox(z_.bind(null,o)),m3(function(){(zt&6)===0&&ro()}),v=null;else{switch(M1(S)){case 1:v=om;break;case 4:v=P1;break;case 16:v=Hd;break;case 536870912:v=I1;break;default:v=Hd}v=J_(v,V_.bind(null,o))}o.callbackPriority=l,o.callbackNode=v}}function V_(o,l){if(qf=-1,Bf=0,(zt&6)!==0)throw Error(r(327));var v=o.callbackNode;if(Dl()&&o.callbackNode!==v)return null;var S=Qd(o,o===zr?Yr:0);if(S===0)return null;if((S&30)!==0||(S&o.expiredLanes)!==0||l)l=Uf(o,S);else{l=S;var k=zt;zt|=2;var I=W_();(zr!==o||Yr!==l)&&(vs=null,Il=Sr()+500,ma(o,l));do try{q3();break}catch(se){H_(o,se)}while(!0);Hm(),Df.current=I,zt=k,Or!==null?l=0:(zr=null,Yr=0,l=Fr)}if(l!==0){if(l===2&&(k=am(o),k!==0&&(S=k,l=Ng(o,k))),l===1)throw v=Nu,ma(o,0),co(o,S),Cn(o,Sr()),v;if(l===6)co(o,S);else{if(k=o.current.alternate,(S&30)===0&&!F3(k)&&(l=Uf(o,S),l===2&&(I=am(o),I!==0&&(S=I,l=Ng(o,I))),l===1))throw v=Nu,ma(o,0),co(o,S),Cn(o,Sr()),v;switch(o.finishedWork=k,o.finishedLanes=S,l){case 0:case 1:throw Error(r(345));case 2:ga(o,jn,vs);break;case 3:if(co(o,S),(S&130023424)===S&&(l=jg+500-Sr(),10<l)){if(Qd(o,0)!==0)break;if(k=o.suspendedLanes,(k&S)!==S){un(),o.pingedLanes|=o.suspendedLanes&k;break}o.timeoutHandle=Im(ga.bind(null,o,jn,vs),l);break}ga(o,jn,vs);break;case 4:if(co(o,S),(S&4194240)===S)break;for(l=o.eventTimes,k=-1;0<S;){var H=31-yi(S);I=1<<H,H=l[H],H>k&&(k=H),S&=~I}if(S=k,S=Sr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*L3(S/1960))-S,10<S){o.timeoutHandle=Im(ga.bind(null,o,jn,vs),S);break}ga(o,jn,vs);break;case 5:ga(o,jn,vs);break;default:throw Error(r(329))}}}return Cn(o,Sr()),o.callbackNode===v?V_.bind(null,o):null}function Ng(o,l){var v=Ou;return o.current.memoizedState.isDehydrated&&(ma(o,l).flags|=256),o=Uf(o,l),o!==2&&(l=jn,jn=v,l!==null&&Og(l)),o}function Og(o){jn===null?jn=o:jn.push.apply(jn,o)}function F3(o){for(var l=o;;){if(l.flags&16384){var v=l.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var k=v[S],I=k.getSnapshot;k=k.value;try{if(!bi(I(),k))return!1}catch{return!1}}}if(v=l.child,l.subtreeFlags&16384&&v!==null)v.return=l,l=v;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function co(o,l){for(l&=~Sg,l&=~Mf,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var v=31-yi(l),S=1<<v;o[v]=-1,l&=~S}}function z_(o){if((zt&6)!==0)throw Error(r(327));Dl();var l=Qd(o,0);if((l&1)===0)return Cn(o,Sr()),null;var v=Uf(o,l);if(o.tag!==0&&v===2){var S=am(o);S!==0&&(l=S,v=Ng(o,S))}if(v===1)throw v=Nu,ma(o,0),co(o,l),Cn(o,Sr()),v;if(v===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ga(o,jn,vs),Cn(o,Sr()),null}function Ag(o,l){var v=zt;zt|=1;try{return o(l)}finally{zt=v,zt===0&&(Il=Sr()+500,mf&&ro())}}function pa(o){ao!==null&&ao.tag===0&&(zt&6)===0&&Dl();var l=zt;zt|=1;var v=ai.transition,S=er;try{if(ai.transition=null,er=1,o)return o()}finally{er=S,ai.transition=v,zt=l,(zt&6)===0&&ro()}}function Tg(){qn=Pl.current,fr(Pl)}function ma(o,l){o.finishedWork=null,o.finishedLanes=0;var v=o.timeoutHandle;if(v!==-1&&(o.timeoutHandle=-1,p3(v)),Or!==null)for(v=Or.return;v!==null;){var S=v;switch(qm(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&hf();break;case 3:Al(),fr(_n),fr(tn),Xm();break;case 5:Zm(S);break;case 4:Al();break;case 13:fr(vr);break;case 19:fr(vr);break;case 10:Wm(S.type._context);break;case 22:case 23:Tg()}v=v.return}if(zr=o,Or=o=uo(o.current,null),Yr=qn=l,Fr=0,Nu=null,Sg=Mf=ha=0,jn=Ou=null,ua!==null){for(l=0;l<ua.length;l++)if(v=ua[l],S=v.interleaved,S!==null){v.interleaved=null;var k=S.next,I=v.pending;if(I!==null){var H=I.next;I.next=k,S.next=H}v.pending=S}ua=null}return o}function H_(o,l){do{var v=Or;try{if(Hm(),jf.current=Of,Cf){for(var S=yr.memoizedState;S!==null;){var k=S.queue;k!==null&&(k.pending=null),S=S.next}Cf=!1}if(fa=0,Vr=Lr=yr=null,_u=!1,Eu=0,Eg.current=null,v===null||v.return===null){Fr=1,Nu=l,Or=null;break}e:{var I=o,H=v.return,se=v,de=l;if(l=Yr,se.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var we=de,Ae=se,Re=Ae.tag;if((Ae.mode&1)===0&&(Re===0||Re===11||Re===15)){var Ne=Ae.alternate;Ne?(Ae.updateQueue=Ne.updateQueue,Ae.memoizedState=Ne.memoizedState,Ae.lanes=Ne.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Qe=g_(H);if(Qe!==null){Qe.flags&=-257,v_(Qe,H,se,I,l),Qe.mode&1&&m_(I,we,l),l=Qe,de=we;var tt=l.updateQueue;if(tt===null){var st=new Set;st.add(de),l.updateQueue=st}else tt.add(de);break e}else{if((l&1)===0){m_(I,we,l),Rg();break e}de=Error(r(426))}}else if(gr&&se.mode&1){var jr=g_(H);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),v_(jr,H,se,I,l),Vm(Tl(de,se));break e}}I=de=Tl(de,se),Fr!==4&&(Fr=2),Ou===null?Ou=[I]:Ou.push(I),I=H;do{switch(I.tag){case 3:I.flags|=65536,l&=-l,I.lanes|=l;var ge=h_(I,de,l);qx(I,ge);break e;case 1:se=de;var pe=I.type,ye=I.stateNode;if((I.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(oo===null||!oo.has(ye)))){I.flags|=65536,l&=-l,I.lanes|=l;var Ie=p_(I,se,l);qx(I,Ie);break e}}I=I.return}while(I!==null)}G_(v)}catch(ut){l=ut,Or===v&&v!==null&&(Or=v=v.return);continue}break}while(!0)}function W_(){var o=Df.current;return Df.current=Of,o===null?Of:o}function Rg(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),zr===null||(ha&268435455)===0&&(Mf&268435455)===0||co(zr,Yr)}function Uf(o,l){var v=zt;zt|=2;var S=W_();(zr!==o||Yr!==l)&&(vs=null,ma(o,l));do try{$3();break}catch(k){H_(o,k)}while(!0);if(Hm(),zt=v,Df.current=S,Or!==null)throw Error(r(261));return zr=null,Yr=0,Fr}function $3(){for(;Or!==null;)K_(Or)}function q3(){for(;Or!==null&&!dI();)K_(Or)}function K_(o){var l=Z_(o.alternate,o,qn);o.memoizedProps=o.pendingProps,l===null?G_(o):Or=l,Eg.current=null}function G_(o){var l=o;do{var v=l.alternate;if(o=l.return,(l.flags&32768)===0){if(v=R3(v,l,qn),v!==null){Or=v;return}}else{if(v=P3(v,l),v!==null){v.flags&=32767,Or=v;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Fr=6,Or=null;return}}if(l=l.sibling,l!==null){Or=l;return}Or=l=o}while(l!==null);Fr===0&&(Fr=5)}function ga(o,l,v){var S=er,k=ai.transition;try{ai.transition=null,er=1,B3(o,l,v,S)}finally{ai.transition=k,er=S}return null}function B3(o,l,v,S){do Dl();while(ao!==null);if((zt&6)!==0)throw Error(r(327));v=o.finishedWork;var k=o.finishedLanes;if(v===null)return null;if(o.finishedWork=null,o.finishedLanes=0,v===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var I=v.lanes|v.childLanes;if(xI(o,I),o===zr&&(Or=zr=null,Yr=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Ff||(Ff=!0,J_(Hd,function(){return Dl(),null})),I=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||I){I=ai.transition,ai.transition=null;var H=er;er=1;var se=zt;zt|=4,Eg.current=null,D3(o,v),F_(v,o),a3(Rm),Jd=!!Tm,Rm=Tm=null,o.current=v,M3(v),fI(),zt=se,er=H,ai.transition=I}else o.current=v;if(Ff&&(Ff=!1,ao=o,$f=k),I=o.pendingLanes,I===0&&(oo=null),mI(v.stateNode),Cn(o,Sr()),l!==null)for(S=o.onRecoverableError,v=0;v<l.length;v++)k=l[v],S(k.value,{componentStack:k.stack,digest:k.digest});if(Lf)throw Lf=!1,o=Cg,Cg=null,o;return($f&1)!==0&&o.tag!==0&&Dl(),I=o.pendingLanes,(I&1)!==0?o===kg?Au++:(Au=0,kg=o):Au=0,ro(),null}function Dl(){if(ao!==null){var o=M1($f),l=ai.transition,v=er;try{if(ai.transition=null,er=16>o?16:o,ao===null)var S=!1;else{if(o=ao,ao=null,$f=0,(zt&6)!==0)throw Error(r(331));var k=zt;for(zt|=4,Je=o.current;Je!==null;){var I=Je,H=I.child;if((Je.flags&16)!==0){var se=I.deletions;if(se!==null){for(var de=0;de<se.length;de++){var we=se[de];for(Je=we;Je!==null;){var Ae=Je;switch(Ae.tag){case 0:case 11:case 15:ku(8,Ae,I)}var Re=Ae.child;if(Re!==null)Re.return=Ae,Je=Re;else for(;Je!==null;){Ae=Je;var Ne=Ae.sibling,Qe=Ae.return;if(P_(Ae),Ae===we){Je=null;break}if(Ne!==null){Ne.return=Qe,Je=Ne;break}Je=Qe}}}var tt=I.alternate;if(tt!==null){var st=tt.child;if(st!==null){tt.child=null;do{var jr=st.sibling;st.sibling=null,st=jr}while(st!==null)}}Je=I}}if((I.subtreeFlags&2064)!==0&&H!==null)H.return=I,Je=H;else e:for(;Je!==null;){if(I=Je,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:ku(9,I,I.return)}var ge=I.sibling;if(ge!==null){ge.return=I.return,Je=ge;break e}Je=I.return}}var pe=o.current;for(Je=pe;Je!==null;){H=Je;var ye=H.child;if((H.subtreeFlags&2064)!==0&&ye!==null)ye.return=H,Je=ye;else e:for(H=pe;Je!==null;){if(se=Je,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:If(9,se)}}catch(ut){xr(se,se.return,ut)}if(se===H){Je=null;break e}var Ie=se.sibling;if(Ie!==null){Ie.return=se.return,Je=Ie;break e}Je=se.return}}if(zt=k,ro(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Wd,o)}catch{}S=!0}return S}finally{er=v,ai.transition=l}}return!1}function Q_(o,l,v){l=Tl(v,l),l=h_(o,l,1),o=io(o,l,1),l=un(),o!==null&&(eu(o,1,l),Cn(o,l))}function xr(o,l,v){if(o.tag===3)Q_(o,o,v);else for(;l!==null;){if(l.tag===3){Q_(l,o,v);break}else if(l.tag===1){var S=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(oo===null||!oo.has(S))){o=Tl(v,o),o=p_(l,o,1),l=io(l,o,1),o=un(),l!==null&&(eu(l,1,o),Cn(l,o));break}}l=l.return}}function U3(o,l,v){var S=o.pingCache;S!==null&&S.delete(l),l=un(),o.pingedLanes|=o.suspendedLanes&v,zr===o&&(Yr&v)===v&&(Fr===4||Fr===3&&(Yr&130023424)===Yr&&500>Sr()-jg?ma(o,0):Sg|=v),Cn(o,l)}function Y_(o,l){l===0&&((o.mode&1)===0?l=1:(l=Gd,Gd<<=1,(Gd&130023424)===0&&(Gd=4194304)));var v=un();o=ps(o,l),o!==null&&(eu(o,l,v),Cn(o,v))}function V3(o){var l=o.memoizedState,v=0;l!==null&&(v=l.retryLane),Y_(o,v)}function z3(o,l){var v=0;switch(o.tag){case 13:var S=o.stateNode,k=o.memoizedState;k!==null&&(v=k.retryLane);break;case 19:S=o.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(l),Y_(o,v)}var Z_;Z_=function(o,l,v){if(o!==null)if(o.memoizedProps!==l.pendingProps||_n.current)Sn=!0;else{if((o.lanes&v)===0&&(l.flags&128)===0)return Sn=!1,T3(o,l,v);Sn=(o.flags&131072)!==0}else Sn=!1,gr&&(l.flags&1048576)!==0&&Ax(l,vf,l.index);switch(l.lanes=0,l.tag){case 2:var S=l.type;Rf(o,l),o=l.pendingProps;var k=El(l,tn.current);Ol(l,v),k=rg(null,l,S,o,k,v);var I=ng();return l.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,En(S)?(I=!0,pf(l)):I=!1,l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Qm(l),k.updater=Af,l.stateNode=k,k._reactInternals=l,cg(l,S,o,v),l=hg(null,l,S,!0,I,v)):(l.tag=0,gr&&I&&$m(l),cn(null,l,k,v),l=l.child),l;case 16:S=l.elementType;e:{switch(Rf(o,l),o=l.pendingProps,k=S._init,S=k(S._payload),l.type=S,k=l.tag=W3(S),o=xi(S,o),k){case 0:l=fg(null,l,S,o,v);break e;case 1:l=E_(null,l,S,o,v);break e;case 11:l=y_(null,l,S,o,v);break e;case 14:l=b_(null,l,S,xi(S.type,o),v);break e}throw Error(r(306,S,""))}return l;case 0:return S=l.type,k=l.pendingProps,k=l.elementType===S?k:xi(S,k),fg(o,l,S,k,v);case 1:return S=l.type,k=l.pendingProps,k=l.elementType===S?k:xi(S,k),E_(o,l,S,k,v);case 3:e:{if(S_(l),o===null)throw Error(r(387));S=l.pendingProps,I=l.memoizedState,k=I.element,$x(o,l),Ef(l,S,null,v);var H=l.memoizedState;if(S=H.element,I.isDehydrated)if(I={element:S,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},l.updateQueue.baseState=I,l.memoizedState=I,l.flags&256){k=Tl(Error(r(423)),l),l=j_(o,l,S,v,k);break e}else if(S!==k){k=Tl(Error(r(424)),l),l=j_(o,l,S,v,k);break e}else for($n=Xs(l.stateNode.containerInfo.firstChild),Fn=l,gr=!0,wi=null,v=Lx(l,null,S,v),l.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Cl(),S===k){l=gs(o,l,v);break e}cn(o,l,S,v)}l=l.child}return l;case 5:return Ux(l),o===null&&Um(l),S=l.type,k=l.pendingProps,I=o!==null?o.memoizedProps:null,H=k.children,Pm(S,k)?H=null:I!==null&&Pm(S,I)&&(l.flags|=32),__(o,l),cn(o,l,H,v),l.child;case 6:return o===null&&Um(l),null;case 13:return C_(o,l,v);case 4:return Ym(l,l.stateNode.containerInfo),S=l.pendingProps,o===null?l.child=kl(l,null,S,v):cn(o,l,S,v),l.child;case 11:return S=l.type,k=l.pendingProps,k=l.elementType===S?k:xi(S,k),y_(o,l,S,k,v);case 7:return cn(o,l,l.pendingProps,v),l.child;case 8:return cn(o,l,l.pendingProps.children,v),l.child;case 12:return cn(o,l,l.pendingProps.children,v),l.child;case 10:e:{if(S=l.type._context,k=l.pendingProps,I=l.memoizedProps,H=k.value,lr(wf,S._currentValue),S._currentValue=H,I!==null)if(bi(I.value,H)){if(I.children===k.children&&!_n.current){l=gs(o,l,v);break e}}else for(I=l.child,I!==null&&(I.return=l);I!==null;){var se=I.dependencies;if(se!==null){H=I.child;for(var de=se.firstContext;de!==null;){if(de.context===S){if(I.tag===1){de=ms(-1,v&-v),de.tag=2;var we=I.updateQueue;if(we!==null){we=we.shared;var Ae=we.pending;Ae===null?de.next=de:(de.next=Ae.next,Ae.next=de),we.pending=de}}I.lanes|=v,de=I.alternate,de!==null&&(de.lanes|=v),Km(I.return,v,l),se.lanes|=v;break}de=de.next}}else if(I.tag===10)H=I.type===l.type?null:I.child;else if(I.tag===18){if(H=I.return,H===null)throw Error(r(341));H.lanes|=v,se=H.alternate,se!==null&&(se.lanes|=v),Km(H,v,l),H=I.sibling}else H=I.child;if(H!==null)H.return=I;else for(H=I;H!==null;){if(H===l){H=null;break}if(I=H.sibling,I!==null){I.return=H.return,H=I;break}H=H.return}I=H}cn(o,l,k.children,v),l=l.child}return l;case 9:return k=l.type,S=l.pendingProps.children,Ol(l,v),k=si(k),S=S(k),l.flags|=1,cn(o,l,S,v),l.child;case 14:return S=l.type,k=xi(S,l.pendingProps),k=xi(S.type,k),b_(o,l,S,k,v);case 15:return w_(o,l,l.type,l.pendingProps,v);case 17:return S=l.type,k=l.pendingProps,k=l.elementType===S?k:xi(S,k),Rf(o,l),l.tag=1,En(S)?(o=!0,pf(l)):o=!1,Ol(l,v),d_(l,S,k),cg(l,S,k,v),hg(null,l,S,!0,o,v);case 19:return N_(o,l,v);case 22:return x_(o,l,v)}throw Error(r(156,l.tag))};function J_(o,l){return T1(o,l)}function H3(o,l,v,S){this.tag=o,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(o,l,v,S){return new H3(o,l,v,S)}function Pg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function W3(o){if(typeof o=="function")return Pg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===L)return 11;if(o===Y)return 14}return 2}function uo(o,l){var v=o.alternate;return v===null?(v=li(o.tag,l,o.key,o.mode),v.elementType=o.elementType,v.type=o.type,v.stateNode=o.stateNode,v.alternate=o,o.alternate=v):(v.pendingProps=l,v.type=o.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=o.flags&14680064,v.childLanes=o.childLanes,v.lanes=o.lanes,v.child=o.child,v.memoizedProps=o.memoizedProps,v.memoizedState=o.memoizedState,v.updateQueue=o.updateQueue,l=o.dependencies,v.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},v.sibling=o.sibling,v.index=o.index,v.ref=o.ref,v}function Vf(o,l,v,S,k,I){var H=2;if(S=o,typeof o=="function")Pg(o)&&(H=1);else if(typeof o=="string")H=5;else e:switch(o){case A:return va(v.children,k,I,l);case P:H=8,k|=8;break;case q:return o=li(12,v,l,k|2),o.elementType=q,o.lanes=I,o;case B:return o=li(13,v,l,k),o.elementType=B,o.lanes=I,o;case U:return o=li(19,v,l,k),o.elementType=U,o.lanes=I,o;case ie:return zf(v,k,I,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:H=10;break e;case D:H=9;break e;case L:H=11;break e;case Y:H=14;break e;case X:H=16,S=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=li(H,v,l,k),l.elementType=o,l.type=S,l.lanes=I,l}function va(o,l,v,S){return o=li(7,o,S,l),o.lanes=v,o}function zf(o,l,v,S){return o=li(22,o,S,l),o.elementType=ie,o.lanes=v,o.stateNode={isHidden:!1},o}function Ig(o,l,v){return o=li(6,o,null,l),o.lanes=v,o}function Dg(o,l,v){return l=li(4,o.children!==null?o.children:[],o.key,l),l.lanes=v,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function K3(o,l,v,S,k){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=S,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Mg(o,l,v,S,k,I,H,se,de){return o=new K3(o,l,v,se,de),l===1?(l=1,I===!0&&(l|=8)):l=0,I=li(3,null,null,l),o.current=I,I.stateNode=o,I.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qm(I),o}function G3(o,l,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:S==null?null:""+S,children:o,containerInfo:l,implementation:v}}function X_(o){if(!o)return to;o=o._reactInternals;e:{if(sa(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(En(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var v=o.type;if(En(v))return kx(o,v,l)}return l}function eE(o,l,v,S,k,I,H,se,de){return o=Mg(v,S,!0,o,k,I,H,se,de),o.context=X_(null),v=o.current,S=un(),k=lo(v),I=ms(S,k),I.callback=l??null,io(v,I,k),o.current.lanes=k,eu(o,k,S),Cn(o,S),o}function Hf(o,l,v,S){var k=l.current,I=un(),H=lo(k);return v=X_(v),l.context===null?l.context=v:l.pendingContext=v,l=ms(I,H),l.payload={element:o},S=S===void 0?null:S,S!==null&&(l.callback=S),o=io(k,l,H),o!==null&&(Si(o,k,H,I),_f(o,k,H)),H}function Wf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function tE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var v=o.retryLane;o.retryLane=v!==0&&v<l?v:l}}function Lg(o,l){tE(o,l),(o=o.alternate)&&tE(o,l)}function Q3(){return null}var rE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Fg(o){this._internalRoot=o}Kf.prototype.render=Fg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));Hf(o,l,null,null)},Kf.prototype.unmount=Fg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;pa(function(){Hf(null,o,null,null)}),l[us]=null}};function Kf(o){this._internalRoot=o}Kf.prototype.unstable_scheduleHydration=function(o){if(o){var l=$1();o={blockedOn:null,target:o,priority:l};for(var v=0;v<Ys.length&&l!==0&&l<Ys[v].priority;v++);Ys.splice(v,0,o),v===0&&U1(o)}};function $g(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Gf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function nE(){}function Y3(o,l,v,S,k){if(k){if(typeof S=="function"){var I=S;S=function(){var we=Wf(H);I.call(we)}}var H=eE(l,S,o,0,null,!1,!1,"",nE);return o._reactRootContainer=H,o[us]=H.current,pu(o.nodeType===8?o.parentNode:o),pa(),H}for(;k=o.lastChild;)o.removeChild(k);if(typeof S=="function"){var se=S;S=function(){var we=Wf(de);se.call(we)}}var de=Mg(o,0,!1,null,null,!1,!1,"",nE);return o._reactRootContainer=de,o[us]=de.current,pu(o.nodeType===8?o.parentNode:o),pa(function(){Hf(l,de,v,S)}),de}function Qf(o,l,v,S,k){var I=v._reactRootContainer;if(I){var H=I;if(typeof k=="function"){var se=k;k=function(){var de=Wf(H);se.call(de)}}Hf(l,H,o,k)}else H=Y3(v,l,o,k,S);return Wf(H)}L1=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var v=Xc(l.pendingLanes);v!==0&&(cm(l,v|1),Cn(l,Sr()),(zt&6)===0&&(Il=Sr()+500,ro()))}break;case 13:pa(function(){var S=ps(o,1);if(S!==null){var k=un();Si(S,o,1,k)}}),Lg(o,1)}},um=function(o){if(o.tag===13){var l=ps(o,134217728);if(l!==null){var v=un();Si(l,o,134217728,v)}Lg(o,134217728)}},F1=function(o){if(o.tag===13){var l=lo(o),v=ps(o,l);if(v!==null){var S=un();Si(v,o,l,S)}Lg(o,l)}},$1=function(){return er},q1=function(o,l){var v=er;try{return er=o,l()}finally{er=v}},Vt=function(o,l,v){switch(l){case"input":if(xt(o,v),l=v.name,v.type==="radio"&&l!=null){for(v=o;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<v.length;l++){var S=v[l];if(S!==o&&S.form===o.form){var k=ff(S);if(!k)throw Error(r(90));Te(S),xt(S,k)}}}break;case"textarea":he(o,v);break;case"select":l=v.value,l!=null&&oe(o,!!v.multiple,l,!1)}},qt=Ag,Yt=pa;var Z3={usingClientEntryPoint:!1,Events:[vu,xl,ff,We,nt,Ag]},Tu={findFiberByHostInstance:oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J3={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=O1(o),o===null?null:o.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||Q3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{Wd=Yf.inject(J3),Vi=Yf}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z3,kn.createPortal=function(o,l){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(l))throw Error(r(200));return G3(o,l,null,v)},kn.createRoot=function(o,l){if(!$g(o))throw Error(r(299));var v=!1,S="",k=rE;return l!=null&&(l.unstable_strictMode===!0&&(v=!0),l.identifierPrefix!==void 0&&(S=l.identifierPrefix),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=Mg(o,1,!1,null,null,v,!1,S,k),o[us]=l.current,pu(o.nodeType===8?o.parentNode:o),new Fg(l)},kn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=O1(l),o=o===null?null:o.stateNode,o},kn.flushSync=function(o){return pa(o)},kn.hydrate=function(o,l,v){if(!Gf(l))throw Error(r(200));return Qf(null,o,l,!0,v)},kn.hydrateRoot=function(o,l,v){if(!$g(o))throw Error(r(405));var S=v!=null&&v.hydratedSources||null,k=!1,I="",H=rE;if(v!=null&&(v.unstable_strictMode===!0&&(k=!0),v.identifierPrefix!==void 0&&(I=v.identifierPrefix),v.onRecoverableError!==void 0&&(H=v.onRecoverableError)),l=eE(l,null,o,1,v??null,k,!1,I,H),o[us]=l.current,pu(o),S)for(o=0;o<S.length;o++)v=S[o],k=v._getVersion,k=k(v._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[v,k]:l.mutableSourceEagerHydrationData.push(v,k);return new Kf(l)},kn.render=function(o,l,v){if(!Gf(l))throw Error(r(200));return Qf(null,o,l,!1,v)},kn.unmountComponentAtNode=function(o){if(!Gf(o))throw Error(r(40));return o._reactRootContainer?(pa(function(){Qf(null,null,o,!1,function(){o._reactRootContainer=null,o[us]=null})}),!0):!1},kn.unstable_batchedUpdates=Ag,kn.unstable_renderSubtreeIntoContainer=function(o,l,v,S){if(!Gf(v))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Qf(o,l,v,!1,S)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var fE;function Zb(){if(fE)return Vg.exports;fE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vg.exports=s5(),Vg.exports}var hE;function o5(){if(hE)return Xf;hE=1;var t=Zb();return Xf.createRoot=t.createRoot,Xf.hydrateRoot=t.hydrateRoot,Xf}var a5=o5(),N=jd();const z=np(N),Jb=lk({__proto__:null,default:z},[N]),l5=1,c5=1e6;let Wg=0;function u5(){return Wg=(Wg+1)%Number.MAX_SAFE_INTEGER,Wg.toString()}const Kg=new Map,pE=t=>{if(Kg.has(t))return;const e=setTimeout(()=>{Kg.delete(t),Yu({type:"REMOVE_TOAST",toastId:t})},c5);Kg.set(t,e)},d5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,l5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?pE(r):t.toasts.forEach(n=>{pE(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},yh=[];let bh={toasts:[]};function Yu(t){bh=d5(bh,t),yh.forEach(e=>{e(bh)})}function f5({...t}){const e=u5(),r=i=>Yu({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Yu({type:"DISMISS_TOAST",toastId:e});return Yu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function h5(){const[t,e]=N.useState(bh);return N.useEffect(()=>(yh.push(e),()=>{const r=yh.indexOf(e);r>-1&&yh.splice(r,1)}),[t]),{...t,toast:f5,dismiss:r=>Yu({type:"DISMISS_TOAST",toastId:r})}}var Fc=Zb();const uk=np(Fc);function Le(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function mE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rs(...t){return e=>{let r=!1;const n=t.map(i=>{const s=mE(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():mE(t[i],null)}}}}function $t(...t){return N.useCallback(Rs(...t),t)}function p5(t,e){const r=N.createContext(e),n=s=>{const{children:a,...u}=s,d=N.useMemo(()=>u,Object.values(u));return c.jsx(r.Provider,{value:d,children:a})};n.displayName=t+"Provider";function i(s){const a=N.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Xn(t,e=[]){let r=[];function n(s,a){const u=N.createContext(a),d=r.length;r=[...r,a];const h=p=>{var E;const{scope:m,children:g,..._}=p,y=((E=m==null?void 0:m[t])==null?void 0:E[d])||u,b=N.useMemo(()=>_,Object.values(_));return c.jsx(y.Provider,{value:b,children:g})};h.displayName=s+"Provider";function f(p,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[d])||u,_=N.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[h,f]}const i=()=>{const s=r.map(a=>N.createContext(a));return function(u){const d=(u==null?void 0:u[t])||s;return N.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return i.scopeName=t,[n,m5(i,...e)]}function m5(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((u,{useScope:d,scopeName:h})=>{const p=d(s)[`__scope${h}`];return{...u,...p}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function zo(t){const e=g5(t),r=N.forwardRef((n,i)=>{const{children:s,...a}=n,u=N.Children.toArray(s),d=u.find(y5);if(d){const h=d.props.children,f=u.map(p=>p===d?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:p);return c.jsx(e,{...a,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,f):null})}return c.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var dk=zo("Slot");function g5(t){const e=N.forwardRef((r,n)=>{const{children:i,...s}=r;if(N.isValidElement(i)){const a=w5(i),u=b5(s,i.props);return i.type!==N.Fragment&&(u.ref=n?Rs(n,a):a),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fk=Symbol("radix.slottable");function v5(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=fk,e}function y5(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fk}function b5(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...u)=>{const d=s(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function w5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ip(t){const e=t+"CollectionProvider",[r,n]=Xn(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:E}=y,x=z.useRef(null),j=z.useRef(new Map).current;return c.jsx(i,{scope:b,itemMap:j,collectionRef:x,children:E})};a.displayName=e;const u=t+"CollectionSlot",d=zo(u),h=z.forwardRef((y,b)=>{const{scope:E,children:x}=y,j=s(u,E),w=$t(b,j.collectionRef);return c.jsx(d,{ref:w,children:x})});h.displayName=u;const f=t+"CollectionItemSlot",p="data-radix-collection-item",m=zo(f),g=z.forwardRef((y,b)=>{const{scope:E,children:x,...j}=y,w=z.useRef(null),C=$t(b,w),O=s(f,E);return z.useEffect(()=>(O.itemMap.set(w,{ref:w,...j}),()=>void O.itemMap.delete(w))),c.jsx(m,{[p]:"",ref:C,children:x})});g.displayName=f;function _(y){const b=s(t+"CollectionConsumer",y);return z.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((O,A)=>j.indexOf(O.ref.current)-j.indexOf(A.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:h,ItemSlot:g},_,n]}var x5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=x5.reduce((t,e)=>{const r=zo(`Primitive.${e}`),n=N.forwardRef((i,s)=>{const{asChild:a,...u}=i,d=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...u,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Xb(t,e){t&&Fc.flushSync(()=>t.dispatchEvent(e))}function gn(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function _5(t,e=globalThis==null?void 0:globalThis.document){const r=gn(t);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var E5="DismissableLayer",N0="dismissableLayer.update",S5="dismissableLayer.pointerDownOutside",j5="dismissableLayer.focusOutside",gE,hk=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nl=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:u,...d}=t,h=N.useContext(hk),[f,p]=N.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=N.useState({}),_=$t(e,A=>p(A)),y=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(b),x=f?y.indexOf(f):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,w=x>=E,C=k5(A=>{const P=A.target,q=[...h.branches].some(T=>T.contains(P));!w||q||(i==null||i(A),a==null||a(A),A.defaultPrevented||u==null||u())},m),O=N5(A=>{const P=A.target;[...h.branches].some(T=>T.contains(P))||(s==null||s(A),a==null||a(A),A.defaultPrevented||u==null||u())},m);return _5(A=>{x===h.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&u&&(A.preventDefault(),u()))},m),N.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(gE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),vE(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=gE)}},[f,m,r,h]),N.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),vE())},[f,h]),N.useEffect(()=>{const A=()=>g({});return document.addEventListener(N0,A),()=>document.removeEventListener(N0,A)},[]),c.jsx(it.div,{...d,ref:_,style:{pointerEvents:j?w?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,C.onPointerDownCapture)})});nl.displayName=E5;var C5="DismissableLayerBranch",pk=N.forwardRef((t,e)=>{const r=N.useContext(hk),n=N.useRef(null),i=$t(e,n);return N.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),c.jsx(it.div,{...t,ref:i})});pk.displayName=C5;function k5(t,e=globalThis==null?void 0:globalThis.document){const r=gn(t),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let d=function(){mk(S5,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function N5(t,e=globalThis==null?void 0:globalThis.document){const r=gn(t),n=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!n.current&&mk(j5,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vE(){const t=new CustomEvent(N0);document.dispatchEvent(t)}function mk(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Xb(i,s):i.dispatchEvent(s)}var O5=nl,A5=pk,Dr=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},T5="Portal",$c=N.forwardRef((t,e)=>{var u;const{container:r,...n}=t,[i,s]=N.useState(!1);Dr(()=>s(!0),[]);const a=r||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?uk.createPortal(c.jsx(it.div,{...n,ref:e}),a):null});$c.displayName=T5;function R5(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var In=t=>{const{present:e,children:r}=t,n=P5(e),i=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),s=$t(n.ref,I5(i));return typeof r=="function"||n.isPresent?N.cloneElement(i,{ref:s}):null};In.displayName="Presence";function P5(t){const[e,r]=N.useState(),n=N.useRef(null),i=N.useRef(t),s=N.useRef("none"),a=t?"mounted":"unmounted",[u,d]=R5(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=eh(n.current);s.current=u==="mounted"?h:"none"},[u]),Dr(()=>{const h=n.current,f=i.current;if(f!==t){const m=s.current,g=eh(h);t?d("MOUNT"):g==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Dr(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,p=g=>{const y=eh(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&y&&(d("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(s.current=eh(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function eh(t){return(t==null?void 0:t.animationName)||"none"}function I5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var D5=Jb[" useInsertionEffect ".trim().toString()]||Dr;function Ps({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=M5({defaultProp:e,onChange:r}),u=t!==void 0,d=u?t:i;{const f=N.useRef(t!==void 0);N.useEffect(()=>{const p=f.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=u},[u,n])}const h=N.useCallback(f=>{var p;if(u){const m=L5(f)?f(t):f;m!==t&&((p=a.current)==null||p.call(a,m))}else s(f)},[u,t,s,a]);return[d,h]}function M5({defaultProp:t,onChange:e}){const[r,n]=N.useState(t),i=N.useRef(r),s=N.useRef(e);return D5(()=>{s.current=e},[e]),N.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function L5(t){return typeof t=="function"}var gk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F5="VisuallyHidden",sp=N.forwardRef((t,e)=>c.jsx(it.span,{...t,ref:e,style:{...gk,...t.style}}));sp.displayName=F5;var $5=sp,ew="ToastProvider",[tw,q5,B5]=ip("Toast"),[vk]=Xn("Toast",[B5]),[U5,op]=vk(ew),yk=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[u,d]=N.useState(null),[h,f]=N.useState(0),p=N.useRef(!1),m=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ew}\`. Expected non-empty \`string\`.`),c.jsx(tw.Provider,{scope:e,children:c.jsx(U5,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:N.useCallback(()=>f(g=>g+1),[]),onToastRemove:N.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:a})})};yk.displayName=ew;var bk="ToastViewport",V5=["F8"],O0="toast.viewportPause",A0="toast.viewportResume",wk=N.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=V5,label:i="Notifications ({hotkey})",...s}=t,a=op(bk,r),u=q5(r),d=N.useRef(null),h=N.useRef(null),f=N.useRef(null),p=N.useRef(null),m=$t(e,p,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=a.toastCount>0;N.useEffect(()=>{const b=E=>{var j;n.length!==0&&n.every(w=>E[w]||E.code===w)&&((j=p.current)==null||j.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),N.useEffect(()=>{const b=d.current,E=p.current;if(_&&b&&E){const x=()=>{if(!a.isClosePausedRef.current){const O=new CustomEvent(O0);E.dispatchEvent(O),a.isClosePausedRef.current=!0}},j=()=>{if(a.isClosePausedRef.current){const O=new CustomEvent(A0);E.dispatchEvent(O),a.isClosePausedRef.current=!1}},w=O=>{!b.contains(O.relatedTarget)&&j()},C=()=>{b.contains(document.activeElement)||j()};return b.addEventListener("focusin",x),b.addEventListener("focusout",w),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",j),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",w),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",j)}}},[_,a.isClosePausedRef]);const y=N.useCallback(({tabbingDirection:b})=>{const x=u().map(j=>{const w=j.ref.current,C=[w,...rD(w)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?x.reverse():x).flat()},[u]);return N.useEffect(()=>{const b=p.current;if(b){const E=x=>{var C,O,A;const j=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!j){const P=document.activeElement,q=x.shiftKey;if(x.target===b&&q){(C=h.current)==null||C.focus();return}const L=y({tabbingDirection:q?"backwards":"forwards"}),B=L.findIndex(U=>U===P);Gg(L.slice(B+1))?x.preventDefault():q?(O=h.current)==null||O.focus():(A=f.current)==null||A.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[u,y]),c.jsxs(A5,{ref:d,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&c.jsx(T0,{ref:h,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Gg(b)}}),c.jsx(tw.Slot,{scope:r,children:c.jsx(it.ol,{tabIndex:-1,...s,ref:m})}),_&&c.jsx(T0,{ref:f,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Gg(b)}})]})});wk.displayName=bk;var xk="ToastFocusProxy",T0=N.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=op(xk,r);return c.jsx(sp,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const u=a.relatedTarget;!((h=s.viewport)!=null&&h.contains(u))&&n()}})});T0.displayName=xk;var Cd="Toast",z5="toast.swipeStart",H5="toast.swipeMove",W5="toast.swipeCancel",K5="toast.swipeEnd",_k=N.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[u,d]=Ps({prop:n,defaultProp:i??!0,onChange:s,caller:Cd});return c.jsx(In,{present:r||u,children:c.jsx(Y5,{open:u,...a,ref:e,onClose:()=>d(!1),onPause:gn(t.onPause),onResume:gn(t.onResume),onSwipeStart:Le(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Le(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});_k.displayName=Cd;var[G5,Q5]=vk(Cd,{onClose(){}}),Y5=N.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:g,..._}=t,y=op(Cd,r),[b,E]=N.useState(null),x=$t(e,U=>E(U)),j=N.useRef(null),w=N.useRef(null),C=i||y.duration,O=N.useRef(0),A=N.useRef(C),P=N.useRef(0),{onToastAdd:q,onToastRemove:T}=y,D=gn(()=>{var Y;(b==null?void 0:b.contains(document.activeElement))&&((Y=y.viewport)==null||Y.focus()),a()}),L=N.useCallback(U=>{!U||U===1/0||(window.clearTimeout(P.current),O.current=new Date().getTime(),P.current=window.setTimeout(D,U))},[D]);N.useEffect(()=>{const U=y.viewport;if(U){const Y=()=>{L(A.current),h==null||h()},X=()=>{const ie=new Date().getTime()-O.current;A.current=A.current-ie,window.clearTimeout(P.current),d==null||d()};return U.addEventListener(O0,X),U.addEventListener(A0,Y),()=>{U.removeEventListener(O0,X),U.removeEventListener(A0,Y)}}},[y.viewport,C,d,h,L]),N.useEffect(()=>{s&&!y.isClosePausedRef.current&&L(C)},[s,C,y.isClosePausedRef,L]),N.useEffect(()=>(q(),()=>T()),[q,T]);const B=N.useMemo(()=>b?Ok(b):null,[b]);return y.viewport?c.jsxs(c.Fragment,{children:[B&&c.jsx(Z5,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:B}),c.jsx(G5,{scope:r,onClose:D,children:Fc.createPortal(c.jsx(tw.ItemSlot,{scope:r,children:c.jsx(O5,{asChild:!0,onEscapeKeyDown:Le(u,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(it.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,..._,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,U=>{U.key==="Escape"&&(u==null||u(U.nativeEvent),U.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Le(t.onPointerDown,U=>{U.button===0&&(j.current={x:U.clientX,y:U.clientY})}),onPointerMove:Le(t.onPointerMove,U=>{if(!j.current)return;const Y=U.clientX-j.current.x,X=U.clientY-j.current.y,ie=!!w.current,re=["left","right"].includes(y.swipeDirection),K=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Q=re?K(0,Y):0,M=re?0:K(0,X),$=U.pointerType==="touch"?10:2,G={x:Q,y:M},te={originalEvent:U,delta:G};ie?(w.current=G,th(H5,p,te,{discrete:!1})):yE(G,y.swipeDirection,$)?(w.current=G,th(z5,f,te,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(Y)>$||Math.abs(X)>$)&&(j.current=null)}),onPointerUp:Le(t.onPointerUp,U=>{const Y=w.current,X=U.target;if(X.hasPointerCapture(U.pointerId)&&X.releasePointerCapture(U.pointerId),w.current=null,j.current=null,Y){const ie=U.currentTarget,re={originalEvent:U,delta:Y};yE(Y,y.swipeDirection,y.swipeThreshold)?th(K5,g,re,{discrete:!0}):th(W5,m,re,{discrete:!0}),ie.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Z5=t=>{const{__scopeToast:e,children:r,...n}=t,i=op(Cd,e),[s,a]=N.useState(!1),[u,d]=N.useState(!1);return eD(()=>a(!0)),N.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:c.jsx($c,{asChild:!0,children:c.jsx(sp,{...n,children:s&&c.jsxs(c.Fragment,{children:[i.label," ",r]})})})},J5="ToastTitle",Ek=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(it.div,{...n,ref:e})});Ek.displayName=J5;var X5="ToastDescription",Sk=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(it.div,{...n,ref:e})});Sk.displayName=X5;var jk="ToastAction",Ck=N.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(Nk,{altText:r,asChild:!0,children:c.jsx(rw,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jk}\`. Expected non-empty \`string\`.`),null)});Ck.displayName=jk;var kk="ToastClose",rw=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=Q5(kk,r);return c.jsx(Nk,{asChild:!0,children:c.jsx(it.button,{type:"button",...n,ref:e,onClick:Le(t.onClick,i.onClose)})})});rw.displayName=kk;var Nk=N.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return c.jsx(it.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Ok(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),tD(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Ok(n))}}),e}function th(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Xb(i,s):i.dispatchEvent(s)}var yE=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function eD(t=()=>{}){const e=gn(t);Dr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function tD(t){return t.nodeType===t.ELEMENT_NODE}function rD(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Gg(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var nD=yk,Ak=wk,Tk=_k,Rk=Ek,Pk=Sk,Ik=Ck,Dk=rw;function Mk(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Mk(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Lk(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Mk(t))&&(n&&(n+=" "),n+=e);return n}const bE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wE=Lk,kd=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return wE(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(h=>{const f=r==null?void 0:r[h],p=s==null?void 0:s[h];if(f===null)return null;const m=bE(f)||bE(p);return i[h][m]}),u=r&&Object.entries(r).reduce((h,f)=>{let[p,m]=f;return m===void 0||(h[p]=m),h},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,f)=>{let{class:p,className:m,...g}=f;return Object.entries(g).every(_=>{let[y,b]=_;return Array.isArray(b)?b.includes({...s,...u}[y]):{...s,...u}[y]===b})?[...h,p,m]:h},[]);return wE(t,a,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fk=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...u},d)=>N.createElement("svg",{ref:d,...sD,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Fk("lucide",i),...u},[...a.map(([h,f])=>N.createElement(h,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(t,e)=>{const r=N.forwardRef(({className:n,...i},s)=>N.createElement(oD,{ref:s,iconNode:e,className:Fk(`lucide-${iD(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Nt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Nt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Nt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Nt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Nt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Nt("Combine",[["path",{d:"M10 18H5a3 3 0 0 1-3-3v-1",key:"ru65g8"}],["path",{d:"M14 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"e30een"}],["path",{d:"M20 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"2ahx8o"}],["path",{d:"m7 21 3-3-3-3",key:"127cv2"}],["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2",key:"1b0bso"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2",key:"1x09vl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Nt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=Nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Nt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=Nt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Nt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Nt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Nt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Nt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ow="-",_D=t=>{const e=SD(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const u=a.split(ow);return u[0]===""&&u.length!==1&&u.shift(),Yk(u,e)||ED(a)},getConflictingClassGroupIds:(a,u)=>{const d=r[a]||[];return u&&n[a]?[...d,...n[a]]:d}}},Yk=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?Yk(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(ow);return(a=e.validators.find(({validator:u})=>u(s)))==null?void 0:a.classGroupId},EE=/^\[(.+)\]$/,ED=t=>{if(EE.test(t)){const e=EE.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},SD=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return CD(Object.entries(t.classGroups),r).forEach(([s,a])=>{R0(a,n,s,e)}),n},R0=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:SE(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(jD(i)){R0(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{R0(a,SE(e,s),r,n)})})},SE=(t,e)=>{let r=t;return e.split(ow).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jD=t=>t.isThemeGetter,CD=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,u])=>[e+a,u])):s);return[r,i]}):t,kD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},Zk="!",ND=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=u=>{const d=[];let h=0,f=0,p;for(let b=0;b<u.length;b++){let E=u[b];if(h===0){if(E===i&&(n||u.slice(b,b+s)===e)){d.push(u.slice(f,b)),f=b+s;continue}if(E==="/"){p=b;continue}}E==="["?h++:E==="]"&&h--}const m=d.length===0?u:u.substring(f),g=m.startsWith(Zk),_=g?m.substring(1):m,y=p&&p>f?p-f:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:y}};return r?u=>r({className:u,parseClassName:a}):a},OD=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},AD=t=>({cache:kD(t.cacheSize),parseClassName:ND(t),..._D(t)}),TD=/\s+/,RD=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(TD);let u="";for(let d=a.length-1;d>=0;d-=1){const h=a[d],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=r(h);let _=!!g,y=n(_?m.substring(0,g):m);if(!y){if(!_){u=h+(u.length>0?" "+u:u);continue}if(y=n(m),!y){u=h+(u.length>0?" "+u:u);continue}_=!1}const b=OD(f).join(":"),E=p?b+Zk:b,x=E+y;if(s.includes(x))continue;s.push(x);const j=i(y,_);for(let w=0;w<j.length;++w){const C=j[w];s.push(E+C)}u=h+(u.length>0?" "+u:u)}return u};function PD(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Jk(e))&&(n&&(n+=" "),n+=r);return n}const Jk=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Jk(t[n]))&&(r&&(r+=" "),r+=e);return r};function ID(t,...e){let r,n,i,s=a;function a(d){const h=e.reduce((f,p)=>p(f),t());return r=AD(h),n=r.cache.get,i=r.cache.set,s=u,u(d)}function u(d){const h=n(d);if(h)return h;const f=RD(d,r);return i(d,f),f}return function(){return s(PD.apply(null,arguments))}}const hr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Xk=/^\[(?:([a-z-]+):)?(.+)\]$/i,DD=/^\d+\/\d+$/,MD=new Set(["px","full","screen"]),LD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$D=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=t=>sc(t)||MD.has(t)||DD.test(t),ho=t=>qc(t,"length",QD),sc=t=>!!t&&!Number.isNaN(Number(t)),Qg=t=>qc(t,"number",sc),Pu=t=>!!t&&Number.isInteger(Number(t)),UD=t=>t.endsWith("%")&&sc(t.slice(0,-1)),kt=t=>Xk.test(t),po=t=>LD.test(t),VD=new Set(["length","size","percentage"]),zD=t=>qc(t,VD,eN),HD=t=>qc(t,"position",eN),WD=new Set(["image","url"]),KD=t=>qc(t,WD,ZD),GD=t=>qc(t,"",YD),Iu=()=>!0,qc=(t,e,r)=>{const n=Xk.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},QD=t=>FD.test(t)&&!$D.test(t),eN=()=>!1,YD=t=>qD.test(t),ZD=t=>BD.test(t),JD=()=>{const t=hr("colors"),e=hr("spacing"),r=hr("blur"),n=hr("brightness"),i=hr("borderColor"),s=hr("borderRadius"),a=hr("borderSpacing"),u=hr("borderWidth"),d=hr("contrast"),h=hr("grayscale"),f=hr("hueRotate"),p=hr("invert"),m=hr("gap"),g=hr("gradientColorStops"),_=hr("gradientColorStopPositions"),y=hr("inset"),b=hr("margin"),E=hr("opacity"),x=hr("padding"),j=hr("saturate"),w=hr("scale"),C=hr("sepia"),O=hr("skew"),A=hr("space"),P=hr("translate"),q=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",kt,e],L=()=>[kt,e],B=()=>["",ys,ho],U=()=>["auto",sc,kt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",kt],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[sc,kt];return{cacheSize:500,separator:":",theme:{colors:[Iu],spacing:[ys,ho],blur:["none","",po,kt],brightness:M(),borderColor:[t],borderRadius:["none","","full",po,kt],borderSpacing:L(),borderWidth:B(),contrast:M(),grayscale:K(),hueRotate:M(),invert:K(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[UD,ho],inset:D(),margin:D(),opacity:M(),padding:L(),saturate:M(),scale:M(),sepia:K(),skew:M(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[po]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),kt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pu,kt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Pu,kt]}],"grid-cols":[{"grid-cols":[Iu]}],"col-start-end":[{col:["auto",{span:["full",Pu,kt]},kt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Iu]}],"row-start-end":[{row:["auto",{span:[Pu,kt]},kt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,e]}],"min-w":[{"min-w":[kt,e,"min","max","fit"]}],"max-w":[{"max-w":[kt,e,"none","full","min","max","fit","prose",{screen:[po]},po]}],h:[{h:[kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",po,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qg]}],"font-family":[{font:[Iu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",sc,Qg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ys,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ys,ho]}],"underline-offset":[{"underline-offset":["auto",ys,kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),HD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[ys,kt]}],"outline-w":[{outline:[ys,ho]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ys,ho]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",po,GD]}],"shadow-color":[{shadow:[Iu]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",po,kt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[j]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Pu,kt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ys,ho,Qg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XD=ID(JD);function Be(...t){return XD(Lk(t))}const eM=nD,tN=N.forwardRef(({className:t,...e},r)=>c.jsx(Ak,{ref:r,className:Be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));tN.displayName=Ak.displayName;const tM=kd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rN=N.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(Tk,{ref:n,className:Be(tM({variant:e}),t),...r}));rN.displayName=Tk.displayName;const rM=N.forwardRef(({className:t,...e},r)=>c.jsx(Ik,{ref:r,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));rM.displayName=Ik.displayName;const nN=N.forwardRef(({className:t,...e},r)=>c.jsx(Dk,{ref:r,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(sw,{className:"h-4 w-4"})}));nN.displayName=Dk.displayName;const iN=N.forwardRef(({className:t,...e},r)=>c.jsx(Rk,{ref:r,className:Be("text-sm font-semibold",t),...e}));iN.displayName=Rk.displayName;const sN=N.forwardRef(({className:t,...e},r)=>c.jsx(Pk,{ref:r,className:Be("text-sm opacity-90",t),...e}));sN.displayName=Pk.displayName;function nM(){const{toasts:t}=h5();return c.jsxs(eM,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return c.jsxs(rN,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(iN,{children:r}),n&&c.jsx(sN,{children:n})]}),i,c.jsx(nN,{})]},e)}),c.jsx(tN,{})]})}var jE=["light","dark"],iM="(prefers-color-scheme: dark)",sM=N.createContext(void 0),oM={setTheme:t=>{},themes:[]},aM=()=>{var t;return(t=N.useContext(sM))!=null?t:oM};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:u,nonce:d})=>{let h=s==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=i?jE.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(_,y=!1,b=!0)=>{let E=a?a[_]:_,x=y?_+"|| ''":`'${E}'`,j="";return i&&b&&!y&&jE.includes(_)&&(j+=`d.style.colorScheme = '${_}';`),r==="class"?y||E?j+=`c.add(${x})`:j+="null":E&&(j+=`d[s](n,${x})`),j},g=t?`!function(){${f}${m(t)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${iM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${h?"":"else{"+m(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(s,!1,!1)};}${p}}catch(t){}}();`;return N.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:g}})});var lM=t=>{switch(t){case"success":return dM;case"info":return hM;case"warning":return fM;case"error":return pM;default:return null}},cM=Array(12).fill(0),uM=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},cM.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dM=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fM=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hM=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pM=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mM=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gM=()=>{let[t,e]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},P0=1,vM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:P0++,s=this.toasts.find(u=>u.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:r}),{...u,...t,id:i,dismissible:a,title:r}):u):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,a=n.then(async d=>{if(s=["resolve",d],z.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(bM(d)&&!d.ok){i=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:r,type:"error",message:h,description:f})}else if(e.success!==void 0){i=!1;let h=typeof e.success=="function"?await e.success(d):e.success,f=typeof e.description=="function"?await e.description(d):e.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(s=["reject",d],e.error!==void 0){i=!1;let h=typeof e.error=="function"?await e.error(d):e.error,f=typeof e.description=="function"?await e.description(d):e.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=e.finally)==null||d.call(e)}),u=()=>new Promise((d,h)=>a.then(()=>s[0]==="reject"?h(s[1]):d(s[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||P0++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},An=new vM,yM=(t,e)=>{let r=(e==null?void 0:e.id)||P0++;return An.addToast({title:t,...e,id:r}),r},bM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wM=yM,xM=()=>An.toasts,_M=()=>An.getActiveToasts(),ke=Object.assign(wM,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:xM,getToasts:_M});function EM(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}EM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rh(t){return t.label!==void 0}var SM=3,jM="32px",CM="16px",CE=4e3,kM=356,NM=14,OM=20,AM=200;function ji(...t){return t.filter(Boolean).join(" ")}function TM(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var RM=t=>{var e,r,n,i,s,a,u,d,h,f,p;let{invert:m,toast:g,unstyled:_,interacting:y,setHeights:b,visibleToasts:E,heights:x,index:j,toasts:w,expanded:C,removeToast:O,defaultRichColors:A,closeButton:P,style:q,cancelButtonStyle:T,actionButtonStyle:D,className:L="",descriptionClassName:B="",duration:U,position:Y,gap:X,loadingIcon:ie,expandByDefault:re,classNames:K,icons:Q,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:$}=t,[G,te]=z.useState(null),[ee,W]=z.useState(null),[Z,le]=z.useState(!1),[ce,me]=z.useState(!1),[je,Te]=z.useState(!1),[ze,Ze]=z.useState(!1),[pt,_t]=z.useState(!1),[xt,xe]=z.useState(0),[_e,J]=z.useState(0),oe=z.useRef(g.duration||U||CE),ae=z.useRef(null),Ee=z.useRef(null),he=j===0,ve=j+1<=E,Oe=g.type,lt=g.dismissible!==!1,He=g.className||"",Et=g.descriptionClassName||"",V=z.useMemo(()=>x.findIndex(nt=>nt.toastId===g.id)||0,[x,g.id]),R=z.useMemo(()=>{var nt;return(nt=g.closeButton)!=null?nt:P},[g.closeButton,P]),F=z.useMemo(()=>g.duration||U||CE,[g.duration,U]),ne=z.useRef(0),fe=z.useRef(0),be=z.useRef(0),Se=z.useRef(null),[yt,It]=Y.split("-"),Dt=z.useMemo(()=>x.reduce((nt,qt,Yt)=>Yt>=V?nt:nt+qt.height,0),[x,V]),Vt=gM(),Ot=g.invert||m,xn=Oe==="loading";fe.current=z.useMemo(()=>V*X+Dt,[V,Dt]),z.useEffect(()=>{oe.current=F},[F]),z.useEffect(()=>{le(!0)},[]),z.useEffect(()=>{let nt=Ee.current;if(nt){let qt=nt.getBoundingClientRect().height;return J(qt),b(Yt=>[{toastId:g.id,height:qt,position:g.position},...Yt]),()=>b(Yt=>Yt.filter(Gr=>Gr.toastId!==g.id))}},[b,g.id]),z.useLayoutEffect(()=>{if(!Z)return;let nt=Ee.current,qt=nt.style.height;nt.style.height="auto";let Yt=nt.getBoundingClientRect().height;nt.style.height=qt,J(Yt),b(Gr=>Gr.find(en=>en.toastId===g.id)?Gr.map(en=>en.toastId===g.id?{...en,height:Yt}:en):[{toastId:g.id,height:Yt,position:g.position},...Gr])},[Z,g.title,g.description,b,g.id]);let Xr=z.useCallback(()=>{me(!0),xe(fe.current),b(nt=>nt.filter(qt=>qt.toastId!==g.id)),setTimeout(()=>{O(g)},AM)},[g,O,b,fe]);z.useEffect(()=>{if(g.promise&&Oe==="loading"||g.duration===1/0||g.type==="loading")return;let nt;return C||y||$&&Vt?(()=>{if(be.current<ne.current){let qt=new Date().getTime()-ne.current;oe.current=oe.current-qt}be.current=new Date().getTime()})():oe.current!==1/0&&(ne.current=new Date().getTime(),nt=setTimeout(()=>{var qt;(qt=g.onAutoClose)==null||qt.call(g,g),Xr()},oe.current)),()=>clearTimeout(nt)},[C,y,g,Oe,$,Vt,Xr]),z.useEffect(()=>{g.delete&&Xr()},[Xr,g.delete]);function We(){var nt,qt,Yt;return Q!=null&&Q.loading?z.createElement("div",{className:ji(K==null?void 0:K.loader,(nt=g==null?void 0:g.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":Oe==="loading"},Q.loading):ie?z.createElement("div",{className:ji(K==null?void 0:K.loader,(qt=g==null?void 0:g.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":Oe==="loading"},ie):z.createElement(uM,{className:ji(K==null?void 0:K.loader,(Yt=g==null?void 0:g.classNames)==null?void 0:Yt.loader),visible:Oe==="loading"})}return z.createElement("li",{tabIndex:0,ref:Ee,className:ji(L,He,K==null?void 0:K.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[Oe],(r=g==null?void 0:g.classNames)==null?void 0:r[Oe]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:A,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":Z,"data-promise":!!g.promise,"data-swiped":pt,"data-removed":ce,"data-visible":ve,"data-y-position":yt,"data-x-position":It,"data-index":j,"data-front":he,"data-swiping":je,"data-dismissible":lt,"data-type":Oe,"data-invert":Ot,"data-swipe-out":ze,"data-swipe-direction":ee,"data-expanded":!!(C||re&&Z),style:{"--index":j,"--toasts-before":j,"--z-index":w.length-j,"--offset":`${ce?xt:fe.current}px`,"--initial-height":re?"auto":`${_e}px`,...q,...g.style},onDragEnd:()=>{Te(!1),te(null),Se.current=null},onPointerDown:nt=>{xn||!lt||(ae.current=new Date,xe(fe.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(Te(!0),Se.current={x:nt.clientX,y:nt.clientY}))},onPointerUp:()=>{var nt,qt,Yt,Gr;if(ze||!lt)return;Se.current=null;let en=Number(((nt=Ee.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Er=Number(((qt=Ee.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mn=new Date().getTime()-((Yt=ae.current)==null?void 0:Yt.getTime()),Mr=G==="x"?en:Er,ri=Math.abs(Mr)/Mn;if(Math.abs(Mr)>=OM||ri>.11){xe(fe.current),(Gr=g.onDismiss)==null||Gr.call(g,g),W(G==="x"?en>0?"right":"left":Er>0?"down":"up"),Xr(),Ze(!0),_t(!1);return}Te(!1),te(null)},onPointerMove:nt=>{var qt,Yt,Gr,en;if(!Se.current||!lt||((qt=window.getSelection())==null?void 0:qt.toString().length)>0)return;let Er=nt.clientY-Se.current.y,Mn=nt.clientX-Se.current.x,Mr=(Yt=t.swipeDirections)!=null?Yt:TM(Y);!G&&(Math.abs(Mn)>1||Math.abs(Er)>1)&&te(Math.abs(Mn)>Math.abs(Er)?"x":"y");let ri={x:0,y:0};G==="y"?(Mr.includes("top")||Mr.includes("bottom"))&&(Mr.includes("top")&&Er<0||Mr.includes("bottom")&&Er>0)&&(ri.y=Er):G==="x"&&(Mr.includes("left")||Mr.includes("right"))&&(Mr.includes("left")&&Mn<0||Mr.includes("right")&&Mn>0)&&(ri.x=Mn),(Math.abs(ri.x)>0||Math.abs(ri.y)>0)&&_t(!0),(Gr=Ee.current)==null||Gr.style.setProperty("--swipe-amount-x",`${ri.x}px`),(en=Ee.current)==null||en.style.setProperty("--swipe-amount-y",`${ri.y}px`)}},R&&!g.jsx?z.createElement("button",{"aria-label":M,"data-disabled":xn,"data-close-button":!0,onClick:xn||!lt?()=>{}:()=>{var nt;Xr(),(nt=g.onDismiss)==null||nt.call(g,g)},className:ji(K==null?void 0:K.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(s=Q==null?void 0:Q.close)!=null?s:mM):null,g.jsx||N.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:z.createElement(z.Fragment,null,Oe||g.icon||g.promise?z.createElement("div",{"data-icon":"",className:ji(K==null?void 0:K.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||We():null,g.type!=="loading"?g.icon||(Q==null?void 0:Q[Oe])||lM(Oe):null):null,z.createElement("div",{"data-content":"",className:ji(K==null?void 0:K.content,(u=g==null?void 0:g.classNames)==null?void 0:u.content)},z.createElement("div",{"data-title":"",className:ji(K==null?void 0:K.title,(d=g==null?void 0:g.classNames)==null?void 0:d.title)},typeof g.title=="function"?g.title():g.title),g.description?z.createElement("div",{"data-description":"",className:ji(B,Et,K==null?void 0:K.description,(h=g==null?void 0:g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),N.isValidElement(g.cancel)?g.cancel:g.cancel&&rh(g.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||T,onClick:nt=>{var qt,Yt;rh(g.cancel)&&lt&&((Yt=(qt=g.cancel).onClick)==null||Yt.call(qt,nt),Xr())},className:ji(K==null?void 0:K.cancelButton,(f=g==null?void 0:g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,N.isValidElement(g.action)?g.action:g.action&&rh(g.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:nt=>{var qt,Yt;rh(g.action)&&((Yt=(qt=g.action).onClick)==null||Yt.call(qt,nt),!nt.defaultPrevented&&Xr())},className:ji(K==null?void 0:K.actionButton,(p=g==null?void 0:g.classNames)==null?void 0:p.actionButton)},g.action.label):null))};function kE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function PM(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",u=s?CM:jM;function d(h){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${a}-${h}`]=u:r[`${a}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(u)}),r}var IM=N.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:u,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:m,style:g,visibleToasts:_=SM,toastOptions:y,dir:b=kE(),gap:E=NM,loadingIcon:x,icons:j,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:C}=t,[O,A]=z.useState([]),P=z.useMemo(()=>Array.from(new Set([n].concat(O.filter($=>$.position).map($=>$.position)))),[O,n]),[q,T]=z.useState([]),[D,L]=z.useState(!1),[B,U]=z.useState(!1),[Y,X]=z.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=z.useRef(null),re=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=z.useRef(null),Q=z.useRef(!1),M=z.useCallback($=>{A(G=>{var te;return(te=G.find(ee=>ee.id===$.id))!=null&&te.delete||An.dismiss($.id),G.filter(({id:ee})=>ee!==$.id)})},[]);return z.useEffect(()=>An.subscribe($=>{if($.dismiss){A(G=>G.map(te=>te.id===$.id?{...te,delete:!0}:te));return}setTimeout(()=>{uk.flushSync(()=>{A(G=>{let te=G.findIndex(ee=>ee.id===$.id);return te!==-1?[...G.slice(0,te),{...G[te],...$},...G.slice(te+1)]:[$,...G]})})})}),[]),z.useEffect(()=>{if(f!=="system"){X(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:G})=>{X(G?"dark":"light")})}catch{$.addListener(({matches:te})=>{try{X(te?"dark":"light")}catch(ee){console.error(ee)}})}},[f]),z.useEffect(()=>{O.length<=1&&L(!1)},[O]),z.useEffect(()=>{let $=G=>{var te,ee;i.every(W=>G[W]||G.code===W)&&(L(!0),(te=ie.current)==null||te.focus()),G.code==="Escape"&&(document.activeElement===ie.current||(ee=ie.current)!=null&&ee.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[i]),z.useEffect(()=>{if(ie.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,Q.current=!1)}},[ie.current]),z.createElement("section",{ref:e,"aria-label":`${w} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map(($,G)=>{var te;let[ee,W]=$.split("-");return O.length?z.createElement("ol",{key:$,dir:b==="auto"?kE():b,tabIndex:-1,ref:ie,className:u,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":ee,"data-lifted":D&&O.length>1&&!s,"data-x-position":W,style:{"--front-toast-height":`${((te=q[0])==null?void 0:te.height)||0}px`,"--width":`${kM}px`,"--gap":`${E}px`,...g,...PM(d,h)},onBlur:Z=>{Q.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(Q.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,K.current=Z.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{B||L(!1)},onDragEnd:()=>L(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},O.filter(Z=>!Z.position&&G===0||Z.position===$).map((Z,le)=>{var ce,me;return z.createElement(RM,{key:Z.id,icons:j,index:le,toast:Z,defaultRichColors:p,duration:(ce=y==null?void 0:y.duration)!=null?ce:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:_,closeButton:(me=y==null?void 0:y.closeButton)!=null?me:a,interacting:B,position:$,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:M,toasts:O.filter(je=>je.position==Z.position),heights:q.filter(je=>je.position==Z.position),setHeights:T,expandByDefault:s,gap:E,loadingIcon:x,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const DM=({...t})=>{const{theme:e="system"}=aM();return c.jsx(IM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var MM=Jb[" useId ".trim().toString()]||(()=>{}),LM=0;function Zr(t){const[e,r]=N.useState(MM());return Dr(()=>{r(n=>n??String(LM++))},[t]),e?`radix-${e}`:""}const FM=["top","right","bottom","left"],Ho=Math.min,Vn=Math.max,Ah=Math.round,nh=Math.floor,rs=t=>({x:t,y:t}),$M={left:"right",right:"left",bottom:"top",top:"bottom"},qM={start:"end",end:"start"};function I0(t,e,r){return Vn(t,Ho(e,r))}function Is(t,e){return typeof t=="function"?t(e):t}function Ds(t){return t.split("-")[0]}function Bc(t){return t.split("-")[1]}function aw(t){return t==="x"?"y":"x"}function lw(t){return t==="y"?"height":"width"}const BM=new Set(["top","bottom"]);function ts(t){return BM.has(Ds(t))?"y":"x"}function cw(t){return aw(ts(t))}function UM(t,e,r){r===void 0&&(r=!1);const n=Bc(t),i=cw(t),s=lw(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Th(a)),[a,Th(a)]}function VM(t){const e=Th(t);return[D0(t),e,D0(e)]}function D0(t){return t.replace(/start|end/g,e=>qM[e])}const NE=["left","right"],OE=["right","left"],zM=["top","bottom"],HM=["bottom","top"];function WM(t,e,r){switch(t){case"top":case"bottom":return r?e?OE:NE:e?NE:OE;case"left":case"right":return e?zM:HM;default:return[]}}function KM(t,e,r,n){const i=Bc(t);let s=WM(Ds(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(D0)))),s}function Th(t){return t.replace(/left|right|bottom|top/g,e=>$M[e])}function GM(t){return{top:0,right:0,bottom:0,left:0,...t}}function oN(t){return typeof t!="number"?GM(t):{top:t,right:t,bottom:t,left:t}}function Rh(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function AE(t,e,r){let{reference:n,floating:i}=t;const s=ts(e),a=cw(e),u=lw(a),d=Ds(e),h=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,m=n[u]/2-i[u]/2;let g;switch(d){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:p};break;case"left":g={x:n.x-i.width,y:p};break;default:g={x:n.x,y:n.y}}switch(Bc(e)){case"start":g[a]-=m*(r&&h?-1:1);break;case"end":g[a]+=m*(r&&h?-1:1);break}return g}const QM=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,u=s.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=AE(h,n,d),m=n,g={},_=0;for(let y=0;y<u.length;y++){const{name:b,fn:E}=u[y],{x,y:j,data:w,reset:C}=await E({x:f,y:p,initialPlacement:n,placement:m,strategy:i,middlewareData:g,rects:h,platform:a,elements:{reference:t,floating:e}});f=x??f,p=j??p,g={...g,[b]:{...g[b],...w}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(h=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:f,y:p}=AE(h,m,d)),y=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:g}};async function ed(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:u,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=Is(e,t),_=oN(g),b=u[m?p==="floating"?"reference":"floating":p],E=Rh(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:h,rootBoundary:f,strategy:d})),x=p==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),w=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},C=Rh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:x,offsetParent:j,strategy:d}):x);return{top:(E.top-C.top+_.top)/w.y,bottom:(C.bottom-E.bottom+_.bottom)/w.y,left:(E.left-C.left+_.left)/w.x,right:(C.right-E.right+_.right)/w.x}}const YM=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:u,middlewareData:d}=e,{element:h,padding:f=0}=Is(t,e)||{};if(h==null)return{};const p=oN(f),m={x:r,y:n},g=cw(i),_=lw(g),y=await a.getDimensions(h),b=g==="y",E=b?"top":"left",x=b?"bottom":"right",j=b?"clientHeight":"clientWidth",w=s.reference[_]+s.reference[g]-m[g]-s.floating[_],C=m[g]-s.reference[g],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let A=O?O[j]:0;(!A||!await(a.isElement==null?void 0:a.isElement(O)))&&(A=u.floating[j]||s.floating[_]);const P=w/2-C/2,q=A/2-y[_]/2-1,T=Ho(p[E],q),D=Ho(p[x],q),L=T,B=A-y[_]-D,U=A/2-y[_]/2+P,Y=I0(L,U,B),X=!d.arrow&&Bc(i)!=null&&U!==Y&&s.reference[_]/2-(U<L?T:D)-y[_]/2<0,ie=X?U<L?U-L:U-B:0;return{[g]:m[g]+ie,data:{[g]:Y,centerOffset:U-Y-ie,...X&&{alignmentOffset:ie}},reset:X}}}),ZM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...b}=Is(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=Ds(i),x=ts(u),j=Ds(u)===u,w=await(d.isRTL==null?void 0:d.isRTL(h.floating)),C=m||(j||!y?[Th(u)]:VM(u)),O=_!=="none";!m&&O&&C.push(...KM(u,y,_,w));const A=[u,...C],P=await ed(e,b),q=[];let T=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&q.push(P[E]),p){const U=UM(i,a,w);q.push(P[U[0]],P[U[1]])}if(T=[...T,{placement:i,overflows:q}],!q.every(U=>U<=0)){var D,L;const U=(((D=s.flip)==null?void 0:D.index)||0)+1,Y=A[U];if(Y&&(!(p==="alignment"?x!==ts(Y):!1)||T.every(re=>ts(re.placement)===x?re.overflows[0]>0:!0)))return{data:{index:U,overflows:T},reset:{placement:Y}};let X=(L=T.filter(ie=>ie.overflows[0]<=0).sort((ie,re)=>ie.overflows[1]-re.overflows[1])[0])==null?void 0:L.placement;if(!X)switch(g){case"bestFit":{var B;const ie=(B=T.filter(re=>{if(O){const K=ts(re.placement);return K===x||K==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(K=>K>0).reduce((K,Q)=>K+Q,0)]).sort((re,K)=>re[1]-K[1])[0])==null?void 0:B[0];ie&&(X=ie);break}case"initialPlacement":X=u;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function TE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RE(t){return FM.some(e=>t[e]>=0)}const JM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Is(t,e);switch(n){case"referenceHidden":{const s=await ed(e,{...i,elementContext:"reference"}),a=TE(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:RE(a)}}}case"escaped":{const s=await ed(e,{...i,altBoundary:!0}),a=TE(s,r.floating);return{data:{escapedOffsets:a,escaped:RE(a)}}}default:return{}}}}},aN=new Set(["left","top"]);async function XM(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Ds(r),u=Bc(r),d=ts(r)==="y",h=aN.has(a)?-1:1,f=s&&d?-1:1,p=Is(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof _=="number"&&(g=u==="end"?_*-1:_),d?{x:g*f,y:m*h}:{x:m*h,y:g*f}}const e6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:u}=e,d=await XM(e,t);return a===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:a}}}}},t6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:b=>{let{x:E,y:x}=b;return{x:E,y:x}}},...d}=Is(t,e),h={x:r,y:n},f=await ed(e,d),p=ts(Ds(i)),m=aw(p);let g=h[m],_=h[p];if(s){const b=m==="y"?"top":"left",E=m==="y"?"bottom":"right",x=g+f[b],j=g-f[E];g=I0(x,g,j)}if(a){const b=p==="y"?"top":"left",E=p==="y"?"bottom":"right",x=_+f[b],j=_-f[E];_=I0(x,_,j)}const y=u.fn({...e,[m]:g,[p]:_});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:s,[p]:a}}}}}},r6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=Is(t,e),f={x:r,y:n},p=ts(i),m=aw(p);let g=f[m],_=f[p];const y=Is(u,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const j=m==="y"?"height":"width",w=s.reference[m]-s.floating[j]+b.mainAxis,C=s.reference[m]+s.reference[j]-b.mainAxis;g<w?g=w:g>C&&(g=C)}if(h){var E,x;const j=m==="y"?"width":"height",w=aN.has(Ds(i)),C=s.reference[p]-s.floating[j]+(w&&((E=a.offset)==null?void 0:E[p])||0)+(w?0:b.crossAxis),O=s.reference[p]+s.reference[j]+(w?0:((x=a.offset)==null?void 0:x[p])||0)-(w?b.crossAxis:0);_<C?_=C:_>O&&(_=O)}return{[m]:g,[p]:_}}}},n6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:u}=e,{apply:d=()=>{},...h}=Is(t,e),f=await ed(e,h),p=Ds(i),m=Bc(i),g=ts(i)==="y",{width:_,height:y}=s.floating;let b,E;p==="top"||p==="bottom"?(b=p,E=m===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(E=p,b=m==="end"?"top":"bottom");const x=y-f.top-f.bottom,j=_-f.left-f.right,w=Ho(y-f[b],x),C=Ho(_-f[E],j),O=!e.middlewareData.shift;let A=w,P=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(P=j),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=x),O&&!m){const T=Vn(f.left,0),D=Vn(f.right,0),L=Vn(f.top,0),B=Vn(f.bottom,0);g?P=_-2*(T!==0||D!==0?T+D:Vn(f.left,f.right)):A=y-2*(L!==0||B!==0?L+B:Vn(f.top,f.bottom))}await d({...e,availableWidth:P,availableHeight:A});const q=await a.getDimensions(u.floating);return _!==q.width||y!==q.height?{reset:{rects:!0}}:{}}}};function lp(){return typeof window<"u"}function Uc(t){return lN(t)?(t.nodeName||"").toLowerCase():"#document"}function Zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cs(t){var e;return(e=(lN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lN(t){return lp()?t instanceof Node||t instanceof Zn(t).Node:!1}function Ii(t){return lp()?t instanceof Element||t instanceof Zn(t).Element:!1}function os(t){return lp()?t instanceof HTMLElement||t instanceof Zn(t).HTMLElement:!1}function PE(t){return!lp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zn(t).ShadowRoot}const i6=new Set(["inline","contents"]);function Od(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Di(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!i6.has(i)}const s6=new Set(["table","td","th"]);function o6(t){return s6.has(Uc(t))}const a6=[":popover-open",":modal"];function cp(t){return a6.some(e=>{try{return t.matches(e)}catch{return!1}})}const l6=["transform","translate","scale","rotate","perspective"],c6=["transform","translate","scale","rotate","perspective","filter"],u6=["paint","layout","strict","content"];function uw(t){const e=dw(),r=Ii(t)?Di(t):t;return l6.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||c6.some(n=>(r.willChange||"").includes(n))||u6.some(n=>(r.contain||"").includes(n))}function d6(t){let e=Wo(t);for(;os(e)&&!Cc(e);){if(uw(e))return e;if(cp(e))return null;e=Wo(e)}return null}function dw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const f6=new Set(["html","body","#document"]);function Cc(t){return f6.has(Uc(t))}function Di(t){return Zn(t).getComputedStyle(t)}function up(t){return Ii(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wo(t){if(Uc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PE(t)&&t.host||cs(t);return PE(e)?e.host:e}function cN(t){const e=Wo(t);return Cc(e)?t.ownerDocument?t.ownerDocument.body:t.body:os(e)&&Od(e)?e:cN(e)}function td(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=cN(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Zn(i);if(s){const u=M0(a);return e.concat(a,a.visualViewport||[],Od(i)?i:[],u&&r?td(u):[])}return e.concat(i,td(i,[],r))}function M0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function uN(t){const e=Di(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=os(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,u=Ah(r)!==s||Ah(n)!==a;return u&&(r=s,n=a),{width:r,height:n,$:u}}function fw(t){return Ii(t)?t:t.contextElement}function oc(t){const e=fw(t);if(!os(e))return rs(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=uN(e);let a=(s?Ah(r.width):r.width)/n,u=(s?Ah(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const h6=rs(0);function dN(t){const e=Zn(t);return!dw()||!e.visualViewport?h6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p6(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Zn(t)?!1:e}function za(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=fw(t);let a=rs(1);e&&(n?Ii(n)&&(a=oc(n)):a=oc(t));const u=p6(s,r,n)?dN(s):rs(0);let d=(i.left+u.x)/a.x,h=(i.top+u.y)/a.y,f=i.width/a.x,p=i.height/a.y;if(s){const m=Zn(s),g=n&&Ii(n)?Zn(n):n;let _=m,y=M0(_);for(;y&&n&&g!==_;){const b=oc(y),E=y.getBoundingClientRect(),x=Di(y),j=E.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,w=E.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;d*=b.x,h*=b.y,f*=b.x,p*=b.y,d+=j,h+=w,_=Zn(y),y=M0(_)}}return Rh({width:f,height:p,x:d,y:h})}function dp(t,e){const r=up(t).scrollLeft;return e?e.left+r:za(cs(t)).left+r}function fN(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-dp(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function m6(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=cs(n),u=e?cp(e.floating):!1;if(n===a||u&&s)return r;let d={scrollLeft:0,scrollTop:0},h=rs(1);const f=rs(0),p=os(n);if((p||!p&&!s)&&((Uc(n)!=="body"||Od(a))&&(d=up(n)),os(n))){const g=za(n);h=oc(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const m=a&&!p&&!s?fN(a,d):rs(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+f.x+m.x,y:r.y*h.y-d.scrollTop*h.y+f.y+m.y}}function g6(t){return Array.from(t.getClientRects())}function v6(t){const e=cs(t),r=up(t),n=t.ownerDocument.body,i=Vn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Vn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+dp(t);const u=-r.scrollTop;return Di(n).direction==="rtl"&&(a+=Vn(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:u}}const IE=25;function y6(t,e){const r=Zn(t),n=cs(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,u=0,d=0;if(i){s=i.width,a=i.height;const f=dw();(!f||f&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const h=dp(n);if(h<=0){const f=n.ownerDocument,p=f.body,m=getComputedStyle(p),g=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,_=Math.abs(n.clientWidth-p.clientWidth-g);_<=IE&&(s-=_)}else h<=IE&&(s+=h);return{width:s,height:a,x:u,y:d}}const b6=new Set(["absolute","fixed"]);function w6(t,e){const r=za(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=os(t)?oc(t):rs(1),a=t.clientWidth*s.x,u=t.clientHeight*s.y,d=i*s.x,h=n*s.y;return{width:a,height:u,x:d,y:h}}function DE(t,e,r){let n;if(e==="viewport")n=y6(t,r);else if(e==="document")n=v6(cs(t));else if(Ii(e))n=w6(e,r);else{const i=dN(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Rh(n)}function hN(t,e){const r=Wo(t);return r===e||!Ii(r)||Cc(r)?!1:Di(r).position==="fixed"||hN(r,e)}function x6(t,e){const r=e.get(t);if(r)return r;let n=td(t,[],!1).filter(u=>Ii(u)&&Uc(u)!=="body"),i=null;const s=Di(t).position==="fixed";let a=s?Wo(t):t;for(;Ii(a)&&!Cc(a);){const u=Di(a),d=uw(a);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&b6.has(i.position)||Od(a)&&!d&&hN(t,a))?n=n.filter(f=>f!==a):i=u,a=Wo(a)}return e.set(t,n),n}function _6(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?cp(e)?[]:x6(e,this._c):[].concat(r),n],u=a[0],d=a.reduce((h,f)=>{const p=DE(e,f,i);return h.top=Vn(p.top,h.top),h.right=Ho(p.right,h.right),h.bottom=Ho(p.bottom,h.bottom),h.left=Vn(p.left,h.left),h},DE(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function E6(t){const{width:e,height:r}=uN(t);return{width:e,height:r}}function S6(t,e,r){const n=os(e),i=cs(e),s=r==="fixed",a=za(t,!0,s,e);let u={scrollLeft:0,scrollTop:0};const d=rs(0);function h(){d.x=dp(i)}if(n||!n&&!s)if((Uc(e)!=="body"||Od(i))&&(u=up(e)),n){const g=za(e,!0,s,e);d.x=g.x+e.clientLeft,d.y=g.y+e.clientTop}else i&&h();s&&!n&&i&&h();const f=i&&!n&&!s?fN(i,u):rs(0),p=a.left+u.scrollLeft-d.x-f.x,m=a.top+u.scrollTop-d.y-f.y;return{x:p,y:m,width:a.width,height:a.height}}function Yg(t){return Di(t).position==="static"}function ME(t,e){if(!os(t)||Di(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return cs(t)===r&&(r=r.ownerDocument.body),r}function pN(t,e){const r=Zn(t);if(cp(t))return r;if(!os(t)){let i=Wo(t);for(;i&&!Cc(i);){if(Ii(i)&&!Yg(i))return i;i=Wo(i)}return r}let n=ME(t,e);for(;n&&o6(n)&&Yg(n);)n=ME(n,e);return n&&Cc(n)&&Yg(n)&&!uw(n)?r:n||d6(t)||r}const j6=async function(t){const e=this.getOffsetParent||pN,r=this.getDimensions,n=await r(t.floating);return{reference:S6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function C6(t){return Di(t).direction==="rtl"}const k6={convertOffsetParentRelativeRectToViewportRelativeRect:m6,getDocumentElement:cs,getClippingRect:_6,getOffsetParent:pN,getElementRects:j6,getClientRects:g6,getDimensions:E6,getScale:oc,isElement:Ii,isRTL:C6};function mN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function N6(t,e){let r=null,n;const i=cs(t);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function a(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const h=t.getBoundingClientRect(),{left:f,top:p,width:m,height:g}=h;if(u||e(),!m||!g)return;const _=nh(p),y=nh(i.clientWidth-(f+m)),b=nh(i.clientHeight-(p+g)),E=nh(f),j={rootMargin:-_+"px "+-y+"px "+-b+"px "+-E+"px",threshold:Vn(0,Ho(1,d))||1};let w=!0;function C(O){const A=O[0].intersectionRatio;if(A!==d){if(!w)return a();A?a(!1,A):n=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!mN(h,t.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver(C,{...j,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,j)}r.observe(t)}return a(!0),s}function O6(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=fw(t),f=i||s?[...h?td(h):[],...td(e)]:[];f.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const p=h&&u?N6(h,r):null;let m=-1,g=null;a&&(g=new ResizeObserver(E=>{let[x]=E;x&&x.target===h&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(e)})),r()}),h&&!d&&g.observe(h),g.observe(e));let _,y=d?za(t):null;d&&b();function b(){const E=za(t);y&&!mN(y,E)&&r(),y=E,_=requestAnimationFrame(b)}return r(),()=>{var E;f.forEach(x=>{i&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),p==null||p(),(E=g)==null||E.disconnect(),g=null,d&&cancelAnimationFrame(_)}}const A6=e6,T6=t6,R6=ZM,P6=n6,I6=JM,LE=YM,D6=r6,M6=(t,e,r)=>{const n=new Map,i={platform:k6,...r},s={...i.platform,_c:n};return QM(t,e,{...i,platform:s})};var L6=typeof document<"u",F6=function(){},wh=L6?N.useLayoutEffect:F6;function Ph(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Ph(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Ph(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function gN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FE(t,e){const r=gN(t);return Math.round(e*r)/r}function Zg(t){const e=N.useRef(t);return wh(()=>{e.current=t}),e}function $6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:u=!0,whileElementsMounted:d,open:h}=t,[f,p]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=N.useState(n);Ph(m,n)||g(n);const[_,y]=N.useState(null),[b,E]=N.useState(null),x=N.useCallback(re=>{re!==O.current&&(O.current=re,y(re))},[]),j=N.useCallback(re=>{re!==A.current&&(A.current=re,E(re))},[]),w=s||_,C=a||b,O=N.useRef(null),A=N.useRef(null),P=N.useRef(f),q=d!=null,T=Zg(d),D=Zg(i),L=Zg(h),B=N.useCallback(()=>{if(!O.current||!A.current)return;const re={placement:e,strategy:r,middleware:m};D.current&&(re.platform=D.current),M6(O.current,A.current,re).then(K=>{const Q={...K,isPositioned:L.current!==!1};U.current&&!Ph(P.current,Q)&&(P.current=Q,Fc.flushSync(()=>{p(Q)}))})},[m,e,r,D,L]);wh(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(re=>({...re,isPositioned:!1})))},[h]);const U=N.useRef(!1);wh(()=>(U.current=!0,()=>{U.current=!1}),[]),wh(()=>{if(w&&(O.current=w),C&&(A.current=C),w&&C){if(T.current)return T.current(w,C,B);B()}},[w,C,B,T,q]);const Y=N.useMemo(()=>({reference:O,floating:A,setReference:x,setFloating:j}),[x,j]),X=N.useMemo(()=>({reference:w,floating:C}),[w,C]),ie=N.useMemo(()=>{const re={position:r,left:0,top:0};if(!X.floating)return re;const K=FE(X.floating,f.x),Q=FE(X.floating,f.y);return u?{...re,transform:"translate("+K+"px, "+Q+"px)",...gN(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:Q}},[r,u,X.floating,f.x,f.y]);return N.useMemo(()=>({...f,update:B,refs:Y,elements:X,floatingStyles:ie}),[f,B,Y,X,ie])}const q6=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?LE({element:n.current,padding:i}).fn(r):{}:n?LE({element:n,padding:i}).fn(r):{}}}},B6=(t,e)=>({...A6(t),options:[t,e]}),U6=(t,e)=>({...T6(t),options:[t,e]}),V6=(t,e)=>({...D6(t),options:[t,e]}),z6=(t,e)=>({...R6(t),options:[t,e]}),H6=(t,e)=>({...P6(t),options:[t,e]}),W6=(t,e)=>({...I6(t),options:[t,e]}),K6=(t,e)=>({...q6(t),options:[t,e]});var G6="Arrow",vN=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return c.jsx(it.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});vN.displayName=G6;var Q6=vN;function yN(t){const[e,r]=N.useState(void 0);return Dr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,u;if("borderBoxSize"in s){const d=s.borderBoxSize,h=Array.isArray(d)?d[0]:d;a=h.inlineSize,u=h.blockSize}else a=t.offsetWidth,u=t.offsetHeight;r({width:a,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var hw="Popper",[bN,Jo]=Xn(hw),[Y6,wN]=bN(hw),xN=t=>{const{__scopePopper:e,children:r}=t,[n,i]=N.useState(null);return c.jsx(Y6,{scope:e,anchor:n,onAnchorChange:i,children:r})};xN.displayName=hw;var _N="PopperAnchor",EN=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=wN(_N,r),a=N.useRef(null),u=$t(e,a),d=N.useRef(null);return N.useEffect(()=>{const h=d.current;d.current=(n==null?void 0:n.current)||a.current,h!==d.current&&s.onAnchorChange(d.current)}),n?null:c.jsx(it.div,{...i,ref:u})});EN.displayName=_N;var pw="PopperContent",[Z6,J6]=bN(pw),SN=N.forwardRef((t,e)=>{var Z,le,ce,me,je,Te;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:_,...y}=t,b=wN(pw,r),[E,x]=N.useState(null),j=$t(e,ze=>x(ze)),[w,C]=N.useState(null),O=yN(w),A=(O==null?void 0:O.width)??0,P=(O==null?void 0:O.height)??0,q=n+(s!=="center"?"-"+s:""),T=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(h)?h:[h],L=D.length>0,B={padding:T,boundary:D.filter(eL),altBoundary:L},{refs:U,floatingStyles:Y,placement:X,isPositioned:ie,middlewareData:re}=$6({strategy:"fixed",placement:q,whileElementsMounted:(...ze)=>O6(...ze,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[B6({mainAxis:i+P,alignmentAxis:a}),d&&U6({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?V6():void 0,...B}),d&&z6({...B}),H6({...B,apply:({elements:ze,rects:Ze,availableWidth:pt,availableHeight:_t})=>{const{width:xt,height:xe}=Ze.reference,_e=ze.floating.style;_e.setProperty("--radix-popper-available-width",`${pt}px`),_e.setProperty("--radix-popper-available-height",`${_t}px`),_e.setProperty("--radix-popper-anchor-width",`${xt}px`),_e.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),w&&K6({element:w,padding:u}),tL({arrowWidth:A,arrowHeight:P}),m&&W6({strategy:"referenceHidden",...B})]}),[K,Q]=kN(X),M=gn(_);Dr(()=>{ie&&(M==null||M())},[ie,M]);const $=(Z=re.arrow)==null?void 0:Z.x,G=(le=re.arrow)==null?void 0:le.y,te=((ce=re.arrow)==null?void 0:ce.centerOffset)!==0,[ee,W]=N.useState();return Dr(()=>{E&&W(window.getComputedStyle(E).zIndex)},[E]),c.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ie?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(me=re.transformOrigin)==null?void 0:me.x,(je=re.transformOrigin)==null?void 0:je.y].join(" "),...((Te=re.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Z6,{scope:r,placedSide:K,onArrowChange:C,arrowX:$,arrowY:G,shouldHideArrow:te,children:c.jsx(it.div,{"data-side":K,"data-align":Q,...y,ref:j,style:{...y.style,animation:ie?void 0:"none"}})})})});SN.displayName=pw;var jN="PopperArrow",X6={top:"bottom",right:"left",bottom:"top",left:"right"},CN=N.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=J6(jN,n),a=X6[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(Q6,{...i,ref:r,style:{...i.style,display:"block"}})})});CN.displayName=jN;function eL(t){return t!==null}var tL=t=>({name:"transformOrigin",options:t,fn(e){var b,E,x;const{placement:r,rects:n,middlewareData:i}=e,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,u=a?0:t.arrowWidth,d=a?0:t.arrowHeight,[h,f]=kN(r),p={start:"0%",center:"50%",end:"100%"}[f],m=(((E=i.arrow)==null?void 0:E.x)??0)+u/2,g=(((x=i.arrow)==null?void 0:x.y)??0)+d/2;let _="",y="";return h==="bottom"?(_=a?p:`${m}px`,y=`${-d}px`):h==="top"?(_=a?p:`${m}px`,y=`${n.floating.height+d}px`):h==="right"?(_=`${-d}px`,y=a?p:`${g}px`):h==="left"&&(_=`${n.floating.width+d}px`,y=a?p:`${g}px`),{data:{x:_,y}}}});function kN(t){const[e,r="center"]=t.split("-");return[e,r]}var mw=xN,Ad=EN,fp=SN,hp=CN,[pp]=Xn("Tooltip",[Jo]),gw=Jo(),NN="TooltipProvider",rL=700,$E="tooltip.open",[nL,ON]=pp(NN),AN=t=>{const{__scopeTooltip:e,delayDuration:r=rL,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=N.useRef(!0),u=N.useRef(!1),d=N.useRef(0);return N.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),c.jsx(nL,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:N.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:s})};AN.displayName=NN;var TN="Tooltip",[hX,mp]=pp(TN),L0="TooltipTrigger",iL=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=mp(L0,r),s=ON(L0,r),a=gw(r),u=N.useRef(null),d=$t(e,u,i.onTriggerChange),h=N.useRef(!1),f=N.useRef(!1),p=N.useCallback(()=>h.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(Ad,{asChild:!0,...a,children:c.jsx(it.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:Le(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Le(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:Le(t.onBlur,i.onClose),onClick:Le(t.onClick,i.onClose)})})});iL.displayName=L0;var sL="TooltipPortal",[pX,oL]=pp(sL,{forceMount:void 0}),kc="TooltipContent",RN=N.forwardRef((t,e)=>{const r=oL(kc,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=mp(kc,t.__scopeTooltip);return c.jsx(In,{present:n||a.open,children:a.disableHoverableContent?c.jsx(PN,{side:i,...s,ref:e}):c.jsx(aL,{side:i,...s,ref:e})})}),aL=N.forwardRef((t,e)=>{const r=mp(kc,t.__scopeTooltip),n=ON(kc,t.__scopeTooltip),i=N.useRef(null),s=$t(e,i),[a,u]=N.useState(null),{trigger:d,onClose:h}=r,f=i.current,{onPointerInTransitChange:p}=n,m=N.useCallback(()=>{u(null),p(!1)},[p]),g=N.useCallback((_,y)=>{const b=_.currentTarget,E={x:_.clientX,y:_.clientY},x=fL(E,b.getBoundingClientRect()),j=hL(E,x),w=pL(y.getBoundingClientRect()),C=gL([...j,...w]);u(C),p(!0)},[p]);return N.useEffect(()=>()=>m(),[m]),N.useEffect(()=>{if(d&&f){const _=b=>g(b,f),y=b=>g(b,d);return d.addEventListener("pointerleave",_),f.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",y)}}},[d,f,g,m]),N.useEffect(()=>{if(a){const _=y=>{const b=y.target,E={x:y.clientX,y:y.clientY},x=(d==null?void 0:d.contains(b))||(f==null?void 0:f.contains(b)),j=!mL(E,a);x?m():j&&(m(),h())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[d,f,a,h,m]),c.jsx(PN,{...t,ref:s})}),[lL,cL]=pp(TN,{isInside:!1}),uL=v5("TooltipContent"),PN=N.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...u}=t,d=mp(kc,r),h=gw(r),{onClose:f}=d;return N.useEffect(()=>(document.addEventListener($E,f),()=>document.removeEventListener($E,f)),[f]),N.useEffect(()=>{if(d.trigger){const p=m=>{const g=m.target;g!=null&&g.contains(d.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,f]),c.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:c.jsxs(fp,{"data-state":d.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(uL,{children:n}),c.jsx(lL,{scope:r,isInside:!0,children:c.jsx($5,{id:d.contentId,role:"tooltip",children:i||n})})]})})});RN.displayName=kc;var IN="TooltipArrow",dL=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=gw(r);return cL(IN,r).isInside?null:c.jsx(hp,{...i,...n,ref:e})});dL.displayName=IN;function fL(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function hL(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function pL(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function mL(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const u=e[s],d=e[a],h=u.x,f=u.y,p=d.x,m=d.y;f>n!=m>n&&r<(p-h)*(n-f)/(m-f)+h&&(i=!i)}return i}function gL(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),vL(e)}function vL(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var yL=AN,DN=RN;const bL=yL,wL=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(DN,{ref:n,sideOffset:e,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));wL.displayName=DN.displayName;var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xL={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Eo,Yb,ZC,_L=(ZC=class{constructor(){ft(this,Eo,xL);ft(this,Yb,!1)}setTimeoutProvider(t){Ke(this,Eo,t)}setTimeout(t,e){return ue(this,Eo).setTimeout(t,e)}clearTimeout(t){ue(this,Eo).clearTimeout(t)}setInterval(t,e){return ue(this,Eo).setInterval(t,e)}clearInterval(t){ue(this,Eo).clearInterval(t)}},Eo=new WeakMap,Yb=new WeakMap,ZC),Ca=new _L;function EL(t){setTimeout(t,0)}var Ha=typeof window>"u"||"Deno"in globalThis;function mn(){}function SL(t,e){return typeof t=="function"?t(e):t}function F0(t){return typeof t=="number"&&t>=0&&t!==1/0}function MN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mo(t,e){return typeof t=="function"?t(e):t}function fi(t,e){return typeof t=="function"?t(e):t}function qE(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:u}=t;if(a){if(n){if(e.queryHash!==vw(a,e.options))return!1}else if(!rd(e.queryKey,a))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||s&&!s(e))}function BE(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Wa(e.options.mutationKey)!==Wa(s))return!1}else if(!rd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function vw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wa)(t)}function Wa(t){return JSON.stringify(t,(e,r)=>$0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function rd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>rd(t[r],e[r])):!1}var jL=Object.prototype.hasOwnProperty;function LN(t,e){if(t===e)return t;const r=UE(t)&&UE(e);if(!r&&!($0(t)&&$0(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,u=r?new Array(a):{};let d=0;for(let h=0;h<a;h++){const f=r?h:s[h],p=t[f],m=e[f];if(p===m){u[f]=p,(r?h<i:jL.call(t,f))&&d++;continue}if(p===null||m===null||typeof p!="object"||typeof m!="object"){u[f]=m;continue}const g=LN(p,m);u[f]=g,g===p&&d++}return i===a&&d===i?t:u}function Ih(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function UE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $0(t){if(!VE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!VE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VE(t){return Object.prototype.toString.call(t)==="[object Object]"}function CL(t){return new Promise(e=>{Ca.setTimeout(e,t)})}function q0(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?LN(t,e):e}function kL(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function NL(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var yw=Symbol();function FN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $N(t,e){return typeof t=="function"?t(...e):!!t}var Ra,So,pc,JC,OL=(JC=class extends Vc{constructor(){super();ft(this,Ra);ft(this,So);ft(this,pc);Ke(this,pc,e=>{if(!Ha&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ue(this,So)||this.setEventListener(ue(this,pc))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,So))==null||e.call(this),Ke(this,So,void 0))}setEventListener(e){var r;Ke(this,pc,e),(r=ue(this,So))==null||r.call(this),Ke(this,So,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ue(this,Ra)!==e&&(Ke(this,Ra,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ue(this,Ra)=="boolean"?ue(this,Ra):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ra=new WeakMap,So=new WeakMap,pc=new WeakMap,JC),bw=new OL;function B0(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var AL=EL;function TL(){let t=[],e=0,r=u=>{u()},n=u=>{u()},i=AL;const s=u=>{e?t.push(u):i(()=>{r(u)})},a=()=>{const u=t;t=[],u.length&&i(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var qr=TL(),mc,jo,gc,XC,RL=(XC=class extends Vc{constructor(){super();ft(this,mc,!0);ft(this,jo);ft(this,gc);Ke(this,gc,e=>{if(!Ha&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ue(this,jo)||this.setEventListener(ue(this,gc))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,jo))==null||e.call(this),Ke(this,jo,void 0))}setEventListener(e){var r;Ke(this,gc,e),(r=ue(this,jo))==null||r.call(this),Ke(this,jo,e(this.setOnline.bind(this)))}setOnline(e){ue(this,mc)!==e&&(Ke(this,mc,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ue(this,mc)}},mc=new WeakMap,jo=new WeakMap,gc=new WeakMap,XC),Dh=new RL;function PL(t){return Math.min(1e3*2**t,3e4)}function qN(t){return(t??"online")==="online"?Dh.isOnline():!0}var U0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function BN(t){let e=!1,r=0,n;const i=B0(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const E=new U0(y);m(E),(b=t.onCancel)==null||b.call(t,E)}},u=()=>{e=!0},d=()=>{e=!1},h=()=>bw.isFocused()&&(t.networkMode==="always"||Dh.isOnline())&&t.canRun(),f=()=>qN(t.networkMode)&&t.canRun(),p=y=>{s()||(n==null||n(),i.resolve(y))},m=y=>{s()||(n==null||n(),i.reject(y))},g=()=>new Promise(y=>{var b;n=E=>{(s()||h())&&y(E)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),_=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(p).catch(E=>{var O;if(s())return;const x=t.retry??(Ha?0:3),j=t.retryDelay??PL,w=typeof j=="function"?j(r,E):j,C=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,E);if(e||!C){m(E);return}r++,(O=t.onFail)==null||O.call(t,r,E),CL(w).then(()=>h()?void 0:g()).then(()=>{e?m(E):_()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:u,continueRetry:d,canStart:f,start:()=>(f()?_():g().then(_),i)}}var Pa,ek,UN=(ek=class{constructor(){ft(this,Pa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F0(this.gcTime)&&Ke(this,Pa,Ca.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ha?1/0:300*1e3))}clearGcTimeout(){ue(this,Pa)&&(Ca.clearTimeout(ue(this,Pa)),Ke(this,Pa,void 0))}},Pa=new WeakMap,ek),Ia,vc,di,Da,Wr,wd,Ma,Ai,xs,tk,IL=(tk=class extends UN{constructor(e){super();ft(this,Ai);ft(this,Ia);ft(this,vc);ft(this,di);ft(this,Da);ft(this,Wr);ft(this,wd);ft(this,Ma);Ke(this,Ma,!1),Ke(this,wd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ke(this,Da,e.client),Ke(this,di,ue(this,Da).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ke(this,Ia,zE(this.options)),this.state=e.state??ue(this,Ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ue(this,Wr))==null?void 0:e.promise}setOptions(e){if(this.options={...ue(this,wd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=zE(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Ke(this,Ia,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,di).remove(this)}setData(e,r){const n=q0(this.state.data,e,this.options);return At(this,Ai,xs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){At(this,Ai,xs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=ue(this,Wr))==null?void 0:n.promise;return(i=ue(this,Wr))==null||i.cancel(e),r?r.then(mn).catch(mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Ia))}isActive(){return this.observers.some(e=>fi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Mo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!MN(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ue(this,Wr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ue(this,Wr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ue(this,di).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ue(this,Wr)&&(ue(this,Ma)?ue(this,Wr).cancel({revert:!0}):ue(this,Wr).cancelRetry()),this.scheduleGc()),ue(this,di).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Ai,xs).call(this,{type:"invalidate"})}async fetch(e,r){var d,h,f,p,m,g,_,y,b,E,x,j;if(this.state.fetchStatus!=="idle"&&((d=ue(this,Wr))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Wr))return ue(this,Wr).continueRetry(),ue(this,Wr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(C=>C.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Ke(this,Ma,!0),n.signal)})},s=()=>{const w=FN(this.options,r),O=(()=>{const A={client:ue(this,Da),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return Ke(this,Ma,!1),this.options.persister?this.options.persister(w,O,this):w(O)},u=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ue(this,Da),state:this.state,fetchFn:s};return i(w),w})();(h=this.options.behavior)==null||h.onFetch(u,this),Ke(this,vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&At(this,Ai,xs).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),Ke(this,Wr,BN({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:w=>{w instanceof U0&&w.revert&&this.setState({...ue(this,vc),fetchStatus:"idle"}),n.abort()},onFail:(w,C)=>{At(this,Ai,xs).call(this,{type:"failed",failureCount:w,error:C})},onPause:()=>{At(this,Ai,xs).call(this,{type:"pause"})},onContinue:()=>{At(this,Ai,xs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const w=await ue(this,Wr).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(g=(m=ue(this,di).config).onSuccess)==null||g.call(m,w,this),(y=(_=ue(this,di).config).onSettled)==null||y.call(_,w,this.state.error,this),w}catch(w){if(w instanceof U0){if(w.silent)return ue(this,Wr).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw At(this,Ai,xs).call(this,{type:"error",error:w}),(E=(b=ue(this,di).config).onError)==null||E.call(b,w,this),(j=(x=ue(this,di).config).onSettled)==null||j.call(x,this.state.data,w,this),w}finally{this.scheduleGc()}}},Ia=new WeakMap,vc=new WeakMap,di=new WeakMap,Da=new WeakMap,Wr=new WeakMap,wd=new WeakMap,Ma=new WeakMap,Ai=new WeakSet,xs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...VN(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ke(this,vc,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),qr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ue(this,di).notify({query:this,type:"updated",action:e})})},tk);function VN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nn,Lt,xd,fn,La,yc,Ss,Co,_d,bc,wc,Fa,$a,ko,xc,Jt,qu,V0,z0,H0,W0,K0,G0,Q0,zN,rk,DL=(rk=class extends Vc{constructor(e,r){super();ft(this,Jt);ft(this,Nn);ft(this,Lt);ft(this,xd);ft(this,fn);ft(this,La);ft(this,yc);ft(this,Ss);ft(this,Co);ft(this,_d);ft(this,bc);ft(this,wc);ft(this,Fa);ft(this,$a);ft(this,ko);ft(this,xc,new Set);this.options=r,Ke(this,Nn,e),Ke(this,Co,null),Ke(this,Ss,B0()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Lt).addObserver(this),HE(ue(this,Lt),this.options)?At(this,Jt,qu).call(this):this.updateResult(),At(this,Jt,W0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Y0(ue(this,Lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Y0(ue(this,Lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,At(this,Jt,K0).call(this),At(this,Jt,G0).call(this),ue(this,Lt).removeObserver(this)}setOptions(e){const r=this.options,n=ue(this,Lt);if(this.options=ue(this,Nn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fi(this.options.enabled,ue(this,Lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");At(this,Jt,Q0).call(this),ue(this,Lt).setOptions(this.options),r._defaulted&&!Ih(this.options,r)&&ue(this,Nn).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Lt),observer:this});const i=this.hasListeners();i&&WE(ue(this,Lt),n,this.options,r)&&At(this,Jt,qu).call(this),this.updateResult(),i&&(ue(this,Lt)!==n||fi(this.options.enabled,ue(this,Lt))!==fi(r.enabled,ue(this,Lt))||Mo(this.options.staleTime,ue(this,Lt))!==Mo(r.staleTime,ue(this,Lt)))&&At(this,Jt,V0).call(this);const s=At(this,Jt,z0).call(this);i&&(ue(this,Lt)!==n||fi(this.options.enabled,ue(this,Lt))!==fi(r.enabled,ue(this,Lt))||s!==ue(this,ko))&&At(this,Jt,H0).call(this,s)}getOptimisticResult(e){const r=ue(this,Nn).getQueryCache().build(ue(this,Nn),e),n=this.createResult(r,e);return LL(this,n)&&(Ke(this,fn,n),Ke(this,yc,this.options),Ke(this,La,ue(this,Lt).state)),n}getCurrentResult(){return ue(this,fn)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ue(this,Ss).status==="pending"&&ue(this,Ss).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){ue(this,xc).add(e)}getCurrentQuery(){return ue(this,Lt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ue(this,Nn).defaultQueryOptions(e),n=ue(this,Nn).getQueryCache().build(ue(this,Nn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return At(this,Jt,qu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,fn)))}createResult(e,r){var q;const n=ue(this,Lt),i=this.options,s=ue(this,fn),a=ue(this,La),u=ue(this,yc),h=e!==n?e.state:ue(this,xd),{state:f}=e;let p={...f},m=!1,g;if(r._optimisticResults){const T=this.hasListeners(),D=!T&&HE(e,r),L=T&&WE(e,n,r,i);(D||L)&&(p={...p,...VN(f.data,e.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:y,status:b}=p;g=p.data;let E=!1;if(r.placeholderData!==void 0&&g===void 0&&b==="pending"){let T;s!=null&&s.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(T=s.data,E=!0):T=typeof r.placeholderData=="function"?r.placeholderData((q=ue(this,wc))==null?void 0:q.state.data,ue(this,wc)):r.placeholderData,T!==void 0&&(b="success",g=q0(s==null?void 0:s.data,T,r),m=!0)}if(r.select&&g!==void 0&&!E)if(s&&g===(a==null?void 0:a.data)&&r.select===ue(this,_d))g=ue(this,bc);else try{Ke(this,_d,r.select),g=r.select(g),g=q0(s==null?void 0:s.data,g,r),Ke(this,bc,g),Ke(this,Co,null)}catch(T){Ke(this,Co,T)}ue(this,Co)&&(_=ue(this,Co),g=ue(this,bc),y=Date.now(),b="error");const x=p.fetchStatus==="fetching",j=b==="pending",w=b==="error",C=j&&x,O=g!==void 0,P={status:b,fetchStatus:p.fetchStatus,isPending:j,isSuccess:b==="success",isError:w,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:x,isRefetching:x&&!j,isLoadingError:w&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&O,isStale:ww(e,r),refetch:this.refetch,promise:ue(this,Ss),isEnabled:fi(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=B=>{P.status==="error"?B.reject(P.error):P.data!==void 0&&B.resolve(P.data)},D=()=>{const B=Ke(this,Ss,P.promise=B0());T(B)},L=ue(this,Ss);switch(L.status){case"pending":e.queryHash===n.queryHash&&T(L);break;case"fulfilled":(P.status==="error"||P.data!==L.value)&&D();break;case"rejected":(P.status!=="error"||P.error!==L.reason)&&D();break}}return P}updateResult(){const e=ue(this,fn),r=this.createResult(ue(this,Lt),this.options);if(Ke(this,La,ue(this,Lt).state),Ke(this,yc,this.options),ue(this,La).data!==void 0&&Ke(this,wc,ue(this,Lt)),Ih(r,e))return;Ke(this,fn,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ue(this,xc).size)return!0;const a=new Set(s??ue(this,xc));return this.options.throwOnError&&a.add("error"),Object.keys(ue(this,fn)).some(u=>{const d=u;return ue(this,fn)[d]!==e[d]&&a.has(d)})};At(this,Jt,zN).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&At(this,Jt,W0).call(this)}},Nn=new WeakMap,Lt=new WeakMap,xd=new WeakMap,fn=new WeakMap,La=new WeakMap,yc=new WeakMap,Ss=new WeakMap,Co=new WeakMap,_d=new WeakMap,bc=new WeakMap,wc=new WeakMap,Fa=new WeakMap,$a=new WeakMap,ko=new WeakMap,xc=new WeakMap,Jt=new WeakSet,qu=function(e){At(this,Jt,Q0).call(this);let r=ue(this,Lt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(mn)),r},V0=function(){At(this,Jt,K0).call(this);const e=Mo(this.options.staleTime,ue(this,Lt));if(Ha||ue(this,fn).isStale||!F0(e))return;const n=MN(ue(this,fn).dataUpdatedAt,e)+1;Ke(this,Fa,Ca.setTimeout(()=>{ue(this,fn).isStale||this.updateResult()},n))},z0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Lt)):this.options.refetchInterval)??!1},H0=function(e){At(this,Jt,G0).call(this),Ke(this,ko,e),!(Ha||fi(this.options.enabled,ue(this,Lt))===!1||!F0(ue(this,ko))||ue(this,ko)===0)&&Ke(this,$a,Ca.setInterval(()=>{(this.options.refetchIntervalInBackground||bw.isFocused())&&At(this,Jt,qu).call(this)},ue(this,ko)))},W0=function(){At(this,Jt,V0).call(this),At(this,Jt,H0).call(this,At(this,Jt,z0).call(this))},K0=function(){ue(this,Fa)&&(Ca.clearTimeout(ue(this,Fa)),Ke(this,Fa,void 0))},G0=function(){ue(this,$a)&&(Ca.clearInterval(ue(this,$a)),Ke(this,$a,void 0))},Q0=function(){const e=ue(this,Nn).getQueryCache().build(ue(this,Nn),this.options);if(e===ue(this,Lt))return;const r=ue(this,Lt);Ke(this,Lt,e),Ke(this,xd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},zN=function(e){qr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ue(this,fn))}),ue(this,Nn).getQueryCache().notify({query:ue(this,Lt),type:"observerResultsUpdated"})})},rk);function ML(t,e){return fi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function HE(t,e){return ML(t,e)||t.state.data!==void 0&&Y0(t,e,e.refetchOnMount)}function Y0(t,e,r){if(fi(e.enabled,t)!==!1&&Mo(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ww(t,e)}return!1}function WE(t,e,r,n){return(t!==e||fi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ww(t,r)}function ww(t,e){return fi(e.enabled,t)!==!1&&t.isStaleByTime(Mo(e.staleTime,t))}function LL(t,e){return!Ih(t.getCurrentResult(),e)}function KE(t){return{onFetch:(e,r)=>{var f,p,m,g,_;const n=e.options,i=(m=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let y=!1;const b=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},E=FN(e.options,e.fetchOptions),x=async(j,w,C)=>{if(y)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const A=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};return b(D),D})(),P=await E(A),{maxPages:q}=e.options,T=C?NL:kL;return{pages:T(j.pages,P,q),pageParams:T(j.pageParams,w,q)}};if(i&&s.length){const j=i==="backward",w=j?FL:GE,C={pages:s,pageParams:a},O=w(n,C);u=await x(C,O,j)}else{const j=t??s.length;do{const w=d===0?a[0]??n.initialPageParam:GE(n,u);if(d>0&&w==null)break;u=await x(u,w),d++}while(d<j)}return u};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function GE(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function FL(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ed,Yi,hn,qa,Zi,yo,nk,$L=(nk=class extends UN{constructor(e){super();ft(this,Zi);ft(this,Ed);ft(this,Yi);ft(this,hn);ft(this,qa);Ke(this,Ed,e.client),this.mutationId=e.mutationId,Ke(this,hn,e.mutationCache),Ke(this,Yi,[]),this.state=e.state||HN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ue(this,Yi).includes(e)||(ue(this,Yi).push(e),this.clearGcTimeout(),ue(this,hn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ke(this,Yi,ue(this,Yi).filter(r=>r!==e)),this.scheduleGc(),ue(this,hn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ue(this,Yi).length||(this.state.status==="pending"?this.scheduleGc():ue(this,hn).remove(this))}continue(){var e;return((e=ue(this,qa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,u,d,h,f,p,m,g,_,y,b,E,x,j,w,C,O,A,P,q;const r=()=>{At(this,Zi,yo).call(this,{type:"continue"})},n={client:ue(this,Ed),meta:this.options.meta,mutationKey:this.options.mutationKey};Ke(this,qa,BN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,D)=>{At(this,Zi,yo).call(this,{type:"failed",failureCount:T,error:D})},onPause:()=>{At(this,Zi,yo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,hn).canRun(this)}));const i=this.state.status==="pending",s=!ue(this,qa).canStart();try{if(i)r();else{At(this,Zi,yo).call(this,{type:"pending",variables:e,isPaused:s}),await((u=(a=ue(this,hn).config).onMutate)==null?void 0:u.call(a,e,this,n));const D=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e,n));D!==this.state.context&&At(this,Zi,yo).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const T=await ue(this,qa).start();return await((p=(f=ue(this,hn).config).onSuccess)==null?void 0:p.call(f,T,e,this.state.context,this,n)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,T,e,this.state.context,n)),await((y=(_=ue(this,hn).config).onSettled)==null?void 0:y.call(_,T,null,this.state.variables,this.state.context,this,n)),await((E=(b=this.options).onSettled)==null?void 0:E.call(b,T,null,e,this.state.context,n)),At(this,Zi,yo).call(this,{type:"success",data:T}),T}catch(T){try{throw await((j=(x=ue(this,hn).config).onError)==null?void 0:j.call(x,T,e,this.state.context,this,n)),await((C=(w=this.options).onError)==null?void 0:C.call(w,T,e,this.state.context,n)),await((A=(O=ue(this,hn).config).onSettled)==null?void 0:A.call(O,void 0,T,this.state.variables,this.state.context,this,n)),await((q=(P=this.options).onSettled)==null?void 0:q.call(P,void 0,T,e,this.state.context,n)),T}finally{At(this,Zi,yo).call(this,{type:"error",error:T})}}finally{ue(this,hn).runNext(this)}}},Ed=new WeakMap,Yi=new WeakMap,hn=new WeakMap,qa=new WeakMap,Zi=new WeakSet,yo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),qr.batch(()=>{ue(this,Yi).forEach(n=>{n.onMutationUpdate(e)}),ue(this,hn).notify({mutation:this,type:"updated",action:e})})},nk);function HN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var js,Ti,Sd,ik,qL=(ik=class extends Vc{constructor(e={}){super();ft(this,js);ft(this,Ti);ft(this,Sd);this.config=e,Ke(this,js,new Set),Ke(this,Ti,new Map),Ke(this,Sd,0)}build(e,r,n){const i=new $L({client:e,mutationCache:this,mutationId:++Zf(this,Sd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){ue(this,js).add(e);const r=ih(e);if(typeof r=="string"){const n=ue(this,Ti).get(r);n?n.push(e):ue(this,Ti).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ue(this,js).delete(e)){const r=ih(e);if(typeof r=="string"){const n=ue(this,Ti).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&ue(this,Ti).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ih(e);if(typeof r=="string"){const n=ue(this,Ti).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=ih(e);if(typeof r=="string"){const i=(n=ue(this,Ti).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qr.batch(()=>{ue(this,js).forEach(e=>{this.notify({type:"removed",mutation:e})}),ue(this,js).clear(),ue(this,Ti).clear()})}getAll(){return Array.from(ue(this,js))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>BE(r,n))}findAll(e={}){return this.getAll().filter(r=>BE(e,r))}notify(e){qr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return qr.batch(()=>Promise.all(e.map(r=>r.continue().catch(mn))))}},js=new WeakMap,Ti=new WeakMap,Sd=new WeakMap,ik);function ih(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Cs,No,On,ks,Ts,xh,Z0,sk,BL=(sk=class extends Vc{constructor(r,n){super();ft(this,Ts);ft(this,Cs);ft(this,No);ft(this,On);ft(this,ks);Ke(this,Cs,r),this.setOptions(n),this.bindMethods(),At(this,Ts,xh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=ue(this,Cs).defaultMutationOptions(r),Ih(this.options,n)||ue(this,Cs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,On),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Wa(n.mutationKey)!==Wa(this.options.mutationKey)?this.reset():((i=ue(this,On))==null?void 0:i.state.status)==="pending"&&ue(this,On).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ue(this,On))==null||r.removeObserver(this)}onMutationUpdate(r){At(this,Ts,xh).call(this),At(this,Ts,Z0).call(this,r)}getCurrentResult(){return ue(this,No)}reset(){var r;(r=ue(this,On))==null||r.removeObserver(this),Ke(this,On,void 0),At(this,Ts,xh).call(this),At(this,Ts,Z0).call(this)}mutate(r,n){var i;return Ke(this,ks,n),(i=ue(this,On))==null||i.removeObserver(this),Ke(this,On,ue(this,Cs).getMutationCache().build(ue(this,Cs),this.options)),ue(this,On).addObserver(this),ue(this,On).execute(r)}},Cs=new WeakMap,No=new WeakMap,On=new WeakMap,ks=new WeakMap,Ts=new WeakSet,xh=function(){var n;const r=((n=ue(this,On))==null?void 0:n.state)??HN();Ke(this,No,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Z0=function(r){qr.batch(()=>{var n,i,s,a,u,d,h,f;if(ue(this,ks)&&this.hasListeners()){const p=ue(this,No).variables,m=ue(this,No).context,g={client:ue(this,Cs),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=ue(this,ks)).onSuccess)==null||i.call(n,r.data,p,m,g),(a=(s=ue(this,ks)).onSettled)==null||a.call(s,r.data,null,p,m,g)):(r==null?void 0:r.type)==="error"&&((d=(u=ue(this,ks)).onError)==null||d.call(u,r.error,p,m,g),(f=(h=ue(this,ks)).onSettled)==null||f.call(h,void 0,r.error,p,m,g))}this.listeners.forEach(p=>{p(ue(this,No))})})},sk),Ji,ok,UL=(ok=class extends Vc{constructor(e={}){super();ft(this,Ji);this.config=e,Ke(this,Ji,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??vw(i,r);let a=this.get(s);return a||(a=new IL({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){ue(this,Ji).has(e.queryHash)||(ue(this,Ji).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ue(this,Ji).get(e.queryHash);r&&(e.destroy(),r===e&&ue(this,Ji).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ue(this,Ji).get(e)}getAll(){return[...ue(this,Ji).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>qE(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>qE(e,n)):r}notify(e){qr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){qr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ji=new WeakMap,ok),_r,Oo,Ao,_c,Ec,To,Sc,jc,ak,VL=(ak=class{constructor(t={}){ft(this,_r);ft(this,Oo);ft(this,Ao);ft(this,_c);ft(this,Ec);ft(this,To);ft(this,Sc);ft(this,jc);Ke(this,_r,t.queryCache||new UL),Ke(this,Oo,t.mutationCache||new qL),Ke(this,Ao,t.defaultOptions||{}),Ke(this,_c,new Map),Ke(this,Ec,new Map),Ke(this,To,0)}mount(){Zf(this,To)._++,ue(this,To)===1&&(Ke(this,Sc,bw.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,_r).onFocus())})),Ke(this,jc,Dh.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,_r).onOnline())})))}unmount(){var t,e;Zf(this,To)._--,ue(this,To)===0&&((t=ue(this,Sc))==null||t.call(this),Ke(this,Sc,void 0),(e=ue(this,jc))==null||e.call(this),Ke(this,jc,void 0))}isFetching(t){return ue(this,_r).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ue(this,Oo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ue(this,_r).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=ue(this,_r).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Mo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return ue(this,_r).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=ue(this,_r).get(n.queryHash),s=i==null?void 0:i.state.data,a=SL(e,s);if(a!==void 0)return ue(this,_r).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return qr.batch(()=>ue(this,_r).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ue(this,_r).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ue(this,_r);qr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ue(this,_r);return qr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=qr.batch(()=>ue(this,_r).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(mn).catch(mn)}invalidateQueries(t,e={}){return qr.batch(()=>(ue(this,_r).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=qr.batch(()=>ue(this,_r).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(mn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(mn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ue(this,_r).build(this,e);return r.isStaleByTime(Mo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mn).catch(mn)}fetchInfiniteQuery(t){return t.behavior=KE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mn).catch(mn)}ensureInfiniteQueryData(t){return t.behavior=KE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Dh.isOnline()?ue(this,Oo).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,_r)}getMutationCache(){return ue(this,Oo)}getDefaultOptions(){return ue(this,Ao)}setDefaultOptions(t){Ke(this,Ao,t)}setQueryDefaults(t,e){ue(this,_c).set(Wa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ue(this,_c).values()],r={};return e.forEach(n=>{rd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){ue(this,Ec).set(Wa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ue(this,Ec).values()],r={};return e.forEach(n=>{rd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ue(this,Ao).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ue(this,Ao).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ue(this,_r).clear(),ue(this,Oo).clear()}},_r=new WeakMap,Oo=new WeakMap,Ao=new WeakMap,_c=new WeakMap,Ec=new WeakMap,To=new WeakMap,Sc=new WeakMap,jc=new WeakMap,ak),WN=N.createContext(void 0),Mt=t=>{const e=N.useContext(WN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},zL=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(WN.Provider,{value:t,children:e})),KN=N.createContext(!1),HL=()=>N.useContext(KN);KN.Provider;function WL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var KL=N.createContext(WL()),GL=()=>N.useContext(KL),QL=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},YL=t=>{N.useEffect(()=>{t.clearReset()},[t])},ZL=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||$N(r,[t.error,n])),JL=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},XL=(t,e)=>t.isLoading&&t.isFetching&&!e,e8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,QE=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function t8(t,e,r){var p,m,g,_,y;const n=HL(),i=GL(),s=Mt(),a=s.defaultQueryOptions(t);(m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,a),a._optimisticResults=n?"isRestoring":"optimistic",JL(a),QL(a,i),YL(i);const u=!s.getQueryCache().get(a.queryHash),[d]=N.useState(()=>new e(s,a)),h=d.getOptimisticResult(a),f=!n&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(b=>{const E=f?d.subscribe(qr.batchCalls(b)):mn;return d.updateResult(),E},[d,f]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(a)},[a,d]),e8(a,h))throw QE(a,d,i);if(ZL({result:h,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;if((_=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||_.call(g,a,h),a.experimental_prefetchInRender&&!Ha&&XL(h,n)){const b=u?QE(a,d,i):(y=s.getQueryCache().get(a.queryHash))==null?void 0:y.promise;b==null||b.catch(mn).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?h:d.trackResult(h)}function ei(t,e){return t8(t,DL)}function Ut(t,e){const r=Mt(),[n]=N.useState(()=>new BL(r,t));N.useEffect(()=>{n.setOptions(t)},[n,t]);const i=N.useSyncExternalStore(N.useCallback(a=>n.subscribe(qr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=N.useCallback((a,u)=>{n.mutate(a,u).catch(mn)},[n]);if(i.error&&$N(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nd.apply(this,arguments)}var Ro;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ro||(Ro={}));const YE="popstate";function r8(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:u="",hash:d=""}=il(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),J0("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof s=="string"?s:Mh(s))}function n(i,s){xw(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return i8(e,r,n,t)}function wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n8(){return Math.random().toString(36).substr(2,8)}function ZE(t,e){return{usr:t.state,key:t.key,idx:e}}function J0(t,e,r,n){return r===void 0&&(r=null),nd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:r,key:e&&e.key||n||n8()})}function Mh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function il(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function i8(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,u=Ro.Pop,d=null,h=f();h==null&&(h=0,a.replaceState(nd({},a.state,{idx:h}),""));function f(){return(a.state||{idx:null}).idx}function p(){u=Ro.Pop;let b=f(),E=b==null?null:b-h;h=b,d&&d({action:u,location:y.location,delta:E})}function m(b,E){u=Ro.Push;let x=J0(y.location,b,E);r&&r(x,b),h=f()+1;let j=ZE(x,h),w=y.createHref(x);try{a.pushState(j,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(w)}s&&d&&d({action:u,location:y.location,delta:1})}function g(b,E){u=Ro.Replace;let x=J0(y.location,b,E);r&&r(x,b),h=f();let j=ZE(x,h),w=y.createHref(x);a.replaceState(j,"",w),s&&d&&d({action:u,location:y.location,delta:0})}function _(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Mh(b);return x=x.replace(/ $/,"%20"),wr(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let y={get action(){return u},get location(){return t(i,a)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(YE,p),d=b,()=>{i.removeEventListener(YE,p),d=null}},createHref(b){return e(i,b)},createURL:_,encodeLocation(b){let E=_(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:g,go(b){return a.go(b)}};return y}var JE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JE||(JE={}));function s8(t,e,r){return r===void 0&&(r="/"),o8(t,e,r)}function o8(t,e,r,n){let i=typeof e=="string"?il(e):e,s=Nc(i.pathname||"/",r);if(s==null)return null;let a=GN(t);a8(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let h=y8(s);u=g8(a[d],h)}return u}function GN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};d.relativePath.startsWith("/")&&(wr(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Lo([n,d.relativePath]),f=r.concat(d);s.children&&s.children.length>0&&(wr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),GN(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:p8(h,s.index),routesMeta:f})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let d of QN(s.path))i(s,a,d)}),e}function QN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=QN(n.join("/")),u=[];return u.push(...a.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...a),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function a8(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:m8(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const l8=/^:[\w-]+$/,c8=3,u8=2,d8=1,f8=10,h8=-2,XE=t=>t==="*";function p8(t,e){let r=t.split("/"),n=r.length;return r.some(XE)&&(n+=h8),e&&(n+=u8),r.filter(i=>!XE(i)).reduce((i,s)=>i+(l8.test(s)?c8:s===""?d8:f8),n)}function m8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function g8(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=X0({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),m=d.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Lo([s,p.pathname]),pathnameBase:_8(Lo([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Lo([s,p.pathnameBase]))}return a}function X0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=v8(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,f,p)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let y=u[p]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const _=u[p];return g&&!_?h[m]=void 0:h[m]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function v8(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),xw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function y8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function b8(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?il(t):t;return{pathname:r?r.startsWith("/")?r:w8(r,e):e,search:E8(n),hash:S8(i)}}function w8(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Jg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _w(t,e){let r=x8(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ew(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=il(t):(i=nd({},t),wr(!i.pathname||!i.pathname.includes("?"),Jg("?","pathname","search",i)),wr(!i.pathname||!i.pathname.includes("#"),Jg("#","pathname","hash",i)),wr(!i.search||!i.search.includes("#"),Jg("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}u=p>=0?e[p]:"/"}let d=b8(i,u),h=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const Lo=t=>t.join("/").replace(/\/\/+/g,"/"),_8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YN=["post","put","patch","delete"];new Set(YN);const C8=["get",...YN];new Set(C8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},id.apply(this,arguments)}const gp=N.createContext(null),ZN=N.createContext(null),Bs=N.createContext(null),vp=N.createContext(null),Us=N.createContext({outlet:null,matches:[],isDataRoute:!1}),JN=N.createContext(null);function k8(t,e){let{relative:r}=e===void 0?{}:e;zc()||wr(!1);let{basename:n,navigator:i}=N.useContext(Bs),{hash:s,pathname:a,search:u}=yp(t,{relative:r}),d=a;return n!=="/"&&(d=a==="/"?n:Lo([n,a])),i.createHref({pathname:d,search:u,hash:s})}function zc(){return N.useContext(vp)!=null}function sl(){return zc()||wr(!1),N.useContext(vp).location}function XN(t){N.useContext(Bs).static||N.useLayoutEffect(t)}function Xo(){let{isDataRoute:t}=N.useContext(Us);return t?B8():N8()}function N8(){zc()||wr(!1);let t=N.useContext(gp),{basename:e,future:r,navigator:n}=N.useContext(Bs),{matches:i}=N.useContext(Us),{pathname:s}=sl(),a=JSON.stringify(_w(i,r.v7_relativeSplatPath)),u=N.useRef(!1);return XN(()=>{u.current=!0}),N.useCallback(function(h,f){if(f===void 0&&(f={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=Ew(h,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Lo([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,s,t])}function O8(){let{matches:t}=N.useContext(Us),e=t[t.length-1];return e?e.params:{}}function yp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=N.useContext(Bs),{matches:i}=N.useContext(Us),{pathname:s}=sl(),a=JSON.stringify(_w(i,n.v7_relativeSplatPath));return N.useMemo(()=>Ew(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function A8(t,e){return T8(t,e)}function T8(t,e,r,n){zc()||wr(!1);let{navigator:i}=N.useContext(Bs),{matches:s}=N.useContext(Us),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let h=sl(),f;if(e){var p;let b=typeof e=="string"?il(e):e;d==="/"||(p=b.pathname)!=null&&p.startsWith(d)||wr(!1),f=b}else f=h;let m=f.pathname||"/",g=m;if(d!=="/"){let b=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=s8(t,{pathname:g}),y=M8(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Lo([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Lo([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?N.createElement(vp.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ro.Pop}},y):y}function R8(){let t=q8(),e=j8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,null)}const P8=N.createElement(R8,null);class I8 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(Us.Provider,{value:this.props.routeContext},N.createElement(JN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D8(t){let{routeContext:e,match:r,children:n}=t,i=N.useContext(gp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Us.Provider,{value:e},n)}function M8(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let f=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);f>=0||wr(!1),a=a.slice(0,Math.min(a.length,f+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:m,errors:g}=r,_=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||_){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,m)=>{let g,_=!1,y=null,b=null;r&&(g=u&&p.route.id?u[p.route.id]:void 0,y=p.route.errorElement||P8,d&&(h<0&&m===0?(U8("route-fallback"),_=!0,b=null):h===m&&(_=!0,b=p.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,m+1)),x=()=>{let j;return g?j=y:_?j=b:p.route.Component?j=N.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=f,N.createElement(D8,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?N.createElement(I8,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}var eO=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(eO||{}),tO=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(tO||{});function L8(t){let e=N.useContext(gp);return e||wr(!1),e}function F8(t){let e=N.useContext(ZN);return e||wr(!1),e}function $8(t){let e=N.useContext(Us);return e||wr(!1),e}function rO(t){let e=$8(),r=e.matches[e.matches.length-1];return r.route.id||wr(!1),r.route.id}function q8(){var t;let e=N.useContext(JN),r=F8(),n=rO();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function B8(){let{router:t}=L8(eO.UseNavigateStable),e=rO(tO.UseNavigateStable),r=N.useRef(!1);return XN(()=>{r.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,id({fromRouteId:e},s)))},[t,e])}const eS={};function U8(t,e,r){eS[t]||(eS[t]=!0)}function V8(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tS(t){let{to:e,replace:r,state:n,relative:i}=t;zc()||wr(!1);let{future:s,static:a}=N.useContext(Bs),{matches:u}=N.useContext(Us),{pathname:d}=sl(),h=Xo(),f=Ew(e,_w(u,s.v7_relativeSplatPath),d,i==="path"),p=JSON.stringify(f);return N.useEffect(()=>h(JSON.parse(p),{replace:r,state:n,relative:i}),[h,p,i,r,n]),null}function ci(t){wr(!1)}function z8(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ro.Pop,navigator:s,static:a=!1,future:u}=t;zc()&&wr(!1);let d=e.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:d,navigator:s,static:a,future:id({v7_relativeSplatPath:!1},u)}),[d,u,s,a]);typeof n=="string"&&(n=il(n));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:_="default"}=n,y=N.useMemo(()=>{let b=Nc(f,d);return b==null?null:{location:{pathname:b,search:p,hash:m,state:g,key:_},navigationType:i}},[d,f,p,m,g,_,i]);return y==null?null:N.createElement(Bs.Provider,{value:h},N.createElement(vp.Provider,{children:r,value:y}))}function H8(t){let{children:e,location:r}=t;return A8(eb(e),r)}new Promise(()=>{});function eb(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let s=[...e,i];if(n.type===N.Fragment){r.push.apply(r,eb(n.props.children,s));return}n.type!==ci&&wr(!1),!n.props.index||!n.props.children||wr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=eb(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lh.apply(this,arguments)}function nO(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function W8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K8(t,e){return t.button===0&&(!e||e==="_self")&&!W8(t)}const G8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q8=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Y8="6";try{window.__reactRouterVersion=Y8}catch{}const Z8=N.createContext({isTransitioning:!1}),J8="startTransition",rS=Jb[J8];function X8(t){let{basename:e,children:r,future:n,window:i}=t,s=N.useRef();s.current==null&&(s.current=r8({window:i,v5Compat:!0}));let a=s.current,[u,d]=N.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},f=N.useCallback(p=>{h&&rS?rS(()=>d(p)):d(p)},[d,h]);return N.useLayoutEffect(()=>a.listen(f),[a,f]),N.useEffect(()=>V8(n),[n]),N.createElement(z8,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:a,future:n})}const eF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ba=N.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:u,target:d,to:h,preventScrollReset:f,viewTransition:p}=e,m=nO(e,G8),{basename:g}=N.useContext(Bs),_,y=!1;if(typeof h=="string"&&tF.test(h)&&(_=h,eF))try{let j=new URL(window.location.href),w=h.startsWith("//")?new URL(j.protocol+h):new URL(h),C=Nc(w.pathname,g);w.origin===j.origin&&C!=null?h=C+w.search+w.hash:y=!0}catch{}let b=k8(h,{relative:i}),E=iF(h,{replace:a,state:u,target:d,preventScrollReset:f,relative:i,viewTransition:p});function x(j){n&&n(j),j.defaultPrevented||E(j)}return N.createElement("a",Lh({},m,{href:_||b,onClick:y||s?n:x,ref:r,target:d}))}),rF=N.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:u,to:d,viewTransition:h,children:f}=e,p=nO(e,Q8),m=yp(d,{relative:p.relative}),g=sl(),_=N.useContext(ZN),{navigator:y,basename:b}=N.useContext(Bs),E=_!=null&&sF(m)&&h===!0,x=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,j=g.pathname,w=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(j=j.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&b&&(w=Nc(w,b)||w);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=j===x||!a&&j.startsWith(x)&&j.charAt(C)==="/",A=w!=null&&(w===x||!a&&w.startsWith(x)&&w.charAt(x.length)==="/"),P={isActive:O,isPending:A,isTransitioning:E},q=O?n:void 0,T;typeof s=="function"?T=s(P):T=[s,O?"active":null,A?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(P):u;return N.createElement(Ba,Lh({},p,{"aria-current":q,className:T,ref:r,style:D,to:d,viewTransition:h}),typeof f=="function"?f(P):f)});var tb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tb||(tb={}));var nS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nS||(nS={}));function nF(t){let e=N.useContext(gp);return e||wr(!1),e}function iF(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:u}=e===void 0?{}:e,d=Xo(),h=sl(),f=yp(t,{relative:a});return N.useCallback(p=>{if(K8(p,r)){p.preventDefault();let m=n!==void 0?n:Mh(h)===Mh(f);d(t,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:u})}},[h,d,f,n,i,r,t,s,a,u])}function sF(t,e){e===void 0&&(e={});let r=N.useContext(Z8);r==null&&wr(!1);let{basename:n}=nF(tb.useViewTransitionState),i=yp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Nc(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Nc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return X0(i.pathname,a)!=null||X0(i.pathname,s)!=null}var Xg="focusScope.autoFocusOnMount",ev="focusScope.autoFocusOnUnmount",iS={bubbles:!1,cancelable:!0},oF="FocusScope",Td=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[u,d]=N.useState(null),h=gn(i),f=gn(s),p=N.useRef(null),m=$t(e,y=>d(y)),g=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let y=function(j){if(g.paused||!u)return;const w=j.target;u.contains(w)?p.current=w:bo(p.current,{select:!0})},b=function(j){if(g.paused||!u)return;const w=j.relatedTarget;w!==null&&(u.contains(w)||bo(p.current,{select:!0}))},E=function(j){if(document.activeElement===document.body)for(const C of j)C.removedNodes.length>0&&bo(u)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(E);return u&&x.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[n,u,g.paused]),N.useEffect(()=>{if(u){oS.add(g);const y=document.activeElement;if(!u.contains(y)){const E=new CustomEvent(Xg,iS);u.addEventListener(Xg,h),u.dispatchEvent(E),E.defaultPrevented||(aF(fF(iO(u)),{select:!0}),document.activeElement===y&&bo(u))}return()=>{u.removeEventListener(Xg,h),setTimeout(()=>{const E=new CustomEvent(ev,iS);u.addEventListener(ev,f),u.dispatchEvent(E),E.defaultPrevented||bo(y??document.body,{select:!0}),u.removeEventListener(ev,f),oS.remove(g)},0)}}},[u,h,f,g]);const _=N.useCallback(y=>{if(!r&&!n||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(b&&E){const x=y.currentTarget,[j,w]=lF(x);j&&w?!y.shiftKey&&E===w?(y.preventDefault(),r&&bo(j,{select:!0})):y.shiftKey&&E===j&&(y.preventDefault(),r&&bo(w,{select:!0})):E===x&&y.preventDefault()}},[r,n,g.paused]);return c.jsx(it.div,{tabIndex:-1,...a,ref:m,onKeyDown:_})});Td.displayName=oF;function aF(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(bo(n,{select:e}),document.activeElement!==r)return}function lF(t){const e=iO(t),r=sS(e,t),n=sS(e.reverse(),t);return[r,n]}function iO(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function sS(t,e){for(const r of t)if(!cF(r,{upTo:e}))return r}function cF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uF(t){return t instanceof HTMLInputElement&&"select"in t}function bo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&uF(t)&&e&&t.select()}}var oS=dF();function dF(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=aS(t,e),t.unshift(e)},remove(e){var r;t=aS(t,e),(r=t[0])==null||r.resume()}}}function aS(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function fF(t){return t.filter(e=>e.tagName!=="A")}var tv=0;function bp(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lS()),document.body.insertAdjacentElement("beforeend",t[1]??lS()),tv++,()=>{tv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tv--}},[])}function lS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rb=function(t,e){return rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rb(t,e)};function sO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hi=function(){return hi=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hi.apply(this,arguments)};function ea(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function oO(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(a=t[u])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function aO(t,e){return function(r,n){e(r,n,t)}}function lO(t,e,r,n,i,s){function a(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,f=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,m=!1,g=r.length-1;g>=0;g--){var _={};for(var y in n)_[y]=y==="access"?{}:n[y];for(var y in n.access)_.access[y]=n.access[y];_.addInitializer=function(E){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(E||null))};var b=(0,r[g])(u==="accessor"?{get:f.get,set:f.set}:f[d],_);if(u==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(p=a(b.get))&&(f.get=p),(p=a(b.set))&&(f.set=p),(p=a(b.init))&&i.unshift(p)}else(p=a(b))&&(u==="field"?i.unshift(p):f[d]=p)}h&&Object.defineProperty(h,n.name,f),m=!0}function cO(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function uO(t){return typeof t=="symbol"?t:"".concat(t)}function dO(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function fO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ct(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function u(f){try{h(n.next(f))}catch(p){a(p)}}function d(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?s(f.value):i(f.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}function hO(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(h){return function(f){return d([h,f])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(f){h=[6,f],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var wp=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function pO(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wp(e,t,r)}function Fh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function mO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sw(arguments[e]));return t}function gO(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,u=s.length;a<u;a++,i++)n[i]=s[a];return n}function jw(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Oc(t){return this instanceof Oc?(this.v=t,this):new Oc(t)}function vO(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(_){return Promise.resolve(_).then(g,p)}}function u(g,_){n[g]&&(i[g]=function(y){return new Promise(function(b,E){s.push([g,y,b,E])>1||d(g,y)})},_&&(i[g]=_(i[g])))}function d(g,_){try{h(n[g](_))}catch(y){m(s[0][3],y)}}function h(g){g.value instanceof Oc?Promise.resolve(g.value.v).then(f,p):m(s[0][2],g)}function f(g){d("next",g)}function p(g){d("throw",g)}function m(g,_){g(_),s.shift(),s.length&&d(s[0][0],s[0][1])}}function yO(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:Oc(t[i](a)),done:!1}:s?s(a):a}:s}}function bO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Fh=="function"?Fh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(u,d){a=t[s](a),i(u,d,a.done,a.value)})}}function i(s,a,u,d){Promise.resolve(d).then(function(h){s({value:h,done:u})},a)}}function wO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var hF=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},nb=function(t){return nb=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},nb(t)};function xO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=nb(t),n=0;n<r.length;n++)r[n]!=="default"&&wp(e,t,r[n]);return hF(e,t),e}function _O(t){return t&&t.__esModule?t:{default:t}}function EO(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function SO(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function jO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function CO(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var pF=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function kO(t){function e(s){t.error=t.hasError?new pF(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function NO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const mF={__extends:sO,__assign:hi,__rest:ea,__decorate:oO,__param:aO,__esDecorate:lO,__runInitializers:cO,__propKey:uO,__setFunctionName:dO,__metadata:fO,__awaiter:ct,__generator:hO,__createBinding:wp,__exportStar:pO,__values:Fh,__read:Sw,__spread:mO,__spreadArrays:gO,__spreadArray:jw,__await:Oc,__asyncGenerator:vO,__asyncDelegator:yO,__asyncValues:bO,__makeTemplateObject:wO,__importStar:xO,__importDefault:_O,__classPrivateFieldGet:EO,__classPrivateFieldSet:SO,__classPrivateFieldIn:jO,__addDisposableResource:CO,__disposeResources:kO,__rewriteRelativeImportExtension:NO},gF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CO,get __assign(){return hi},__asyncDelegator:yO,__asyncGenerator:vO,__asyncValues:bO,__await:Oc,__awaiter:ct,__classPrivateFieldGet:EO,__classPrivateFieldIn:jO,__classPrivateFieldSet:SO,__createBinding:wp,__decorate:oO,__disposeResources:kO,__esDecorate:lO,__exportStar:pO,__extends:sO,__generator:hO,__importDefault:_O,__importStar:xO,__makeTemplateObject:wO,__metadata:fO,__param:aO,__propKey:uO,__read:Sw,__rest:ea,__rewriteRelativeImportExtension:NO,__runInitializers:cO,__setFunctionName:dO,__spread:mO,__spreadArray:jw,__spreadArrays:gO,__values:Fh,default:mF},Symbol.toStringTag,{value:"Module"}));var _h="right-scroll-bar-position",Eh="width-before-scroll-bar",vF="with-scroll-bars-hidden",yF="--removed-body-scroll-bar-size";function rv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bF(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var wF=typeof window<"u"?N.useLayoutEffect:N.useEffect,cS=new WeakMap;function xF(t,e){var r=bF(null,function(n){return t.forEach(function(i){return rv(i,n)})});return wF(function(){var n=cS.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(u){s.has(u)||rv(u,null)}),s.forEach(function(u){i.has(u)||rv(u,a)})}cS.set(r,t)},[t]),r}function _F(t){return t}function EF(t,e){e===void 0&&(e=_F);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(u){return u!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var u=r;r=[],u.forEach(s),a=r}var d=function(){var f=a;a=[],f.forEach(s)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(f){a.push(f),h()},filter:function(f){return a=a.filter(f),r}}}};return i}function SF(t){t===void 0&&(t={});var e=EF(null);return e.options=hi({async:!0,ssr:!1},t),e}var OO=function(t){var e=t.sideCar,r=ea(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,hi({},r))};OO.isSideCarExport=!0;function jF(t,e){return t.useMedium(e),OO}var AO=SF(),nv=function(){},xp=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:nv,onWheelCapture:nv,onTouchMoveCapture:nv}),i=n[0],s=n[1],a=t.forwardProps,u=t.children,d=t.className,h=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,g=t.noRelative,_=t.noIsolation,y=t.inert,b=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,j=t.gapMode,w=ea(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,O=xF([r,e]),A=hi(hi({},w),i);return N.createElement(N.Fragment,null,f&&N.createElement(C,{sideCar:AO,removeScrollBar:h,shards:p,noRelative:g,noIsolation:_,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:j}),a?N.cloneElement(N.Children.only(u),hi(hi({},A),{ref:O})):N.createElement(x,hi({},A,{className:d,ref:O}),u))});xp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xp.classNames={fullWidth:Eh,zeroRight:_h};var CF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CF();return e&&t.setAttribute("nonce",e),t}function NF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function OF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AF=function(){var t=0,e=null;return{add:function(r){t==0&&(e=kF())&&(NF(e,r),OF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TF=function(){var t=AF();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},TO=function(){var t=TF(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},RF={left:0,top:0,right:0,gap:0},iv=function(t){return parseInt(t||"",10)||0},PF=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[iv(r),iv(n),iv(i)]},IF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RF;var e=PF(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},DF=TO(),ac="data-scroll-locked",MF=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(vF,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ac,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_h,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Eh,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(_h," .").concat(_h,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ac,`] {
    `).concat(yF,": ").concat(u,`px;
  }
`)},uS=function(){var t=parseInt(document.body.getAttribute(ac)||"0",10);return isFinite(t)?t:0},LF=function(){N.useEffect(function(){return document.body.setAttribute(ac,(uS()+1).toString()),function(){var t=uS()-1;t<=0?document.body.removeAttribute(ac):document.body.setAttribute(ac,t.toString())}},[])},FF=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;LF();var s=N.useMemo(function(){return IF(i)},[i]);return N.createElement(DF,{styles:MF(s,!e,i,r?"":"!important")})},ib=!1;if(typeof window<"u")try{var sh=Object.defineProperty({},"passive",{get:function(){return ib=!0,!0}});window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{ib=!1}var Ml=ib?{passive:!1}:!1,$F=function(t){return t.tagName==="TEXTAREA"},RO=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!$F(t)&&r[e]==="visible")},qF=function(t){return RO(t,"overflowY")},BF=function(t){return RO(t,"overflowX")},dS=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=PO(t,n);if(i){var s=IO(t,n),a=s[1],u=s[2];if(a>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UF=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},VF=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},PO=function(t,e){return t==="v"?qF(e):BF(e)},IO=function(t,e){return t==="v"?UF(e):VF(e)},zF=function(t,e){return t==="h"&&e==="rtl"?-1:1},HF=function(t,e,r,n,i){var s=zF(t,window.getComputedStyle(e).direction),a=s*n,u=r.target,d=e.contains(u),h=!1,f=a>0,p=0,m=0;do{if(!u)break;var g=IO(t,u),_=g[0],y=g[1],b=g[2],E=y-b-s*_;(_||E)&&PO(t,u)&&(p+=E,m+=_);var x=u.parentNode;u=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(h=!0),h},oh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fS=function(t){return[t.deltaX,t.deltaY]},hS=function(t){return t&&"current"in t?t.current:t},WF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},KF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},GF=0,Ll=[];function QF(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),i=N.useState(GF++)[0],s=N.useState(TO)[0],a=N.useRef(t);N.useEffect(function(){a.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=jw([t.lockRef.current],(t.shards||[]).map(hS),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=N.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var E=oh(y),x=r.current,j="deltaX"in y?y.deltaX:x[0]-E[0],w="deltaY"in y?y.deltaY:x[1]-E[1],C,O=y.target,A=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in y&&A==="h"&&O.type==="range")return!1;var P=dS(A,O);if(!P)return!0;if(P?C=A:(C=A==="v"?"h":"v",P=dS(A,O)),!P)return!1;if(!n.current&&"changedTouches"in y&&(j||w)&&(n.current=C),!C)return!0;var q=n.current||C;return HF(q,b,y,q==="h"?j:w)},[]),d=N.useCallback(function(y){var b=y;if(!(!Ll.length||Ll[Ll.length-1]!==s)){var E="deltaY"in b?fS(b):oh(b),x=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&WF(C.delta,E)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var j=(a.current.shards||[]).map(hS).filter(Boolean).filter(function(C){return C.contains(b.target)}),w=j.length>0?u(b,j[0]):!a.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),h=N.useCallback(function(y,b,E,x){var j={name:y,delta:b,target:E,should:x,shadowParent:YF(E)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(w){return w!==j})},1)},[]),f=N.useCallback(function(y){r.current=oh(y),n.current=void 0},[]),p=N.useCallback(function(y){h(y.type,fS(y),y.target,u(y,t.lockRef.current))},[]),m=N.useCallback(function(y){h(y.type,oh(y),y.target,u(y,t.lockRef.current))},[]);N.useEffect(function(){return Ll.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",d,Ml),document.addEventListener("touchmove",d,Ml),document.addEventListener("touchstart",f,Ml),function(){Ll=Ll.filter(function(y){return y!==s}),document.removeEventListener("wheel",d,Ml),document.removeEventListener("touchmove",d,Ml),document.removeEventListener("touchstart",f,Ml)}},[]);var g=t.removeScrollBar,_=t.inert;return N.createElement(N.Fragment,null,_?N.createElement(s,{styles:KF(i)}):null,g?N.createElement(FF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZF=jF(AO,QF);var Rd=N.forwardRef(function(t,e){return N.createElement(xp,hi({},t,{ref:e,sideCar:ZF}))});Rd.classNames=xp.classNames;var JF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fl=new WeakMap,ah=new WeakMap,lh={},sv=0,DO=function(t){return t&&(t.host||DO(t.parentNode))},XF=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=DO(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},e9=function(t,e,r,n){var i=XF(e,Array.isArray(t)?t:[t]);lh[r]||(lh[r]=new WeakMap);var s=lh[r],a=[],u=new Set,d=new Set(i),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};i.forEach(h);var f=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(m){if(u.has(m))f(m);else try{var g=m.getAttribute(n),_=g!==null&&g!=="false",y=(Fl.get(m)||0)+1,b=(s.get(m)||0)+1;Fl.set(m,y),s.set(m,b),a.push(m),y===1&&_&&ah.set(m,!0),b===1&&m.setAttribute(r,"true"),_||m.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return f(e),u.clear(),sv++,function(){a.forEach(function(p){var m=Fl.get(p)-1,g=s.get(p)-1;Fl.set(p,m),s.set(p,g),m||(ah.has(p)||p.removeAttribute(n),ah.delete(p)),g||p.removeAttribute(r)}),sv--,sv||(Fl=new WeakMap,Fl=new WeakMap,ah=new WeakMap,lh={})}},_p=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=JF(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),e9(n,i,r,"aria-hidden")):function(){return null}},Ep="Dialog",[MO]=Xn(Ep),[t9,Li]=MO(Ep),LO=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,u=N.useRef(null),d=N.useRef(null),[h,f]=Ps({prop:n,defaultProp:i??!1,onChange:s,caller:Ep});return c.jsx(t9,{scope:e,triggerRef:u,contentRef:d,contentId:Zr(),titleId:Zr(),descriptionId:Zr(),open:h,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(p=>!p),[f]),modal:a,children:r})};LO.displayName=Ep;var FO="DialogTrigger",$O=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Li(FO,r),s=$t(e,i.triggerRef);return c.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Nw(i.open),...n,ref:s,onClick:Le(t.onClick,i.onOpenToggle)})});$O.displayName=FO;var Cw="DialogPortal",[r9,qO]=MO(Cw,{forceMount:void 0}),BO=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Li(Cw,e);return c.jsx(r9,{scope:e,forceMount:r,children:N.Children.map(n,a=>c.jsx(In,{present:r||s.open,children:c.jsx($c,{asChild:!0,container:i,children:a})}))})};BO.displayName=Cw;var $h="DialogOverlay",UO=N.forwardRef((t,e)=>{const r=qO($h,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Li($h,t.__scopeDialog);return s.modal?c.jsx(In,{present:n||s.open,children:c.jsx(i9,{...i,ref:e})}):null});UO.displayName=$h;var n9=zo("DialogOverlay.RemoveScroll"),i9=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Li($h,r);return c.jsx(Rd,{as:n9,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(it.div,{"data-state":Nw(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ka="DialogContent",VO=N.forwardRef((t,e)=>{const r=qO(Ka,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Li(Ka,t.__scopeDialog);return c.jsx(In,{present:n||s.open,children:s.modal?c.jsx(s9,{...i,ref:e}):c.jsx(o9,{...i,ref:e})})});VO.displayName=Ka;var s9=N.forwardRef((t,e)=>{const r=Li(Ka,t.__scopeDialog),n=N.useRef(null),i=$t(e,r.contentRef,n);return N.useEffect(()=>{const s=n.current;if(s)return _p(s)},[]),c.jsx(zO,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0;(a.button===2||u)&&s.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,s=>s.preventDefault())})}),o9=N.forwardRef((t,e)=>{const r=Li(Ka,t.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return c.jsx(zO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,u;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((h=r.triggerRef.current)==null?void 0:h.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),zO=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,u=Li(Ka,r),d=N.useRef(null),h=$t(e,d);return bp(),c.jsxs(c.Fragment,{children:[c.jsx(Td,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(nl,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Nw(u.open),...a,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(a9,{titleId:u.titleId}),c.jsx(c9,{contentRef:d,descriptionId:u.descriptionId})]})]})}),kw="DialogTitle",HO=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Li(kw,r);return c.jsx(it.h2,{id:i.titleId,...n,ref:e})});HO.displayName=kw;var WO="DialogDescription",KO=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Li(WO,r);return c.jsx(it.p,{id:i.descriptionId,...n,ref:e})});KO.displayName=WO;var GO="DialogClose",QO=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Li(GO,r);return c.jsx(it.button,{type:"button",...n,ref:e,onClick:Le(t.onClick,()=>i.onOpenChange(!1))})});QO.displayName=GO;function Nw(t){return t?"open":"closed"}var YO="DialogTitleWarning",[gX,ZO]=p5(YO,{contentName:Ka,titleName:kw,docsSlug:"dialog"}),a9=({titleId:t})=>{const e=ZO(YO),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},l9="DialogDescriptionWarning",c9=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZO(l9).contentName}}.`;return N.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Ow=LO,JO=$O,Aw=BO,Pd=UO,Id=VO,Sp=HO,jp=KO,XO=QO;const u9=Ow,d9=JO,f9=Aw,eA=N.forwardRef(({className:t,...e},r)=>c.jsx(Pd,{className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));eA.displayName=Pd.displayName;const h9=kd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),tA=N.forwardRef(({side:t="right",className:e,children:r,...n},i)=>c.jsxs(f9,{children:[c.jsx(eA,{}),c.jsxs(Id,{ref:i,className:Be(h9({side:t}),e),...n,children:[r,c.jsxs(XO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(sw,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tA.displayName=Id.displayName;const p9=N.forwardRef(({className:t,...e},r)=>c.jsx(Sp,{ref:r,className:Be("text-lg font-semibold text-foreground",t),...e}));p9.displayName=Sp.displayName;const m9=N.forwardRef(({className:t,...e},r)=>c.jsx(jp,{ref:r,className:Be("text-sm text-muted-foreground",t),...e}));m9.displayName=jp.displayName;const g9=kd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?dk:"button";return c.jsx(a,{className:Be(g9({variant:e,size:r,className:t})),ref:s,...i})});Ce.displayName="Button";function v9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rA={exports:{}},Nr=rA.exports={},Gi,Qi;function sb(){throw new Error("setTimeout has not been defined")}function ob(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Gi=setTimeout:Gi=sb}catch{Gi=sb}try{typeof clearTimeout=="function"?Qi=clearTimeout:Qi=ob}catch{Qi=ob}})();function nA(t){if(Gi===setTimeout)return setTimeout(t,0);if((Gi===sb||!Gi)&&setTimeout)return Gi=setTimeout,setTimeout(t,0);try{return Gi(t,0)}catch{try{return Gi.call(null,t,0)}catch{return Gi.call(this,t,0)}}}function y9(t){if(Qi===clearTimeout)return clearTimeout(t);if((Qi===ob||!Qi)&&clearTimeout)return Qi=clearTimeout,clearTimeout(t);try{return Qi(t)}catch{try{return Qi.call(null,t)}catch{return Qi.call(this,t)}}}var Os=[],lc=!1,ka,Sh=-1;function b9(){!lc||!ka||(lc=!1,ka.length?Os=ka.concat(Os):Sh=-1,Os.length&&iA())}function iA(){if(!lc){var t=nA(b9);lc=!0;for(var e=Os.length;e;){for(ka=Os,Os=[];++Sh<e;)ka&&ka[Sh].run();Sh=-1,e=Os.length}ka=null,lc=!1,y9(t)}}Nr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Os.push(new sA(t,e)),Os.length===1&&!lc&&nA(iA)};function sA(t,e){this.fun=t,this.array=e}sA.prototype.run=function(){this.fun.apply(null,this.array)};Nr.title="browser";Nr.browser=!0;Nr.env={};Nr.argv=[];Nr.version="";Nr.versions={};function Vs(){}Nr.on=Vs;Nr.addListener=Vs;Nr.once=Vs;Nr.off=Vs;Nr.removeListener=Vs;Nr.removeAllListeners=Vs;Nr.emit=Vs;Nr.prependListener=Vs;Nr.prependOnceListener=Vs;Nr.listeners=function(t){return[]};Nr.binding=function(t){throw new Error("process.binding is not supported")};Nr.cwd=function(){return"/"};Nr.chdir=function(t){throw new Error("process.chdir is not supported")};Nr.umask=function(){return 0};var w9=rA.exports;const sd=v9(w9),x9="modulepreload",_9=function(t){return"/LabFlow/"+t},pS={},Hc=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=a(r.map(h=>{if(h=_9(h),h in pS)return;pS[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":x9,f||(m.as="script"),m.crossOrigin="",m.href=h,d&&m.setAttribute("nonce",d),document.head.appendChild(m),f)return new Promise((g,_)=>{m.addEventListener("load",g),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},E9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hc(async()=>{const{default:n}=await Promise.resolve().then(()=>ol);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Tw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class mS extends Tw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gS extends Tw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vS extends Tw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ab;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ab||(ab={}));class S9{constructor(e,{headers:r={},customFetch:n,region:i=ab.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=E9(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ct(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:u,signal:d}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let m;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m,signal:d}).catch(E=>{throw E.name==="AbortError"?E:new mS(E)}),_=g.headers.get("x-relay-error");if(_&&_==="true")throw new gS(g);if(!g.ok)throw new vS(g);let y=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield g.json():y==="application/octet-stream"||y==="application/pdf"?b=yield g.blob():y==="text/event-stream"?b=g:y==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new mS(s)}:{data:null,error:s,response:s instanceof vS||s instanceof gS?s.context:void 0}}})}}var on={};const Wc=ck(gF);var ch={},uh={},dh={},fh={},hh={};const Ua=globalThis||void 0||self;var j9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ua<"u")return Ua;throw new Error("unable to locate global object")},Ac=j9();const C9=Ac.fetch,oA=Ac.fetch.bind(Ac),aA=Ac.Headers,k9=Ac.Request,N9=Ac.Response,ol=Object.freeze(Object.defineProperty({__proto__:null,Headers:aA,Request:k9,Response:N9,default:oA,fetch:C9},Symbol.toStringTag,{value:"Module"})),O9=ck(ol);var ph={},yS;function lA(){if(yS)return ph;yS=1,Object.defineProperty(ph,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ph.default=t,ph}var bS;function cA(){if(bS)return hh;bS=1,Object.defineProperty(hh,"__esModule",{value:!0});const t=Wc,e=t.__importDefault(O9),r=t.__importDefault(lA());class n{constructor(s){var a,u;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(u=s.isMaybeSingle)!==null&&u!==void 0?u:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,p,m,g;let _=null,y=null,b=null,E=h.status,x=h.statusText;if(h.ok){if(this.method!=="HEAD"){const O=await h.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?y=O:y=JSON.parse(O))}const w=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&C&&C.length>1&&(b=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(_={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,E=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const w=await h.text();try{_=JSON.parse(w),Array.isArray(_)&&h.status===404&&(y=[],_=null,E=200,x="OK")}catch{h.status===404&&w===""?(E=204,x="No Content"):_={message:w}}if(_&&this.isMaybeSingle&&(!((g=_==null?void 0:_.details)===null||g===void 0)&&g.includes("0 rows"))&&(_=null,E=200,x="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:y,count:b,status:E,statusText:x}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,p,m;return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=h==null?void 0:h.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),d.then(s,a)}returns(){return this}overrideTypes(){return this}}return hh.default=n,hh}var wS;function uA(){if(wS)return fh;wS=1,Object.defineProperty(fh,"__esModule",{value:!0});const e=Wc.__importDefault(cA());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return fh.default=r,fh}var xS;function Rw(){if(xS)return dh;xS=1,Object.defineProperty(dh,"__esModule",{value:!0});const e=Wc.__importDefault(uA()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const u=Array.from(new Set(a)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const f=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,u])=>{this.url.searchParams.append(a,`eq.${u}`)}),this}not(s,a,u){return this.url.searchParams.append(s,`not.${a}.${u}`),this}or(s,{foreignTable:a,referencedTable:u=a}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,a,u){return this.url.searchParams.append(s,`${a}.${u}`),this}}return dh.default=n,dh}var _S;function dA(){if(_S)return uh;_S=1,Object.defineProperty(uh,"__esModule",{value:!0});const e=Wc.__importDefault(Rw());class r{constructor(i,{headers:s={},schema:a,fetch:u}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=u}select(i,s){const{head:a=!1,count:u}=s??{},d=a?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:u,defaultToNull:d=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var a;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return uh.default=r,uh}var ES;function A9(){if(ES)return ch;ES=1,Object.defineProperty(ch,"__esModule",{value:!0});const t=Wc,e=t.__importDefault(dA()),r=t.__importDefault(Rw());class n{constructor(s,{headers:a={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(a),this.schemaName=u,this.fetch=d}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:u=!1,get:d=!1,count:h}={}){var f;let p;const m=new URL(`${this.url}/rpc/${s}`);let g;u||d?(p=u?"HEAD":"GET",Object.entries(a).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{m.searchParams.append(y,b)})):(p="POST",g=a);const _=new Headers(this.headers);return h&&_.set("Prefer",`count=${h}`),new r.default({method:p,url:m,headers:_,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ch.default=n,ch}var SS;function T9(){if(SS)return on;SS=1,Object.defineProperty(on,"__esModule",{value:!0}),on.PostgrestError=on.PostgrestBuilder=on.PostgrestTransformBuilder=on.PostgrestFilterBuilder=on.PostgrestQueryBuilder=on.PostgrestClient=void 0;const t=Wc,e=t.__importDefault(A9());on.PostgrestClient=e.default;const r=t.__importDefault(dA());on.PostgrestQueryBuilder=r.default;const n=t.__importDefault(Rw());on.PostgrestFilterBuilder=n.default;const i=t.__importDefault(uA());on.PostgrestTransformBuilder=i.default;const s=t.__importDefault(cA());on.PostgrestBuilder=s.default;const a=t.__importDefault(lA());return on.PostgrestError=a.default,on.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},on}var fA=T9();const hA=np(fA),R9=lk({__proto__:null,default:hA},[fA]),{PostgrestClient:P9,PostgrestQueryBuilder:vX,PostgrestFilterBuilder:yX,PostgrestTransformBuilder:bX,PostgrestBuilder:wX,PostgrestError:xX}=hA||R9;class I9{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof Ua<"u"&&typeof Ua.WebSocket<"u")return{type:"native",constructor:Ua.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof sd<"u"){const r=sd.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const D9="2.77.0",M9=`realtime-js/${D9}`,L9="1.0.0",lb=1e4,F9=1e3,$9=100;var Zu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zu||(Zu={}));var $r;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($r||($r={}));var Ri;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ri||(Ri={}));var cb;(function(t){t.websocket="websocket"})(cb||(cb={}));var Ea;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ea||(Ea={}));class q9{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const u=n.decode(e.slice(a,a+i));a=a+i;const d=n.decode(e.slice(a,a+s));a=a+s;const h=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class pA{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(cr||(cr={}));const jS=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=B9(a,t,e,i),s),{}):{}},B9=(t,e,r,n)=>{const i=e.find(u=>u.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?mA(s,a):ub(a)},mA=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return H9(e,r)}switch(t){case cr.bool:return U9(e);case cr.float4:case cr.float8:case cr.int2:case cr.int4:case cr.int8:case cr.numeric:case cr.oid:return V9(e);case cr.json:case cr.jsonb:return z9(e);case cr.timestamp:return W9(e);case cr.abstime:case cr.date:case cr.daterange:case cr.int4range:case cr.int8range:case cr.money:case cr.reltime:case cr.text:case cr.time:case cr.timestamptz:case cr.timetz:case cr.tsrange:case cr.tstzrange:return ub(e);default:return ub(e)}},ub=t=>t,U9=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},V9=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},z9=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},H9=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(u=>mA(e,u))}return t},W9=t=>typeof t=="string"?t.replace(" ","T"):t,gA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ov{constructor(e,r,n={},i=lb){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var CS;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(CS||(CS={}));class Ju{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ju.syncState(this.state,i,s,a),this.pendingDiffs.forEach(d=>{this.state=Ju.syncDiff(this.state,d,s,a)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ju.syncDiff(this.state,i,s,a),u())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),u={},d={};return this.map(s,(h,f)=>{a[h]||(d[h]=f)}),this.map(a,(h,f)=>{const p=s[h];if(p){const m=f.map(b=>b.presence_ref),g=p.map(b=>b.presence_ref),_=f.filter(b=>g.indexOf(b.presence_ref)<0),y=p.filter(b=>m.indexOf(b.presence_ref)<0);_.length>0&&(u[h]=_),y.length>0&&(d[h]=y)}else u[h]=f}),this.syncDiff(s,{joins:u,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var h;const f=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),f.length>0){const p=e[u].map(g=>g.presence_ref),m=f.filter(g=>p.indexOf(g.presence_ref)<0);e[u].unshift(...m)}n(u,f,d)}),this.map(a,(u,d)=>{let h=e[u];if(!h)return;const f=d.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),e[u]=h,i(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kS;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kS||(kS={}));var Xu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xu||(Xu={}));var _s;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_s||(_s={}));class Pw{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=$r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ov(this,Ri.join,this.params,this.timeout),this.rejoinTimer=new pA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$r.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ri.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Ju(this),this.broadcastEndpointURL=gA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==$r.closed){const{config:{broadcast:a,presence:u,private:d}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Xu.PRESENCE]&&this.bindings[Xu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},m={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:f}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(_s.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(_s.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){e==null||e(_s.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(_=y==null?void 0:y.length)!==null&&_!==void 0?_:0,E=[];for(let x=0;x<b;x++){const j=y[x],{filter:{event:w,schema:C,table:O,filter:A}}=j,P=g&&g[x];if(P&&P.event===w&&P.schema===C&&P.table===O&&P.filter===A)E.push(Object.assign(Object.assign({},j),{id:P.id}));else{this.unsubscribe(),this.state=$r.errored,e==null||e(_s.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(_s.SUBSCRIBED);return}}).receive("error",g=>{this.state=$r.errored,e==null||e(_s.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(_s.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===$r.joined&&e===Xu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$r.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ri.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ov(this,Ri.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$r.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ov(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:f}=Ri;if(n&&[u,d,h,f].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,y,b;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(m,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var _,y,b,E,x,j;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const w=g.id,C=(_=g.filter)===null||_===void 0?void 0:_.event;return w&&((y=r.ids)===null||y===void 0?void 0:y.includes(w))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(x=(E=g==null?void 0:g.filter)===null||E===void 0?void 0:E.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:y,table:b,commit_timestamp:E,type:x,errors:j}=_;m=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:E,eventType:x,new:{},old:{},errors:j}),this._getPayloadRecords(_))}g.callback(m,n)})}_isClosed(){return this.state===$r.closed}_isJoined(){return this.state===$r.joined}_isJoining(){return this.state===$r.joining}_isLeaving(){return this.state===$r.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Pw.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ri.close,{},e)}_onError(e){this._on(Ri.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$r.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=jS(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=jS(e.columns,e.old_record)),r}}const av=()=>{},mh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K9=[1e3,2e3,5e3,1e4],G9=1e4,Q9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y9{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lb,this.transport=null,this.heartbeatIntervalMs=mh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=av,this.ref=0,this.reconnectTimer=null,this.logger=av,this.conn=null,this.sendBuffer=[],this.serializer=new q9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Hc(async()=>{const{default:u}=await Promise.resolve().then(()=>ol);return{default:u}},void 0).then(({default:u})=>u(...a)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${cb.websocket}`,this.httpEndpoint=gA(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I9.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L9}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zu.connecting:return Ea.Connecting;case Zu.open:return Ea.Open;case Zu.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Pw(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(F9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,u=a?`(${a})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ri.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Q9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:M9};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ri.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,u,d,h,f;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:lb,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:mh.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:av,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(p=>K9[p-1]||G9),this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((p,m)=>m(JSON.stringify(p))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var vA={},Cp={};Cp.byteLength=X9;Cp.toByteArray=t7;Cp.fromByteArray=i7;var es=[],ui=[],Z9=typeof Uint8Array<"u"?Uint8Array:Array,lv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $l=0,J9=lv.length;$l<J9;++$l)es[$l]=lv[$l],ui[lv.charCodeAt($l)]=$l;ui[45]=62;ui[95]=63;function yA(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function X9(t){var e=yA(t),r=e[0],n=e[1];return(r+n)*3/4-n}function e7(t,e,r){return(e+r)*3/4-r}function t7(t){var e,r=yA(t),n=r[0],i=r[1],s=new Z9(e7(t,n,i)),a=0,u=i>0?n-4:n,d;for(d=0;d<u;d+=4)e=ui[t.charCodeAt(d)]<<18|ui[t.charCodeAt(d+1)]<<12|ui[t.charCodeAt(d+2)]<<6|ui[t.charCodeAt(d+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=ui[t.charCodeAt(d)]<<2|ui[t.charCodeAt(d+1)]>>4,s[a++]=e&255),i===1&&(e=ui[t.charCodeAt(d)]<<10|ui[t.charCodeAt(d+1)]<<4|ui[t.charCodeAt(d+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function r7(t){return es[t>>18&63]+es[t>>12&63]+es[t>>6&63]+es[t&63]}function n7(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(r7(n));return i.join("")}function i7(t){for(var e,r=t.length,n=r%3,i=[],s=16383,a=0,u=r-n;a<u;a+=s)i.push(n7(t,a,a+s>u?u:a+s));return n===1?(e=t[r-1],i.push(es[e>>2]+es[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(es[e>>10]+es[e>>4&63]+es[e<<2&63]+"=")),i.join("")}var Iw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Iw.read=function(t,e,r,n,i){var s,a,u=i*8-n-1,d=(1<<u)-1,h=d>>1,f=-7,p=r?i-1:0,m=r?-1:1,g=t[e+p];for(p+=m,s=g&(1<<-f)-1,g>>=-f,f+=u;f>0;s=s*256+t[e+p],p+=m,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=n;f>0;a=a*256+t[e+p],p+=m,f-=8);if(s===0)s=1-h;else{if(s===d)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-h}return(g?-1:1)*a*Math.pow(2,s-n)};Iw.write=function(t,e,r,n,i,s){var a,u,d,h=s*8-i-1,f=(1<<h)-1,p=f>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:s-1,_=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+p>=1?e+=m/d:e+=m*Math.pow(2,1-p),e*d>=2&&(a++,d/=2),a+p>=f?(u=0,a=f):a+p>=1?(u=(e*d-1)*Math.pow(2,i),a=a+p):(u=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[r+g]=u&255,g+=_,u/=256,i-=8);for(a=a<<i|u,h+=i;h>0;t[r+g]=a&255,g+=_,a/=256,h-=8);t[r+g-_]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Cp,r=Iw,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:a,SharedArrayBuffer:u}=globalThis;f.TYPED_ARRAY_SUPPORT=d(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const V=new s(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,s.prototype),Object.setPrototypeOf(V,R),V.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(V){if(V>i)throw new RangeError('The value "'+V+'" is invalid for option "size"');const R=new s(V);return Object.setPrototypeOf(R,f.prototype),R}function f(V,R,F){if(typeof V=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(V)}return p(V,R,F)}f.poolSize=8192;function p(V,R,F){if(typeof V=="string")return y(V,R);if(a.isView(V))return E(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(ve(V,a)||V&&ve(V.buffer,a)||typeof u<"u"&&(ve(V,u)||V&&ve(V.buffer,u)))return x(V,R,F);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=V.valueOf&&V.valueOf();if(ne!=null&&ne!==V)return f.from(ne,R,F);const fe=j(V);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return f.from(V[Symbol.toPrimitive]("string"),R,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}f.from=function(V,R,F){return p(V,R,F)},Object.setPrototypeOf(f.prototype,s.prototype),Object.setPrototypeOf(f,s);function m(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function g(V,R,F){return m(V),V<=0?h(V):R!==void 0?typeof F=="string"?h(V).fill(R,F):h(V).fill(R):h(V)}f.alloc=function(V,R,F){return g(V,R,F)};function _(V){return m(V),h(V<0?0:w(V)|0)}f.allocUnsafe=function(V){return _(V)},f.allocUnsafeSlow=function(V){return _(V)};function y(V,R){if((typeof R!="string"||R==="")&&(R="utf8"),!f.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const F=O(V,R)|0;let ne=h(F);const fe=ne.write(V,R);return fe!==F&&(ne=ne.slice(0,fe)),ne}function b(V){const R=V.length<0?0:w(V.length)|0,F=h(R);for(let ne=0;ne<R;ne+=1)F[ne]=V[ne]&255;return F}function E(V){if(ve(V,s)){const R=new s(V);return x(R.buffer,R.byteOffset,R.byteLength)}return b(V)}function x(V,R,F){if(R<0||V.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<R+(F||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return R===void 0&&F===void 0?ne=new s(V):F===void 0?ne=new s(V,R):ne=new s(V,R,F),Object.setPrototypeOf(ne,f.prototype),ne}function j(V){if(f.isBuffer(V)){const R=w(V.length)|0,F=h(R);return F.length===0||V.copy(F,0,0,R),F}if(V.length!==void 0)return typeof V.length!="number"||Oe(V.length)?h(0):b(V);if(V.type==="Buffer"&&Array.isArray(V.data))return b(V.data)}function w(V){if(V>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return V|0}function C(V){return+V!=V&&(V=0),f.alloc(+V)}f.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==f.prototype},f.compare=function(R,F){if(ve(R,s)&&(R=f.from(R,R.offset,R.byteLength)),ve(F,s)&&(F=f.from(F,F.offset,F.byteLength)),!f.isBuffer(R)||!f.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===F)return 0;let ne=R.length,fe=F.length;for(let be=0,Se=Math.min(ne,fe);be<Se;++be)if(R[be]!==F[be]){ne=R[be],fe=F[be];break}return ne<fe?-1:fe<ne?1:0},f.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(R,F){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return f.alloc(0);let ne;if(F===void 0)for(F=0,ne=0;ne<R.length;++ne)F+=R[ne].length;const fe=f.allocUnsafe(F);let be=0;for(ne=0;ne<R.length;++ne){let Se=R[ne];if(ve(Se,s))be+Se.length>fe.length?(f.isBuffer(Se)||(Se=f.from(Se)),Se.copy(fe,be)):s.prototype.set.call(fe,Se,be);else if(f.isBuffer(Se))Se.copy(fe,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=Se.length}return fe};function O(V,R){if(f.isBuffer(V))return V.length;if(a.isView(V)||ve(V,a))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const F=V.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&F===0)return 0;let fe=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return J(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return Ee(V).length;default:if(fe)return ne?-1:J(V).length;R=(""+R).toLowerCase(),fe=!0}}f.byteLength=O;function A(V,R,F){let ne=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,R>>>=0,F<=R))return"";for(V||(V="utf8");;)switch(V){case"hex":return $(this,R,F);case"utf8":case"utf-8":return ie(this,R,F);case"ascii":return Q(this,R,F);case"latin1":case"binary":return M(this,R,F);case"base64":return X(this,R,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,R,F);default:if(ne)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),ne=!0}}f.prototype._isBuffer=!0;function P(V,R,F){const ne=V[R];V[R]=V[F],V[F]=ne}f.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<R;F+=2)P(this,F,F+1);return this},f.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<R;F+=4)P(this,F,F+3),P(this,F+1,F+2);return this},f.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<R;F+=8)P(this,F,F+7),P(this,F+1,F+6),P(this,F+2,F+5),P(this,F+3,F+4);return this},f.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?ie(this,0,R):A.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(R){if(!f.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:f.compare(this,R)===0},f.prototype.inspect=function(){let R="";const F=t.INSPECT_MAX_BYTES;return R=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(R+=" ... "),"<Buffer "+R+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(R,F,ne,fe,be){if(ve(R,s)&&(R=f.from(R,R.offset,R.byteLength)),!f.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(F===void 0&&(F=0),ne===void 0&&(ne=R?R.length:0),fe===void 0&&(fe=0),be===void 0&&(be=this.length),F<0||ne>R.length||fe<0||be>this.length)throw new RangeError("out of range index");if(fe>=be&&F>=ne)return 0;if(fe>=be)return-1;if(F>=ne)return 1;if(F>>>=0,ne>>>=0,fe>>>=0,be>>>=0,this===R)return 0;let Se=be-fe,yt=ne-F;const It=Math.min(Se,yt),Dt=this.slice(fe,be),Vt=R.slice(F,ne);for(let Ot=0;Ot<It;++Ot)if(Dt[Ot]!==Vt[Ot]){Se=Dt[Ot],yt=Vt[Ot];break}return Se<yt?-1:yt<Se?1:0};function q(V,R,F,ne,fe){if(V.length===0)return-1;if(typeof F=="string"?(ne=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Oe(F)&&(F=fe?0:V.length-1),F<0&&(F=V.length+F),F>=V.length){if(fe)return-1;F=V.length-1}else if(F<0)if(fe)F=0;else return-1;if(typeof R=="string"&&(R=f.from(R,ne)),f.isBuffer(R))return R.length===0?-1:T(V,R,F,ne,fe);if(typeof R=="number")return R=R&255,typeof s.prototype.indexOf=="function"?fe?s.prototype.indexOf.call(V,R,F):s.prototype.lastIndexOf.call(V,R,F):T(V,[R],F,ne,fe);throw new TypeError("val must be string, number or Buffer")}function T(V,R,F,ne,fe){let be=1,Se=V.length,yt=R.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(V.length<2||R.length<2)return-1;be=2,Se/=2,yt/=2,F/=2}function It(Vt,Ot){return be===1?Vt[Ot]:Vt.readUInt16BE(Ot*be)}let Dt;if(fe){let Vt=-1;for(Dt=F;Dt<Se;Dt++)if(It(V,Dt)===It(R,Vt===-1?0:Dt-Vt)){if(Vt===-1&&(Vt=Dt),Dt-Vt+1===yt)return Vt*be}else Vt!==-1&&(Dt-=Dt-Vt),Vt=-1}else for(F+yt>Se&&(F=Se-yt),Dt=F;Dt>=0;Dt--){let Vt=!0;for(let Ot=0;Ot<yt;Ot++)if(It(V,Dt+Ot)!==It(R,Ot)){Vt=!1;break}if(Vt)return Dt}return-1}f.prototype.includes=function(R,F,ne){return this.indexOf(R,F,ne)!==-1},f.prototype.indexOf=function(R,F,ne){return q(this,R,F,ne,!0)},f.prototype.lastIndexOf=function(R,F,ne){return q(this,R,F,ne,!1)};function D(V,R,F,ne){F=Number(F)||0;const fe=V.length-F;ne?(ne=Number(ne),ne>fe&&(ne=fe)):ne=fe;const be=R.length;ne>be/2&&(ne=be/2);let Se;for(Se=0;Se<ne;++Se){const yt=parseInt(R.substr(Se*2,2),16);if(Oe(yt))return Se;V[F+Se]=yt}return Se}function L(V,R,F,ne){return he(J(R,V.length-F),V,F,ne)}function B(V,R,F,ne){return he(oe(R),V,F,ne)}function U(V,R,F,ne){return he(Ee(R),V,F,ne)}function Y(V,R,F,ne){return he(ae(R,V.length-F),V,F,ne)}f.prototype.write=function(R,F,ne,fe){if(F===void 0)fe="utf8",ne=this.length,F=0;else if(ne===void 0&&typeof F=="string")fe=F,ne=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(ne)?(ne=ne>>>0,fe===void 0&&(fe="utf8")):(fe=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-F;if((ne===void 0||ne>be)&&(ne=be),R.length>0&&(ne<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Se=!1;for(;;)switch(fe){case"hex":return D(this,R,F,ne);case"utf8":case"utf-8":return L(this,R,F,ne);case"ascii":case"latin1":case"binary":return B(this,R,F,ne);case"base64":return U(this,R,F,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,R,F,ne);default:if(Se)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Se=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(V,R,F){return R===0&&F===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(R,F))}function ie(V,R,F){F=Math.min(V.length,F);const ne=[];let fe=R;for(;fe<F;){const be=V[fe];let Se=null,yt=be>239?4:be>223?3:be>191?2:1;if(fe+yt<=F){let It,Dt,Vt,Ot;switch(yt){case 1:be<128&&(Se=be);break;case 2:It=V[fe+1],(It&192)===128&&(Ot=(be&31)<<6|It&63,Ot>127&&(Se=Ot));break;case 3:It=V[fe+1],Dt=V[fe+2],(It&192)===128&&(Dt&192)===128&&(Ot=(be&15)<<12|(It&63)<<6|Dt&63,Ot>2047&&(Ot<55296||Ot>57343)&&(Se=Ot));break;case 4:It=V[fe+1],Dt=V[fe+2],Vt=V[fe+3],(It&192)===128&&(Dt&192)===128&&(Vt&192)===128&&(Ot=(be&15)<<18|(It&63)<<12|(Dt&63)<<6|Vt&63,Ot>65535&&Ot<1114112&&(Se=Ot))}}Se===null?(Se=65533,yt=1):Se>65535&&(Se-=65536,ne.push(Se>>>10&1023|55296),Se=56320|Se&1023),ne.push(Se),fe+=yt}return K(ne)}const re=4096;function K(V){const R=V.length;if(R<=re)return String.fromCharCode.apply(String,V);let F="",ne=0;for(;ne<R;)F+=String.fromCharCode.apply(String,V.slice(ne,ne+=re));return F}function Q(V,R,F){let ne="";F=Math.min(V.length,F);for(let fe=R;fe<F;++fe)ne+=String.fromCharCode(V[fe]&127);return ne}function M(V,R,F){let ne="";F=Math.min(V.length,F);for(let fe=R;fe<F;++fe)ne+=String.fromCharCode(V[fe]);return ne}function $(V,R,F){const ne=V.length;(!R||R<0)&&(R=0),(!F||F<0||F>ne)&&(F=ne);let fe="";for(let be=R;be<F;++be)fe+=lt[V[be]];return fe}function G(V,R,F){const ne=V.slice(R,F);let fe="";for(let be=0;be<ne.length-1;be+=2)fe+=String.fromCharCode(ne[be]+ne[be+1]*256);return fe}f.prototype.slice=function(R,F){const ne=this.length;R=~~R,F=F===void 0?ne:~~F,R<0?(R+=ne,R<0&&(R=0)):R>ne&&(R=ne),F<0?(F+=ne,F<0&&(F=0)):F>ne&&(F=ne),F<R&&(F=R);const fe=this.subarray(R,F);return Object.setPrototypeOf(fe,f.prototype),fe};function te(V,R,F){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+R>F)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(R,F,ne){R=R>>>0,F=F>>>0,ne||te(R,F,this.length);let fe=this[R],be=1,Se=0;for(;++Se<F&&(be*=256);)fe+=this[R+Se]*be;return fe},f.prototype.readUintBE=f.prototype.readUIntBE=function(R,F,ne){R=R>>>0,F=F>>>0,ne||te(R,F,this.length);let fe=this[R+--F],be=1;for(;F>0&&(be*=256);)fe+=this[R+--F]*be;return fe},f.prototype.readUint8=f.prototype.readUInt8=function(R,F){return R=R>>>0,F||te(R,1,this.length),this[R]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(R,F){return R=R>>>0,F||te(R,2,this.length),this[R]|this[R+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(R,F){return R=R>>>0,F||te(R,2,this.length),this[R]<<8|this[R+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(R,F){return R=R>>>0,F||te(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(R,F){return R=R>>>0,F||te(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},f.prototype.readBigUInt64LE=He(function(R){R=R>>>0,_t(R,"offset");const F=this[R],ne=this[R+7];(F===void 0||ne===void 0)&&xt(R,this.length-8);const fe=F+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,be=this[++R]+this[++R]*2**8+this[++R]*2**16+ne*2**24;return BigInt(fe)+(BigInt(be)<<BigInt(32))}),f.prototype.readBigUInt64BE=He(function(R){R=R>>>0,_t(R,"offset");const F=this[R],ne=this[R+7];(F===void 0||ne===void 0)&&xt(R,this.length-8);const fe=F*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],be=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne;return(BigInt(fe)<<BigInt(32))+BigInt(be)}),f.prototype.readIntLE=function(R,F,ne){R=R>>>0,F=F>>>0,ne||te(R,F,this.length);let fe=this[R],be=1,Se=0;for(;++Se<F&&(be*=256);)fe+=this[R+Se]*be;return be*=128,fe>=be&&(fe-=Math.pow(2,8*F)),fe},f.prototype.readIntBE=function(R,F,ne){R=R>>>0,F=F>>>0,ne||te(R,F,this.length);let fe=F,be=1,Se=this[R+--fe];for(;fe>0&&(be*=256);)Se+=this[R+--fe]*be;return be*=128,Se>=be&&(Se-=Math.pow(2,8*F)),Se},f.prototype.readInt8=function(R,F){return R=R>>>0,F||te(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},f.prototype.readInt16LE=function(R,F){R=R>>>0,F||te(R,2,this.length);const ne=this[R]|this[R+1]<<8;return ne&32768?ne|4294901760:ne},f.prototype.readInt16BE=function(R,F){R=R>>>0,F||te(R,2,this.length);const ne=this[R+1]|this[R]<<8;return ne&32768?ne|4294901760:ne},f.prototype.readInt32LE=function(R,F){return R=R>>>0,F||te(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},f.prototype.readInt32BE=function(R,F){return R=R>>>0,F||te(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},f.prototype.readBigInt64LE=He(function(R){R=R>>>0,_t(R,"offset");const F=this[R],ne=this[R+7];(F===void 0||ne===void 0)&&xt(R,this.length-8);const fe=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(ne<<24);return(BigInt(fe)<<BigInt(32))+BigInt(F+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),f.prototype.readBigInt64BE=He(function(R){R=R>>>0,_t(R,"offset");const F=this[R],ne=this[R+7];(F===void 0||ne===void 0)&&xt(R,this.length-8);const fe=(F<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(fe)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne)}),f.prototype.readFloatLE=function(R,F){return R=R>>>0,F||te(R,4,this.length),r.read(this,R,!0,23,4)},f.prototype.readFloatBE=function(R,F){return R=R>>>0,F||te(R,4,this.length),r.read(this,R,!1,23,4)},f.prototype.readDoubleLE=function(R,F){return R=R>>>0,F||te(R,8,this.length),r.read(this,R,!0,52,8)},f.prototype.readDoubleBE=function(R,F){return R=R>>>0,F||te(R,8,this.length),r.read(this,R,!1,52,8)};function ee(V,R,F,ne,fe,be){if(!f.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>fe||R<be)throw new RangeError('"value" argument is out of bounds');if(F+ne>V.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(R,F,ne,fe){if(R=+R,F=F>>>0,ne=ne>>>0,!fe){const yt=Math.pow(2,8*ne)-1;ee(this,R,F,ne,yt,0)}let be=1,Se=0;for(this[F]=R&255;++Se<ne&&(be*=256);)this[F+Se]=R/be&255;return F+ne},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(R,F,ne,fe){if(R=+R,F=F>>>0,ne=ne>>>0,!fe){const yt=Math.pow(2,8*ne)-1;ee(this,R,F,ne,yt,0)}let be=ne-1,Se=1;for(this[F+be]=R&255;--be>=0&&(Se*=256);)this[F+be]=R/Se&255;return F+ne},f.prototype.writeUint8=f.prototype.writeUInt8=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,1,255,0),this[F]=R&255,F+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,2,65535,0),this[F]=R&255,this[F+1]=R>>>8,F+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,2,65535,0),this[F]=R>>>8,this[F+1]=R&255,F+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,4,4294967295,0),this[F+3]=R>>>24,this[F+2]=R>>>16,this[F+1]=R>>>8,this[F]=R&255,F+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,4,4294967295,0),this[F]=R>>>24,this[F+1]=R>>>16,this[F+2]=R>>>8,this[F+3]=R&255,F+4};function W(V,R,F,ne,fe){pt(R,ne,fe,V,F,7);let be=Number(R&BigInt(4294967295));V[F++]=be,be=be>>8,V[F++]=be,be=be>>8,V[F++]=be,be=be>>8,V[F++]=be;let Se=Number(R>>BigInt(32)&BigInt(4294967295));return V[F++]=Se,Se=Se>>8,V[F++]=Se,Se=Se>>8,V[F++]=Se,Se=Se>>8,V[F++]=Se,F}function Z(V,R,F,ne,fe){pt(R,ne,fe,V,F,7);let be=Number(R&BigInt(4294967295));V[F+7]=be,be=be>>8,V[F+6]=be,be=be>>8,V[F+5]=be,be=be>>8,V[F+4]=be;let Se=Number(R>>BigInt(32)&BigInt(4294967295));return V[F+3]=Se,Se=Se>>8,V[F+2]=Se,Se=Se>>8,V[F+1]=Se,Se=Se>>8,V[F]=Se,F+8}f.prototype.writeBigUInt64LE=He(function(R,F=0){return W(this,R,F,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=He(function(R,F=0){return Z(this,R,F,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(R,F,ne,fe){if(R=+R,F=F>>>0,!fe){const It=Math.pow(2,8*ne-1);ee(this,R,F,ne,It-1,-It)}let be=0,Se=1,yt=0;for(this[F]=R&255;++be<ne&&(Se*=256);)R<0&&yt===0&&this[F+be-1]!==0&&(yt=1),this[F+be]=(R/Se>>0)-yt&255;return F+ne},f.prototype.writeIntBE=function(R,F,ne,fe){if(R=+R,F=F>>>0,!fe){const It=Math.pow(2,8*ne-1);ee(this,R,F,ne,It-1,-It)}let be=ne-1,Se=1,yt=0;for(this[F+be]=R&255;--be>=0&&(Se*=256);)R<0&&yt===0&&this[F+be+1]!==0&&(yt=1),this[F+be]=(R/Se>>0)-yt&255;return F+ne},f.prototype.writeInt8=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,1,127,-128),R<0&&(R=255+R+1),this[F]=R&255,F+1},f.prototype.writeInt16LE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,2,32767,-32768),this[F]=R&255,this[F+1]=R>>>8,F+2},f.prototype.writeInt16BE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,2,32767,-32768),this[F]=R>>>8,this[F+1]=R&255,F+2},f.prototype.writeInt32LE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,4,2147483647,-2147483648),this[F]=R&255,this[F+1]=R>>>8,this[F+2]=R>>>16,this[F+3]=R>>>24,F+4},f.prototype.writeInt32BE=function(R,F,ne){return R=+R,F=F>>>0,ne||ee(this,R,F,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[F]=R>>>24,this[F+1]=R>>>16,this[F+2]=R>>>8,this[F+3]=R&255,F+4},f.prototype.writeBigInt64LE=He(function(R,F=0){return W(this,R,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=He(function(R,F=0){return Z(this,R,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function le(V,R,F,ne,fe,be){if(F+ne>V.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function ce(V,R,F,ne,fe){return R=+R,F=F>>>0,fe||le(V,R,F,4),r.write(V,R,F,ne,23,4),F+4}f.prototype.writeFloatLE=function(R,F,ne){return ce(this,R,F,!0,ne)},f.prototype.writeFloatBE=function(R,F,ne){return ce(this,R,F,!1,ne)};function me(V,R,F,ne,fe){return R=+R,F=F>>>0,fe||le(V,R,F,8),r.write(V,R,F,ne,52,8),F+8}f.prototype.writeDoubleLE=function(R,F,ne){return me(this,R,F,!0,ne)},f.prototype.writeDoubleBE=function(R,F,ne){return me(this,R,F,!1,ne)},f.prototype.copy=function(R,F,ne,fe){if(!f.isBuffer(R))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!fe&&fe!==0&&(fe=this.length),F>=R.length&&(F=R.length),F||(F=0),fe>0&&fe<ne&&(fe=ne),fe===ne||R.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),R.length-F<fe-ne&&(fe=R.length-F+ne);const be=fe-ne;return this===R&&typeof s.prototype.copyWithin=="function"?this.copyWithin(F,ne,fe):s.prototype.set.call(R,this.subarray(ne,fe),F),be},f.prototype.fill=function(R,F,ne,fe){if(typeof R=="string"){if(typeof F=="string"?(fe=F,F=0,ne=this.length):typeof ne=="string"&&(fe=ne,ne=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!f.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(R.length===1){const Se=R.charCodeAt(0);(fe==="utf8"&&Se<128||fe==="latin1")&&(R=Se)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(F<0||this.length<F||this.length<ne)throw new RangeError("Out of range index");if(ne<=F)return this;F=F>>>0,ne=ne===void 0?this.length:ne>>>0,R||(R=0);let be;if(typeof R=="number")for(be=F;be<ne;++be)this[be]=R;else{const Se=f.isBuffer(R)?R:f.from(R,fe),yt=Se.length;if(yt===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(be=0;be<ne-F;++be)this[be+F]=Se[be%yt]}return this};const je={};function Te(V,R,F){je[V]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(V,R){return`The "${V}" argument must be of type number. Received type ${typeof R}`},TypeError),Te("ERR_OUT_OF_RANGE",function(V,R,F){let ne=`The value of "${V}" is out of range.`,fe=F;return Number.isInteger(F)&&Math.abs(F)>2**32?fe=ze(String(F)):typeof F=="bigint"&&(fe=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(fe=ze(fe)),fe+="n"),ne+=` It must be ${R}. Received ${fe}`,ne},RangeError);function ze(V){let R="",F=V.length;const ne=V[0]==="-"?1:0;for(;F>=ne+4;F-=3)R=`_${V.slice(F-3,F)}${R}`;return`${V.slice(0,F)}${R}`}function Ze(V,R,F){_t(R,"offset"),(V[R]===void 0||V[R+F]===void 0)&&xt(R,V.length-(F+1))}function pt(V,R,F,ne,fe,be){if(V>F||V<R){const Se=typeof R=="bigint"?"n":"";let yt;throw R===0||R===BigInt(0)?yt=`>= 0${Se} and < 2${Se} ** ${(be+1)*8}${Se}`:yt=`>= -(2${Se} ** ${(be+1)*8-1}${Se}) and < 2 ** ${(be+1)*8-1}${Se}`,new je.ERR_OUT_OF_RANGE("value",yt,V)}Ze(ne,fe,be)}function _t(V,R){if(typeof V!="number")throw new je.ERR_INVALID_ARG_TYPE(R,"number",V)}function xt(V,R,F){throw Math.floor(V)!==V?(_t(V,F),new je.ERR_OUT_OF_RANGE("offset","an integer",V)):R<0?new je.ERR_BUFFER_OUT_OF_BOUNDS:new je.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,V)}const xe=/[^+/0-9A-Za-z-_]/g;function _e(V){if(V=V.split("=")[0],V=V.trim().replace(xe,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function J(V,R){R=R||1/0;let F;const ne=V.length;let fe=null;const be=[];for(let Se=0;Se<ne;++Se){if(F=V.charCodeAt(Se),F>55295&&F<57344){if(!fe){if(F>56319){(R-=3)>-1&&be.push(239,191,189);continue}else if(Se+1===ne){(R-=3)>-1&&be.push(239,191,189);continue}fe=F;continue}if(F<56320){(R-=3)>-1&&be.push(239,191,189),fe=F;continue}F=(fe-55296<<10|F-56320)+65536}else fe&&(R-=3)>-1&&be.push(239,191,189);if(fe=null,F<128){if((R-=1)<0)break;be.push(F)}else if(F<2048){if((R-=2)<0)break;be.push(F>>6|192,F&63|128)}else if(F<65536){if((R-=3)<0)break;be.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((R-=4)<0)break;be.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return be}function oe(V){const R=[];for(let F=0;F<V.length;++F)R.push(V.charCodeAt(F)&255);return R}function ae(V,R){let F,ne,fe;const be=[];for(let Se=0;Se<V.length&&!((R-=2)<0);++Se)F=V.charCodeAt(Se),ne=F>>8,fe=F%256,be.push(fe),be.push(ne);return be}function Ee(V){return e.toByteArray(_e(V))}function he(V,R,F,ne){let fe;for(fe=0;fe<ne&&!(fe+F>=R.length||fe>=V.length);++fe)R[fe+F]=V[fe];return fe}function ve(V,R){return V instanceof R||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===R.name}function Oe(V){return V!==V}const lt=(function(){const V="0123456789abcdef",R=new Array(256);for(let F=0;F<16;++F){const ne=F*16;for(let fe=0;fe<16;++fe)R[ne+fe]=V[F]+V[fe]}return R})();function He(V){return typeof BigInt>"u"?Et:V}function Et(){throw new Error("BigInt not supported")}})(vA);const Sa=vA.Buffer;class Dw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function br(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class s7 extends Dw{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class db extends Dw{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Mw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hc(async()=>{const{default:n}=await Promise.resolve().then(()=>ol);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},o7=()=>ct(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hc(()=>Promise.resolve().then(()=>ol),void 0)).Response:Response}),fb=t=>{if(Array.isArray(t))return t.map(r=>fb(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=fb(n)}),e},a7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l7=(t,e,r)=>ct(void 0,void 0,void 0,function*(){const n=yield o7();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new s7(cv(i),s,a))}).catch(i=>{e(new db(cv(i),i))}):e(new db(cv(t),t))}),c7=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(a7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Dd(t,e,r,n,i,s){return ct(this,void 0,void 0,function*(){return new Promise((a,u)=>{t(r,c7(e,n,i,s)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>a(d)).catch(d=>l7(d,u,n))})})}function od(t,e,r,n){return ct(this,void 0,void 0,function*(){return Dd(t,"GET",e,r,n)})}function Oi(t,e,r,n,i){return ct(this,void 0,void 0,function*(){return Dd(t,"POST",e,n,i,r)})}function hb(t,e,r,n,i){return ct(this,void 0,void 0,function*(){return Dd(t,"PUT",e,n,i,r)})}function u7(t,e,r,n){return ct(this,void 0,void 0,function*(){return Dd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Lw(t,e,r,n,i){return ct(this,void 0,void 0,function*(){return Dd(t,"DELETE",e,n,i,r)})}class d7{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ct(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(br(e))return{data:null,error:e};throw e}})}}var bA;class f7{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[bA]="BlobDownloadBuilder",this.promise=null}asStream(){return new d7(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ct(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(br(e))return{data:null,error:e};throw e}})}}bA=Symbol.toStringTag;const h7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p7{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Mw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return ct(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},NS),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const d=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),p=yield(e=="PUT"?hb:Oi)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:u},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(br(s))return{data:null,error:s};throw s}})}upload(e,r,n){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return ct(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${a}`);u.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:NS.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield hb(this.fetch,u.toString(),d,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(br(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return ct(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Oi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),u=a.searchParams.get("token");if(!u)throw new Dw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}update(e,r,n){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ct(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}})}copy(e,r,n){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield Oi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return ct(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Oi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return ct(this,void 0,void 0,function*(){try{const i=yield Oi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",u=this._getFinalPath(e),d=()=>od(this.fetch,`${this.url}/${i}/${u}${a}`,{headers:this.headers,noResolveJson:!0});return new f7(d,this.shouldThrowOnError)}info(e){return ct(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield od(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fb(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}exists(e){return ct(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield u7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n)&&n instanceof db){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Lw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}list(e,r,n){return ct(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},h7),r),{prefix:e||""});return{data:yield Oi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}})}listV2(e,r){return ct(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Oi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Sa<"u"?Sa.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const wA="2.77.0",xA={"X-Client-Info":`storage-js/${wA}`};class m7{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xA),r),this.fetch=Mw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ct(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield od(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}getBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}createBucket(e){return ct(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return ct(this,void 0,void 0,function*(){try{return{data:yield hb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Lw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class g7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xA),r),this.fetch=Mw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}listBuckets(e){return ct(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield od(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Lw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}}const Fw={"X-Client-Info":`storage-js/${wA}`,"Content-Type":"application/json"};class _A extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Gn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class uv extends _A{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class v7 extends _A{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var OS;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(OS||(OS={}));const $w=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hc(async()=>{const{default:n}=await Promise.resolve().then(()=>ol);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},y7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),b7=(t,e,r)=>ct(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const u=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new uv(AS(a),i,u))}).catch(()=>{const a=i+"",u=s.statusText||`HTTP ${i} error`;e(new uv(u,i,a))});else{const a=i+"",u=s.statusText||`HTTP ${i} error`;e(new uv(u,i,a))}}else e(new v7(AS(t),t))}),w7=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(y7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function x7(t,e,r,n,i,s){return ct(this,void 0,void 0,function*(){return new Promise((a,u)=>{t(r,w7(e,n,i,s)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>a(d)).catch(d=>b7(d,u,n))})})}function Qn(t,e,r,n,i){return ct(this,void 0,void 0,function*(){return x7(t,"POST",e,n,i,r)})}class _7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fw),r),this.fetch=$w(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ct(this,void 0,void 0,function*(){try{return{data:(yield Qn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ct(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}listIndexes(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ct(this,void 0,void 0,function*(){try{return{data:(yield Qn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}}class E7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fw),r),this.fetch=$w(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ct(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}getVectors(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}listVectors(e){return ct(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Qn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}queryVectors(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ct(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}}class S7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fw),r),this.fetch=$w(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:(yield Qn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}getBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}listBuckets(){return ct(this,arguments,void 0,function*(e={}){try{return{data:yield Qn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ct(this,void 0,void 0,function*(){try{return{data:(yield Qn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}}class j7 extends S7{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new C7(this.url,this.headers,e,this.fetch)}}class C7 extends _7{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ct(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ct(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ct(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ct(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new k7(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class k7 extends E7{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ct(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ct(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ct(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ct(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ct(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class N7 extends m7{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new p7(this.url,this.headers,e,this.fetch)}get vectors(){return new j7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g7(this.url+"/iceberg",this.headers,this.fetch)}}const O7="2.77.0";let Bu="";typeof Deno<"u"?Bu="deno":typeof document<"u"?Bu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bu="react-native":Bu="node";const A7={"X-Client-Info":`supabase-js-${Bu}/${O7}`},T7={headers:A7},R7={schema:"public"},P7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I7={},D7=t=>{let e;return t?e=t:typeof fetch>"u"?e=oA:e=fetch,(...r)=>e(...r)},M7=()=>typeof Headers>"u"?aA:Headers,L7=(t,e,r)=>{const n=D7(r),i=M7();return async(s,a)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new i(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(s,Object.assign(Object.assign({},a),{headers:h}))}};function F7(t){return t.endsWith("/")?t:t+"/"}function $7(t,e){var r,n;const{db:i,auth:s,realtime:a,global:u}=t,{db:d,auth:h,realtime:f,global:p}=e,m={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function q7(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const EA="2.77.0",Gl=30*1e3,pb=3,dv=pb*Gl,B7="http://localhost:9999",U7="supabase.auth.token",V7={"X-Client-Info":`gotrue-js/${EA}`},mb="X-Supabase-Api-Version",SA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H7=600*1e3;class ad extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function vt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class W7 extends ad{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function K7(t){return vt(t)&&t.name==="AuthApiError"}class ja extends ad{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ta extends ad{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class wo extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G7(t){return vt(t)&&t.name==="AuthSessionMissingError"}class ql extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gh extends ta{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vh extends ta{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q7(t){return vt(t)&&t.name==="AuthImplicitGrantRedirectError"}class TS extends ta{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gb extends ta{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fv(t){return vt(t)&&t.name==="AuthRetryableFetchError"}class RS extends ta{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vb extends ta{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),PS=` 	
\r=`.split(""),Y7=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<PS.length;e+=1)t[PS[e].charCodeAt(0)]=-2;for(let e=0;e<qh.length;e+=1)t[qh[e].charCodeAt(0)]=e;return t})();function IS(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(qh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(qh[n]),e.queuedBits-=6}}function jA(t,e,r){const n=Y7[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function DS(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{X7(a,n,r)};for(let a=0;a<t.length;a+=1)jA(t.charCodeAt(a),i,s);return e.join("")}function Z7(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function J7(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Z7(n,e)}}function X7(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function cc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)jA(t.charCodeAt(i),r,n);return new Uint8Array(e)}function e$(t){const e=[];return J7(t,r=>e.push(r)),new Uint8Array(e)}function Na(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>IS(i,r,n)),IS(null,r,n),e.join("")}function t$(t){return Math.round(Date.now()/1e3)+t}function r$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Bn=()=>typeof window<"u"&&typeof document<"u",ya={tested:!1,writable:!1},CA=()=>{if(!Bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ya.tested)return ya.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ya.tested=!0,ya.writable=!0}catch{ya.tested=!0,ya.writable=!1}return ya.writable};function n$(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const kA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hc(async()=>{const{default:n}=await Promise.resolve().then(()=>ol);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},i$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ql=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ba=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mo=async(t,e)=>{await t.removeItem(e)};let NA=class OA{constructor(){this.promise=new OA.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};NA.promiseConstructor=Promise;function hv(t){const e=t.split(".");if(e.length!==3)throw new vb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!z7.test(e[n]))throw new vb("JWT not in base64url format");return{header:JSON.parse(DS(e[0])),payload:JSON.parse(DS(e[1])),signature:cc(e[2]),raw:{header:e[0],payload:e[1]}}}async function s$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function o$(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function a$(t){return("0"+t.toString(16)).substr(-2)}function l$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,a$).join("")}async function c$(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function u$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await c$(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bl(t,e,r=!1){const n=l$();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ql(t,`${e}-code-verifier`,i);const s=await u$(n);return[s,n===s?"plain":"s256"]}const d$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f$(t){const e=t.headers.get(mb);if(!e||!e.match(d$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function h$(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function p$(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const m$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ul(t){if(!m$.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MS(t){return JSON.parse(JSON.stringify(t))}const wa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g$=[502,503,504];async function LS(t){var e;if(!i$(t))throw new gb(wa(t),0);if(g$.includes(t.status))throw new gb(wa(t),t.status);let r;try{r=await t.json()}catch(s){throw new ja(wa(s),s)}let n;const i=f$(t);if(i&&i.getTime()>=SA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new RS(wa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new RS(wa(r),t.status,r.weak_password.reasons);throw new W7(wa(r),t.status||500,n)}const v$=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function St(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[mb]||(s[mb]=SA["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await y$(t,e,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function y$(t,e,r,n,i,s){const a=v$(e,n,i,s);let u;try{u=await t(r,Object.assign({},a))}catch(d){throw console.error(d),new gb(wa(d),0)}if(u.ok||await LS(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await LS(d)}}function ki(t){var e;let r=null;x$(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=t$(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function FS(t){const e=ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _o(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function b$(t){return{data:t,error:null}}function w$(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=ea(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},d=Object.assign({},a);return{data:{properties:u,user:d},error:null}}function $S(t){return t}function x$(t){return t.access_token&&t.refresh_token&&t.expires_in}const mv=["global","local","others"];class _${constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=kA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=mv[0]){if(mv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mv.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_o})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ea(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:w$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(vt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_o})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,u,d;try{const h={nextPage:null,lastPage:0,total:0},f=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:$S});if(f.error)throw f.error;const p=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(d=(u=f.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);h[`${b}Page`]=y}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(vt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Ul(e);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_o})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ul(e);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:_o})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ul(e);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:_o})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ul(e.userId);try{const{data:r,error:n}=await St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ul(e.userId),Ul(e.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,u,d;try{const h={nextPage:null,lastPage:0,total:0},f=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:$S});if(f.error)throw f.error;const p=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(d=(u=f.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);h[`${b}Page`]=y}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(vt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}}function qS(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Vl={debug:!!(globalThis&&CA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AA extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class E$ extends AA{}async function S$(t,e,r){Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new E$(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function j$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TA(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function C$(t){return parseInt(t,16)}function k$(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function N$(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:u,requestId:d,resources:h,scheme:f,uri:p,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=TA(t.address),_=f?`${f}://${n}`:n,y=t.statement?`${t.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${g}

${y}`;let E=`URI: ${p}
Version: ${m}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),d&&(E+=`
Request ID: ${d}`),h){let x=`
Resources:`;for(const j of h){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);x+=`
- ${j}`}E+=x}return`${b}
${E}`}class Ar extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Bh extends Ar{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function O$({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ar({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(RA(a)){if(s.rp.id!==a)return new Ar({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function A$({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ar({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(RA(n)){if(r.rpId!==n)return new Ar({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class T${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const R$=new T$;function P$(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=ea(t,["challenge","user","excludeCredentials"]),s=cc(e).buffer,a=Object.assign(Object.assign({},r),{id:cc(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:cc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function I$(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ea(t,["challenge","allowCredentials"]),i=cc(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const u=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},u),{id:cc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function D$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Na(new Uint8Array(t.response.attestationObject)),clientDataJSON:Na(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function M$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Na(new Uint8Array(i.authenticatorData)),clientDataJSON:Na(new Uint8Array(i.clientDataJSON)),signature:Na(new Uint8Array(i.signature)),userHandle:i.userHandle?Na(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function RA(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function BS(){var t,e;return!!(Bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function L$(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",e)}:{data:null,error:new Bh("Empty credential response",e)}}catch(e){return{data:null,error:O$({error:e,options:t})}}}async function F$(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",e)}:{data:null,error:new Bh("Empty credential response",e)}}catch(e){return{data:null,error:A$({error:e,options:t})}}}const $$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},q$={userVerification:"preferred",hints:["security-key"]};function Uh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const u=n[s];e(u)?n[s]=Uh(u,a):n[s]=Uh(a)}else n[s]=a}return n}function B$(t,e){return Uh($$,t,e||{})}function U$(t,e){return Uh(q$,t,e||{})}class V${constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:u};const d=i??R$.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=B$(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await L$({publicKey:h,signal:d});return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=U$(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await F$(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return vt(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new ad("rpId is required for WebAuthn authentication")};try{if(!BS())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:u};const{webauthn:d}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(a){return vt(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new ad("rpId is required for WebAuthn registration")};try{if(!BS())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return d?this._verify({factorId:a.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(a){return vt(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in register",a)}}}}j$();const z$={url:B7,storageKey:U7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function US(t,e,r){return await r()}const zl={};class ld{get jwks(){var e,r;return(r=(e=zl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){zl[this.storageKey]=Object.assign(Object.assign({},zl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=zl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zl[this.storageKey]=Object.assign(Object.assign({},zl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ld.nextInstanceID,ld.nextInstanceID+=1,this.instanceID>0&&Bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},z$),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _$({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kA(i.fetch),this.lock=i.lock||US,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Bn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=S$:this.lock=US,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new V$(this)},this.persistSession?(i.storage?this.storage=i.storage:CA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qS(this.memoryStorage)),Bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${EA}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=n$(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Q7(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return vt(r)?{error:r}:{error:new ja("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ki}),{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};const d=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:p,options:m}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Bl(this.storage,this.storageKey)),s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:_},xform:ki})}else if("phone"in e){const{phone:f,password:p,options:m}=e;s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ki})}else throw new gh("You must provide either an email or phone number and a password");const{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};const d=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:u}=e;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:FS})}else if("phone"in e){const{phone:s,password:a,options:u}=e;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:FS})}else throw new gh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ql}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,u,d,h,f,p,m;let g,_;if("message"in e)g=e.message,_=e.signature;else{const{chain:y,wallet:b,statement:E,options:x}=e;let j;if(Bn())if(typeof b=="object")j=b;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")j=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const w=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),C=await j.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=TA(C[0]);let A=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const q=await j.request({method:"eth_chainId"});A=C$(q)}const P={domain:w.host,address:O,statement:E,uri:w.href,version:"1",chainId:A,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=x==null?void 0:x.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=N$(P),_=await j.request({method:"personal_sign",params:[k$(g),O]})}try{const{data:y,error:b}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ki});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ql}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(vt(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,i,s,a,u,d,h,f,p,m,g;let _,y;if("message"in e)_=e.message,y=e.signature;else{const{chain:b,wallet:E,statement:x,options:j}=e;let w;if(Bn())if(typeof E=="object")w=E;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))w=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=E}const C=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const O=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),x?{statement:x}:null));let A;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")A=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)A=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)_=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${C.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=j==null?void 0:j.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=j==null?void 0:j.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(f=j==null?void 0:j.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const O=await w.signMessage(new TextEncoder().encode(_),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=O}}try{const{data:b,error:E}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Na(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ki});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ql}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(vt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await ba(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ki});if(await mo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ql}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(vt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,u=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ki}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ql}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:u,options:d}=e;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Bl(this.storage,this.storageKey));const{error:p}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:f}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new gh("You must provide either an email or phone number.")}catch(u){if(vt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:u}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ki});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,h=a.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(vt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Bl(this.storage,this.storageKey)),await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:b$})}catch(s){if(vt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wo;const{error:i}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(vt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await St(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:u}=await St(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:u}}throw new gh("You must provide either an email or phone number and a type")}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<dv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await ba(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=pv()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,f)=>(!a&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,f))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_o}):await this._useSession(async r=>{var n,i,s;const{data:a,error:u}=r;if(u)throw u;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wo}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:_o})})}catch(r){if(vt(r))return G7(r)&&(await this._removeSession(),await mo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new wo;const a=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Bl(this.storage,this.storageKey));const{data:h,error:f}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:a.access_token,xform:_o});if(f)throw f;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wo;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=hv(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(vt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:u}=r;if(u)throw u;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new wo;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Bn())throw new vh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new TS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new TS("No code detected.");const{data:x,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:u,expires_at:d,token_type:h}=e;if(!s||!u||!a||!h)throw new vh("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(u);let m=f+p;d&&(m=parseInt(d));const g=m-f;g*1e3<=Gl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const _=m-p;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,f);const{data:y,error:b}=await this._getUser(s);if(b)throw b;const E={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:m,refresh_token:a,token_type:h,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(vt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:u}=await this.admin.signOut(a,e);if(u&&!(K7(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await mo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=r$(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Bl(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(vt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,u,d,h,f;const{data:p,error:m}=s;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Bn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(vt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:u,token:d,access_token:h,nonce:f}=e,p=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki}),{data:m,error:g}=p;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ql}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:g})}catch(i){if(vt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await o$(async i=>(i>0&&await s$(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ki})),(i,s)=>{const a=200*Math.pow(2,i);return s&&fv(s)&&Date.now()+a-n<Gl})}catch(n){if(this._debug(r,"error",n),vt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Bn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ba(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ql(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:pv()}else if(i&&!i.user&&!i.user){const a=await ba(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await mo(this.storage,this.storageKey+"-user"),await Ql(this.storage,this.storageKey,i)):i.user=pv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${dv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),fv(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:u}=await this._getUser(i.access_token);!u&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new NA;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new wo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),vt(s)){const a={data:null,error:s};return fv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(a),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ql(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=MS(i);await Ql(this.storage,this.storageKey,s)}else{const i=MS(r);await Ql(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await mo(this.storage,this.storageKey),await mo(this.storage,this.storageKey+"-code-verifier"),await mo(this.storage,this.storageKey+"-user"),this.userStorage&&await mo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Gl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Gl}ms, refresh threshold is ${pb} ticks`),i<=pb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof AA)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Bl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await St(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?D$(e.webauthn.credential_response):M$(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:P$(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:I$(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=hv(i.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+H7>i)return n;const{data:s,error:a}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:_}=await this.getSession();if(_||!g.session)return{data:null,error:_};n=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:u,payload:d}}=hv(n);r!=null&&r.allowExpired||h$(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const f=p$(i.alg),p=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,e$(`${u}.${d}`)))throw new vb("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}}ld.nextInstanceID=0;const H$=ld;class W$ extends H${constructor(e){super(e)}}class K${constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const u=q7(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:R7,realtime:I7,auth:Object.assign(Object.assign({},P7),{storageKey:d}),global:T7},f=$7(n??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=L7(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new P9(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new N7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new S9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:u,lock:d,debug:h},f,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W$({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:u,lock:d,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Y9(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const G$=(t,e,r)=>new K$(t,e,r);function Q$(){if(typeof window<"u"||typeof sd>"u")return!1;const t=sd.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Q$()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y$="https://syuulozqwzveujlgppml.supabase.co",Z$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5dXVsb3pxd3p2ZXVqbGdwcG1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyNDcwOTIsImV4cCI6MjA3NjgyMzA5Mn0.TH9w7Ai-Pt0wjd845Gbq5Vgaw1eAxYr8u0LjoKe9BBA",Xe=G$(Y$,Z$),PA=N.createContext(void 0),J$=({children:t})=>{const[e,r]=N.useState(null),[n,i]=N.useState(null),[s,a]=N.useState(!0),u=Mt();N.useEffect(()=>{(async()=>{var g,_;a(!0);const{data:{session:m}}=await Xe.auth.getSession();if(r(m),m){const{data:y,error:b}=await Xe.from("profiles").select("*").eq("id",m.user.id).single();if(b&&b.code!=="PGRST116")console.error("Error fetching profile:",b),i(null),ke.error("Error fetching user profile.",{description:b.message});else if(y)i(y);else{const{data:E,error:x}=await Xe.from("profiles").insert({id:m.user.id,first_name:((g=m.user.user_metadata)==null?void 0:g.first_name)||"New",last_name:((_=m.user.user_metadata)==null?void 0:_.last_name)||"User",role:"Requester",email:m.user.email}).select().single();x?(console.error("Error creating default profile:",x),i(null),ke.error("Error creating default user profile.",{description:x.message})):(i(E),ke.success("Default profile created for new user."))}}else i(null);a(!1)})();const{data:p}=Xe.auth.onAuthStateChange((m,g)=>{r(g),g?(u.invalidateQueries({queryKey:["session"]}),u.invalidateQueries({queryKey:["allProfiles"]}),u.invalidateQueries({queryKey:["accountManagers"]})):i(null)});return()=>{p.subscription.unsubscribe()}},[u]);const d=async()=>{console.log("Simulating login. In a real app, you'd go to a login page.")},h=async()=>{const{error:f}=await Xe.auth.signOut();f?(console.error("Error logging out:",f),ke.error("Failed to log out.",{description:f.message})):(r(null),i(null),u.invalidateQueries(),ke.info("You have been logged out."))};return c.jsx(PA.Provider,{value:{session:e,profile:n,loading:s,login:d,logout:h},children:t})},ti=()=>{const t=N.useContext(PA);if(t===void 0)throw new Error("useSession must be used within a SessionContextProvider");return t},X$=[{title:"Panel de Control",href:"/dashboard",icon:c.jsx(Kk,{className:"mr-2 h-4 w-4"}),roles:["Requester","Account Manager","Admin"]},{title:"Nueva Solicitud",href:"/new-request",icon:c.jsx(iw,{className:"mr-2 h-4 w-4"}),roles:["Requester","Account Manager","Admin"]},{title:"Proveedores",href:"/vendors",icon:c.jsx(Qk,{className:"mr-2 h-4 w-4"}),roles:["Account Manager","Admin"]},{title:"Inventario",href:"/inventory",icon:c.jsx(xD,{className:"mr-2 h-4 w-4"}),roles:["Account Manager","Admin"]},{title:"Gastos",href:"/expenditures",icon:c.jsx(ap,{className:"mr-2 h-4 w-4"}),roles:["Account Manager","Admin"]},{title:"Admin",href:"/admin",icon:c.jsx(Wk,{className:"mr-2 h-4 w-4"}),roles:["Admin"]},{title:"Perfil",href:"/profile",icon:c.jsx(Gk,{className:"mr-2 h-4 w-4"}),roles:["Requester","Account Manager","Admin"]}];function VS({className:t,onLinkClick:e,...r}){const{profile:n}=ti(),i=n==null?void 0:n.role;if(!i)return c.jsx("div",{className:"flex items-center px-3 py-2 text-sm text-muted-foreground",children:"No hay elementos de navegación disponibles."});const s=X$.filter(a=>a.roles.includes(i));return c.jsx("nav",{className:Be("flex flex-col space-y-1",t),...r,children:s.length>0?s.map(a=>c.jsxs(rF,{to:a.href,className:({isActive:u})=>Be("flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",u?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground"),onClick:e,children:[a.icon,a.title]},a.href)):c.jsx("div",{className:"flex items-center px-3 py-2 text-sm text-muted-foreground",children:"No hay elementos de navegación disponibles para tu rol."})})}const gv=768;function IA(){const[t,e]=N.useState(void 0);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${gv-1}px)`),n=()=>{e(window.innerWidth<gv)};return r.addEventListener("change",n),e(window.innerWidth<gv),()=>r.removeEventListener("change",n)},[]),!!t}var vv={exports:{}},yv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function eq(){if(zS)return yv;zS=1;var t=jd();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function u(p,m){var g=m(),_=n({inst:{value:g,getSnapshot:m}}),y=_[0].inst,b=_[1];return s(function(){y.value=g,y.getSnapshot=m,d(y)&&b({inst:y})},[p,g,m]),i(function(){return d(y)&&b({inst:y}),p(function(){d(y)&&b({inst:y})})},[p]),a(g),g}function d(p){var m=p.getSnapshot;p=p.value;try{var g=m();return!r(p,g)}catch{return!0}}function h(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return yv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,yv}var HS;function tq(){return HS||(HS=1,vv.exports=eq()),vv.exports}var rq=tq();function nq(){return rq.useSyncExternalStore(iq,()=>!0,()=>!1)}function iq(){return()=>{}}var qw="Avatar",[sq]=Xn(qw),[oq,DA]=sq(qw),MA=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=N.useState("idle");return c.jsx(oq,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:c.jsx(it.span,{...n,ref:e})})});MA.displayName=qw;var LA="AvatarImage",FA=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=DA(LA,r),u=aq(n,s),d=gn(h=>{i(h),a.onImageLoadingStatusChange(h)});return Dr(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?c.jsx(it.img,{...s,ref:e,src:n}):null});FA.displayName=LA;var $A="AvatarFallback",qA=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=DA($A,r),[a,u]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(d)}},[n]),a&&s.imageLoadingStatus!=="loaded"?c.jsx(it.span,{...i,ref:e}):null});qA.displayName=$A;function WS(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function aq(t,{referrerPolicy:e,crossOrigin:r}){const n=nq(),i=N.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,u]=N.useState(()=>WS(s,t));return Dr(()=>{u(WS(s,t))},[s,t]),Dr(()=>{const d=p=>()=>{u(p)};if(!s)return;const h=d("loaded"),f=d("error");return s.addEventListener("load",h),s.addEventListener("error",f),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",h),s.removeEventListener("error",f)}},[s,r,e]),a}var BA=MA,UA=FA,VA=qA;const zA=N.forwardRef(({className:t,...e},r)=>c.jsx(BA,{ref:r,className:Be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zA.displayName=BA.displayName;const lq=N.forwardRef(({className:t,...e},r)=>c.jsx(UA,{ref:r,className:Be("aspect-square h-full w-full",t),...e}));lq.displayName=UA.displayName;const HA=N.forwardRef(({className:t,...e},r)=>c.jsx(VA,{ref:r,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));HA.displayName=VA.displayName;var cq=N.createContext(void 0);function kp(t){const e=N.useContext(cq);return t||e||"ltr"}var bv="rovingFocusGroup.onEntryFocus",uq={bubbles:!1,cancelable:!0},Md="RovingFocusGroup",[yb,WA,dq]=ip(Md),[fq,Np]=Xn(Md,[dq]),[hq,pq]=fq(Md),KA=N.forwardRef((t,e)=>c.jsx(yb.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(yb.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(mq,{...t,ref:e})})}));KA.displayName=Md;var mq=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...p}=t,m=N.useRef(null),g=$t(e,m),_=kp(s),[y,b]=Ps({prop:a,defaultProp:u??null,onChange:d,caller:Md}),[E,x]=N.useState(!1),j=gn(h),w=WA(r),C=N.useRef(!1),[O,A]=N.useState(0);return N.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(bv,j),()=>P.removeEventListener(bv,j)},[j]),c.jsx(hq,{scope:r,orientation:n,dir:_,loop:i,currentTabStopId:y,onItemFocus:N.useCallback(P=>b(P),[b]),onItemShiftTab:N.useCallback(()=>x(!0),[]),onFocusableItemAdd:N.useCallback(()=>A(P=>P+1),[]),onFocusableItemRemove:N.useCallback(()=>A(P=>P-1),[]),children:c.jsx(it.div,{tabIndex:E||O===0?-1:0,"data-orientation":n,...p,ref:g,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{C.current=!0}),onFocus:Le(t.onFocus,P=>{const q=!C.current;if(P.target===P.currentTarget&&q&&!E){const T=new CustomEvent(bv,uq);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const D=w().filter(X=>X.focusable),L=D.find(X=>X.active),B=D.find(X=>X.id===y),Y=[L,B,...D].filter(Boolean).map(X=>X.ref.current);YA(Y,f)}}C.current=!1}),onBlur:Le(t.onBlur,()=>x(!1))})})}),GA="RovingFocusGroupItem",QA=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...u}=t,d=Zr(),h=s||d,f=pq(GA,r),p=f.currentTabStopId===h,m=WA(r),{onFocusableItemAdd:g,onFocusableItemRemove:_,currentTabStopId:y}=f;return N.useEffect(()=>{if(n)return g(),()=>_()},[n,g,_]),c.jsx(yb.ItemSlot,{scope:r,id:h,focusable:n,active:i,children:c.jsx(it.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...u,ref:e,onMouseDown:Le(t.onMouseDown,b=>{n?f.onItemFocus(h):b.preventDefault()}),onFocus:Le(t.onFocus,()=>f.onItemFocus(h)),onKeyDown:Le(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const E=yq(b,f.orientation,f.dir);if(E!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let j=m().filter(w=>w.focusable).map(w=>w.ref.current);if(E==="last")j.reverse();else if(E==="prev"||E==="next"){E==="prev"&&j.reverse();const w=j.indexOf(b.currentTarget);j=f.loop?bq(j,w+1):j.slice(w+1)}setTimeout(()=>YA(j))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});QA.displayName=GA;var gq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yq(t,e,r){const n=vq(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gq[n]}function YA(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function bq(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var ZA=KA,JA=QA,bb=["Enter"," "],wq=["ArrowDown","PageUp","Home"],XA=["ArrowUp","PageDown","End"],xq=[...wq,...XA],_q={ltr:[...bb,"ArrowRight"],rtl:[...bb,"ArrowLeft"]},Eq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ld="Menu",[cd,Sq,jq]=ip(Ld),[al,eT]=Xn(Ld,[jq,Jo,Np]),Op=Jo(),tT=Np(),[Cq,ll]=al(Ld),[kq,Fd]=al(Ld),rT=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,u=Op(e),[d,h]=N.useState(null),f=N.useRef(!1),p=gn(s),m=kp(i);return N.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),c.jsx(mw,{...u,children:c.jsx(Cq,{scope:e,open:r,onOpenChange:p,content:d,onContentChange:h,children:c.jsx(kq,{scope:e,onClose:N.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:m,modal:a,children:n})})})};rT.displayName=Ld;var Nq="MenuAnchor",Bw=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Op(r);return c.jsx(Ad,{...i,...n,ref:e})});Bw.displayName=Nq;var Uw="MenuPortal",[Oq,nT]=al(Uw,{forceMount:void 0}),iT=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=ll(Uw,e);return c.jsx(Oq,{scope:e,forceMount:r,children:c.jsx(In,{present:r||s.open,children:c.jsx($c,{asChild:!0,container:i,children:n})})})};iT.displayName=Uw;var mi="MenuContent",[Aq,Vw]=al(mi),sT=N.forwardRef((t,e)=>{const r=nT(mi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=ll(mi,t.__scopeMenu),a=Fd(mi,t.__scopeMenu);return c.jsx(cd.Provider,{scope:t.__scopeMenu,children:c.jsx(In,{present:n||s.open,children:c.jsx(cd.Slot,{scope:t.__scopeMenu,children:a.modal?c.jsx(Tq,{...i,ref:e}):c.jsx(Rq,{...i,ref:e})})})})}),Tq=N.forwardRef((t,e)=>{const r=ll(mi,t.__scopeMenu),n=N.useRef(null),i=$t(e,n);return N.useEffect(()=>{const s=n.current;if(s)return _p(s)},[]),c.jsx(zw,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Le(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Rq=N.forwardRef((t,e)=>{const r=ll(mi,t.__scopeMenu);return c.jsx(zw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Pq=zo("MenuContent.ScrollLock"),zw=N.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:_,...y}=t,b=ll(mi,r),E=Fd(mi,r),x=Op(r),j=tT(r),w=Sq(r),[C,O]=N.useState(null),A=N.useRef(null),P=$t(e,A,b.onContentChange),q=N.useRef(0),T=N.useRef(""),D=N.useRef(0),L=N.useRef(null),B=N.useRef("right"),U=N.useRef(0),Y=_?Rd:N.Fragment,X=_?{as:Pq,allowPinchZoom:!0}:void 0,ie=K=>{var Z,le;const Q=T.current+K,M=w().filter(ce=>!ce.disabled),$=document.activeElement,G=(Z=M.find(ce=>ce.ref.current===$))==null?void 0:Z.textValue,te=M.map(ce=>ce.textValue),ee=Hq(te,Q,G),W=(le=M.find(ce=>ce.textValue===ee))==null?void 0:le.ref.current;(function ce(me){T.current=me,window.clearTimeout(q.current),me!==""&&(q.current=window.setTimeout(()=>ce(""),1e3))})(Q),W&&setTimeout(()=>W.focus())};N.useEffect(()=>()=>window.clearTimeout(q.current),[]),bp();const re=N.useCallback(K=>{var M,$;return B.current===((M=L.current)==null?void 0:M.side)&&Kq(K,($=L.current)==null?void 0:$.area)},[]);return c.jsx(Aq,{scope:r,searchRef:T,onItemEnter:N.useCallback(K=>{re(K)&&K.preventDefault()},[re]),onItemLeave:N.useCallback(K=>{var Q;re(K)||((Q=A.current)==null||Q.focus(),O(null))},[re]),onTriggerLeave:N.useCallback(K=>{re(K)&&K.preventDefault()},[re]),pointerGraceTimerRef:D,onPointerGraceIntentChange:N.useCallback(K=>{L.current=K},[]),children:c.jsx(Y,{...X,children:c.jsx(Td,{asChild:!0,trapped:i,onMountAutoFocus:Le(s,K=>{var Q;K.preventDefault(),(Q=A.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(nl,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:c.jsx(ZA,{asChild:!0,...j,dir:E.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:O,onEntryFocus:Le(d,K=>{E.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(fp,{role:"menu","aria-orientation":"vertical","data-state":xT(b.open),"data-radix-menu-content":"",dir:E.dir,...x,...y,ref:P,style:{outline:"none",...y.style},onKeyDown:Le(y.onKeyDown,K=>{const M=K.target.closest("[data-radix-menu-content]")===K.currentTarget,$=K.ctrlKey||K.altKey||K.metaKey,G=K.key.length===1;M&&(K.key==="Tab"&&K.preventDefault(),!$&&G&&ie(K.key));const te=A.current;if(K.target!==te||!xq.includes(K.key))return;K.preventDefault();const W=w().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);XA.includes(K.key)&&W.reverse(),Vq(W)}),onBlur:Le(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(q.current),T.current="")}),onPointerMove:Le(t.onPointerMove,ud(K=>{const Q=K.target,M=U.current!==K.clientX;if(K.currentTarget.contains(Q)&&M){const $=K.clientX>U.current?"right":"left";B.current=$,U.current=K.clientX}}))})})})})})})});sT.displayName=mi;var Iq="MenuGroup",Hw=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(it.div,{role:"group",...n,ref:e})});Hw.displayName=Iq;var Dq="MenuLabel",oT=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(it.div,{...n,ref:e})});oT.displayName=Dq;var Vh="MenuItem",KS="menu.itemSelect",Ap=N.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=N.useRef(null),a=Fd(Vh,t.__scopeMenu),u=Vw(Vh,t.__scopeMenu),d=$t(e,s),h=N.useRef(!1),f=()=>{const p=s.current;if(!r&&p){const m=new CustomEvent(KS,{bubbles:!0,cancelable:!0});p.addEventListener(KS,g=>n==null?void 0:n(g),{once:!0}),Xb(p,m),m.defaultPrevented?h.current=!1:a.onClose()}};return c.jsx(aT,{...i,ref:d,disabled:r,onClick:Le(t.onClick,f),onPointerDown:p=>{var m;(m=t.onPointerDown)==null||m.call(t,p),h.current=!0},onPointerUp:Le(t.onPointerUp,p=>{var m;h.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:Le(t.onKeyDown,p=>{const m=u.searchRef.current!=="";r||m&&p.key===" "||bb.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Ap.displayName=Vh;var aT=N.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=Vw(Vh,r),u=tT(r),d=N.useRef(null),h=$t(e,d),[f,p]=N.useState(!1),[m,g]=N.useState("");return N.useEffect(()=>{const _=d.current;_&&g((_.textContent??"").trim())},[s.children]),c.jsx(cd.ItemSlot,{scope:r,disabled:n,textValue:i??m,children:c.jsx(JA,{asChild:!0,...u,focusable:!n,children:c.jsx(it.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:h,onPointerMove:Le(t.onPointerMove,ud(_=>{n?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(t.onPointerLeave,ud(_=>a.onItemLeave(_))),onFocus:Le(t.onFocus,()=>p(!0)),onBlur:Le(t.onBlur,()=>p(!1))})})})}),Mq="MenuCheckboxItem",lT=N.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return c.jsx(hT,{scope:t.__scopeMenu,checked:r,children:c.jsx(Ap,{role:"menuitemcheckbox","aria-checked":zh(r)?"mixed":r,...i,ref:e,"data-state":Kw(r),onSelect:Le(i.onSelect,()=>n==null?void 0:n(zh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});lT.displayName=Mq;var cT="MenuRadioGroup",[Lq,Fq]=al(cT,{value:void 0,onValueChange:()=>{}}),uT=N.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=gn(n);return c.jsx(Lq,{scope:t.__scopeMenu,value:r,onValueChange:s,children:c.jsx(Hw,{...i,ref:e})})});uT.displayName=cT;var dT="MenuRadioItem",fT=N.forwardRef((t,e)=>{const{value:r,...n}=t,i=Fq(dT,t.__scopeMenu),s=r===i.value;return c.jsx(hT,{scope:t.__scopeMenu,checked:s,children:c.jsx(Ap,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":Kw(s),onSelect:Le(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});fT.displayName=dT;var Ww="MenuItemIndicator",[hT,$q]=al(Ww,{checked:!1}),pT=N.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=$q(Ww,r);return c.jsx(In,{present:n||zh(s.checked)||s.checked===!0,children:c.jsx(it.span,{...i,ref:e,"data-state":Kw(s.checked)})})});pT.displayName=Ww;var qq="MenuSeparator",mT=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});mT.displayName=qq;var Bq="MenuArrow",gT=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Op(r);return c.jsx(hp,{...i,...n,ref:e})});gT.displayName=Bq;var Uq="MenuSub",[EX,vT]=al(Uq),Uu="MenuSubTrigger",yT=N.forwardRef((t,e)=>{const r=ll(Uu,t.__scopeMenu),n=Fd(Uu,t.__scopeMenu),i=vT(Uu,t.__scopeMenu),s=Vw(Uu,t.__scopeMenu),a=N.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,h={__scopeMenu:t.__scopeMenu},f=N.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return N.useEffect(()=>f,[f]),N.useEffect(()=>{const p=u.current;return()=>{window.clearTimeout(p),d(null)}},[u,d]),c.jsx(Bw,{asChild:!0,...h,children:c.jsx(aT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":xT(r.open),...t,ref:Rs(e,i.onTriggerChange),onClick:p=>{var m;(m=t.onClick)==null||m.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Le(t.onPointerMove,ud(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Le(t.onPointerLeave,ud(p=>{var g,_;f();const m=(g=r.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(_=r.content)==null?void 0:_.dataset.side,b=y==="right",E=b?-5:5,x=m[b?"left":"right"],j=m[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+E,y:p.clientY},{x,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x,y:m.bottom}],side:y}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Le(t.onKeyDown,p=>{var g;const m=s.searchRef.current!=="";t.disabled||m&&p.key===" "||_q[n.dir].includes(p.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),p.preventDefault())})})})});yT.displayName=Uu;var bT="MenuSubContent",wT=N.forwardRef((t,e)=>{const r=nT(mi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=ll(mi,t.__scopeMenu),a=Fd(mi,t.__scopeMenu),u=vT(bT,t.__scopeMenu),d=N.useRef(null),h=$t(e,d);return c.jsx(cd.Provider,{scope:t.__scopeMenu,children:c.jsx(In,{present:n||s.open,children:c.jsx(cd.Slot,{scope:t.__scopeMenu,children:c.jsx(zw,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;a.isUsingKeyboardRef.current&&((p=d.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Le(t.onFocusOutside,f=>{f.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Le(t.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:Le(t.onKeyDown,f=>{var g;const p=f.currentTarget.contains(f.target),m=Eq[a.dir].includes(f.key);p&&m&&(s.onOpenChange(!1),(g=u.trigger)==null||g.focus(),f.preventDefault())})})})})})});wT.displayName=bT;function xT(t){return t?"open":"closed"}function zh(t){return t==="indeterminate"}function Kw(t){return zh(t)?"indeterminate":t?"checked":"unchecked"}function Vq(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function zq(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Hq(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=zq(t,Math.max(s,0));i.length===1&&(a=a.filter(h=>h!==r));const d=a.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function Wq(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const u=e[s],d=e[a],h=u.x,f=u.y,p=d.x,m=d.y;f>n!=m>n&&r<(p-h)*(n-f)/(m-f)+h&&(i=!i)}return i}function Kq(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Wq(r,e)}function ud(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Gq=rT,Qq=Bw,Yq=iT,Zq=sT,Jq=Hw,Xq=oT,eB=Ap,tB=lT,rB=uT,nB=fT,iB=pT,sB=mT,oB=gT,aB=yT,lB=wT,Tp="DropdownMenu",[cB]=Xn(Tp,[eT]),vn=eT(),[uB,_T]=cB(Tp),ET=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:u=!0}=t,d=vn(e),h=N.useRef(null),[f,p]=Ps({prop:i,defaultProp:s??!1,onChange:a,caller:Tp});return c.jsx(uB,{scope:e,triggerId:Zr(),triggerRef:h,contentId:Zr(),open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(m=>!m),[p]),modal:u,children:c.jsx(Gq,{...d,open:f,onOpenChange:p,dir:n,modal:u,children:r})})};ET.displayName=Tp;var ST="DropdownMenuTrigger",jT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=_T(ST,r),a=vn(r);return c.jsx(Qq,{asChild:!0,...a,children:c.jsx(it.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Rs(e,s.triggerRef),onPointerDown:Le(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:Le(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});jT.displayName=ST;var dB="DropdownMenuPortal",CT=t=>{const{__scopeDropdownMenu:e,...r}=t,n=vn(e);return c.jsx(Yq,{...n,...r})};CT.displayName=dB;var kT="DropdownMenuContent",NT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=_T(kT,r),s=vn(r),a=N.useRef(!1);return c.jsx(Zq,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Le(t.onCloseAutoFocus,u=>{var d;a.current||(d=i.triggerRef.current)==null||d.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:Le(t.onInteractOutside,u=>{const d=u.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!i.modal||f)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NT.displayName=kT;var fB="DropdownMenuGroup",hB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(Jq,{...i,...n,ref:e})});hB.displayName=fB;var pB="DropdownMenuLabel",OT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(Xq,{...i,...n,ref:e})});OT.displayName=pB;var mB="DropdownMenuItem",AT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(eB,{...i,...n,ref:e})});AT.displayName=mB;var gB="DropdownMenuCheckboxItem",TT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(tB,{...i,...n,ref:e})});TT.displayName=gB;var vB="DropdownMenuRadioGroup",yB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(rB,{...i,...n,ref:e})});yB.displayName=vB;var bB="DropdownMenuRadioItem",RT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(nB,{...i,...n,ref:e})});RT.displayName=bB;var wB="DropdownMenuItemIndicator",PT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(iB,{...i,...n,ref:e})});PT.displayName=wB;var xB="DropdownMenuSeparator",IT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(sB,{...i,...n,ref:e})});IT.displayName=xB;var _B="DropdownMenuArrow",EB=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(oB,{...i,...n,ref:e})});EB.displayName=_B;var SB="DropdownMenuSubTrigger",DT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(aB,{...i,...n,ref:e})});DT.displayName=SB;var jB="DropdownMenuSubContent",MT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vn(r);return c.jsx(lB,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MT.displayName=jB;var CB=ET,kB=jT,NB=CT,LT=NT,FT=OT,$T=AT,qT=TT,BT=RT,UT=PT,VT=IT,zT=DT,HT=MT;const WT=CB,KT=kB,OB=N.forwardRef(({className:t,inset:e,children:r,...n},i)=>c.jsxs(zT,{ref:i,className:Be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,c.jsx(cD,{className:"ml-auto h-4 w-4"})]}));OB.displayName=zT.displayName;const AB=N.forwardRef(({className:t,...e},r)=>c.jsx(HT,{ref:r,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));AB.displayName=HT.displayName;const Gw=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(NB,{children:c.jsx(LT,{ref:n,sideOffset:e,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Gw.displayName=LT.displayName;const dd=N.forwardRef(({className:t,inset:e,...r},n)=>c.jsx($T,{ref:n,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));dd.displayName=$T.displayName;const TB=N.forwardRef(({className:t,children:e,checked:r,...n},i)=>c.jsxs(qT,{ref:i,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(UT,{children:c.jsx(Nd,{className:"h-4 w-4"})})}),e]}));TB.displayName=qT.displayName;const RB=N.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(BT,{ref:n,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(UT,{children:c.jsx(dD,{className:"h-2 w-2 fill-current"})})}),e]}));RB.displayName=BT.displayName;const GT=N.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(FT,{ref:n,className:Be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));GT.displayName=FT.displayName;const Hh=N.forwardRef(({className:t,...e},r)=>c.jsx(VT,{ref:r,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));Hh.displayName=VT.displayName;const PB=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);new Date().toISOString(),new Date().toISOString(),new Date().toISOString();new Date().toISOString(),new Date().toISOString(),new Date().toISOString();new Date(Date.now()-864e5*2).toISOString(),new Date(Date.now()-864e5*5).toISOString(),new Date(Date.now()-864e5*10).toISOString();new Date(Date.now()-864e5*15).toISOString(),new Date(Date.now()-864e5*15).toISOString();const Rp=(t=300)=>new Promise(e=>setTimeout(e,t));let Po=[{id:"exp1",created_at:new Date().toISOString(),project_id:"p1",amount:500,description:"Initial budget allocation for Project Alpha",date_incurred:new Date().toISOString().split("T")[0],request_id:null},{id:"exp2",created_at:new Date().toISOString(),project_id:"p2",amount:185.5,description:"Cost of Request 2024-0002 (Antibody)",date_incurred:new Date().toISOString().split("T")[0],request_id:"req2"}];const IB=async()=>(await Rp(),Po),DB=async t=>{await Rp();const e={id:PB(),created_at:new Date().toISOString(),...t};return Po.push(e),e},MB=async(t,e)=>{await Rp();const r=Po.findIndex(n=>n.id===t);if(r===-1)throw new Error("Expenditure not found");return Po[r]={...Po[r],...e},Po[r]},LB=async t=>{await Rp(),Po=Po.filter(e=>e.id!==t)},FB=async()=>{const{data:t,error:e}=await Xe.from("profiles").select("*");if(e)throw new Error(e.message);return t},$B=async(t,e)=>{const{error:r}=await Xe.from("profiles").update(e).eq("id",t);if(r)throw new Error(r.message)},qB=async t=>{const{data:{session:e},error:r}=await Xe.auth.refreshSession();if(r||!e)throw console.error("Error refreshing session before deleting user:",r),new Error("Failed to refresh session. Please log in again.");const{data:n,error:i}=await Xe.functions.invoke("delete-user",{body:JSON.stringify({userIdToDelete:t}),method:"POST"});if(i){console.error("Error invoking delete-user edge function:",i);let s="Failed to delete user via Edge Function.";throw n&&typeof n=="object"&&"error"in n?s=n.error:i.message?s=i.message:typeof n=="string"&&(s=n),i.status&&(s=`(Status: ${i.status}) ${s}`),new Error(s)}return n},BB=async t=>{const{email:e,first_name:r,last_name:n,role:i}=t,{data:s,error:a}=await Xe.functions.invoke("invite-user",{body:JSON.stringify({email:e,first_name:r,last_name:n,role:i}),method:"POST"});if(a){console.error("Error invoking invite-user edge function:",a),console.error("Edge function raw response data (on error):",s);let u="Failed to invite user via Edge Function.";throw s&&typeof s=="object"&&"error"in s?u=s.error:typeof s=="string"?u=s:a.message&&(u=a.message),a.status&&(u=`(Status: ${a.status}) ${u}`),new Error(u)}return s},UB=async()=>{const{data:t,error:e}=await Xe.from("requests").select(`
      *,
      items:request_items (*),
      shipping_address:shipping_addresses (*),
      billing_address:billing_addresses (*)
    `).order("created_at",{ascending:!1});if(e)throw console.error("Error fetching requests from Supabase:",e),new Error(e.message);return t.map(n=>({...n,items:n.items||null,quote_url:n.quote_url||null,po_number:n.po_number||null,po_url:n.po_url||null,slip_url:n.slip_url||null,project_codes:n.project_codes||null,notes:n.notes||null,account_manager_id:n.account_manager_id||null,shipping_address_id:n.shipping_address_id||null,billing_address_id:n.billing_address_id||null,request_number:n.request_number||null}))},QT=async()=>{const{data:t,error:e}=await Xe.from("profiles").select("first_name, last_name").eq("role","Admin");return e?(console.error("Error fetching Admin profiles for notification:",e),[]):t||[]},YT=async t=>{const{data:e,error:r}=await Xe.from("profiles").select("first_name, last_name").eq("id",t).single();return r?(console.error("Error fetching Requester profile for notification:",r),null):e},VB=async t=>{const{vendorId:e,requesterId:r,accountManagerId:n,shippingAddressId:i,billingAddressId:s,notes:a,projectCodes:u,items:d}=t,h=d.map(g=>({productName:g.productName,catalogNumber:g.catalogNumber,quantity:g.quantity,unitPrice:g.unitPrice,format:g.format,link:g.link,notes:g.notes,brand:g.brand})),f=n&&n.trim()!==""?n:null,{data:p,error:m}=await Xe.rpc("create_request_with_items",{vendor_id_in:e,account_manager_id_in:f,shipping_address_id_in:i,billing_address_id_in:s,notes_in:a,project_codes_in:u,items_in:h});if(m)throw console.error("Error invoking create_request_with_items RPC:",m),new Error(m.message);try{const g=await QT(),_=(await Xe.from("vendors").select("name").eq("id",e).single()).data,y=await YT(r),b=y?`${y.first_name||""} ${y.last_name||""}`.trim():"Unkown Requester",E=(_==null?void 0:_.name)||"Unknown Vendor",x=p.request_number||p.id.substring(0,8);console.log(`[Notification] New Request #${x} created by ${b} for ${E}. Admins notified.`)}catch(g){console.error("Failed to log notification for new request:",g)}return p},zB=async(t,e,r=null,n=null)=>{const{data:i,error:s}=await Xe.from("requests").select("status, requester_id, request_number").eq("id",t).single();if(s)throw new Error(s.message);const a=i.status,u=i.requester_id,d=i.request_number||t.substring(0,8),h={status:e};r!==null&&(h.quote_url=r),n!==null&&(h.po_number=n);const{data:f,error:p}=await Xe.from("requests").update(h).eq("id",t).select(`
      *,
      items:request_items (*)
    `).single();if(p)throw new Error(p.message);if(a!==e)try{const m=await YT(u),g=await QT(),_=m?`${m.first_name||""} ${m.last_name||""}`.trim():"Unkown Requester";console.log(`[Notification] Requester ${_} notified: Request #${d} updated to: ${e}.`),e==="Received"&&console.log(`[Notification] Admins notified: Reception Registered: Request #${d} has been marked as Received.`)}catch(m){console.error("Failed to log notification for status change:",m)}return f},HB=async(t,e)=>{const r={vendor_id:e.vendorId,shipping_address_id:e.shippingAddressId,billing_address_id:e.billingAddressId,account_manager_id:e.accountManagerId,notes:e.notes,project_codes:e.projectCodes},{data:n,error:i}=await Xe.from("requests").update(r).eq("id",t).select(`
      *,
      items:request_items (*)
    `).single();if(i)throw new Error(i.message);return n},WB=async(t,e)=>{const r={};e.accountManagerId!==void 0&&(r.account_manager_id=e.accountManagerId),e.notes!==void 0&&(r.notes=e.notes),e.projectCodes!==void 0&&(r.project_codes=e.projectCodes);const{data:n,error:i}=await Xe.from("requests").update(r).eq("id",t).select(`
      *,
      items:request_items (*)
    `).single();if(i)throw new Error(i.message);return n},KB=async(t,e,r,n=null)=>{const{data:{session:i},error:s}=await Xe.auth.refreshSession();if(s||!i)throw console.error("Error refreshing session before uploading file:",s),new Error("Failed to refresh session. Please log in again.");const a=new FormData;r&&a.append("file",r),a.append("fileType",e),a.append("requestId",t),n&&a.append("poNumber",n);const{data:u,error:d}=await Xe.functions.invoke("upload-file",{body:a,method:"POST",headers:{}});if(d){console.error("Error invoking upload-file edge function:",d);let g="Failed to upload file via Edge Function.";throw u&&typeof u=="object"&&"error"in u?g=u.error:d.message?g=d.message:typeof u=="string"&&(g=u),d.status&&(g=`(Status: ${d.status}) ${g}`),new Error(g)}const{filePath:h,poNumber:f}=u,p={};if(h&&(e==="quote"?p.quote_url=h:e==="po"?p.po_url=h:e==="slip"&&(p.slip_url=h)),e==="po"&&f&&(p.po_number=f),Object.keys(p).length===0)return{filePath:h,poNumber:f};const{error:m}=await Xe.from("requests").update(p).eq("id",t);if(m)throw console.error(`Error updating request DB with ${e} URL/PO Number:`,m),new Error(`File uploaded/PO Number saved, but failed to update database record: ${m.message}`);return{filePath:h,poNumber:f}},GB=async t=>{const{error:e}=await Xe.from("requests").delete().eq("id",t);if(e)throw new Error(e.message)},QB=async t=>{const{error:e}=await Xe.rpc("revert_request_reception",{request_id_in:t});if(e)throw console.error("Error invoking revert_request_reception RPC:",e),new Error(e.message)},YB=async()=>{const{data:t,error:e}=await Xe.from("inventory").select("*");if(e)throw new Error(e.message);return t},ZB=async t=>{const{data:e,error:r}=await Xe.rpc("add_or_update_inventory_item",{product_name_in:t.product_name,catalog_number_in:t.catalog_number,brand_in:t.brand,quantity_in:t.quantity,unit_price_in:t.unit_price,format_in:t.format}).single();if(r)throw new Error(r.message);return e},JB=async(t,e)=>{const{data:r,error:n}=await Xe.from("inventory").update(e).eq("id",t).select().single();if(n)throw new Error(n.message);return r},XB=async t=>{const{error:e}=await Xe.from("inventory").delete().eq("id",t);if(e)throw new Error(e.message)},eU=async()=>IB(),tU=async t=>DB(t),rU=async(t,e)=>MB(t,e),nU=async t=>LB(t),iU=async t=>{const{data:e,error:r}=await Xe.functions.invoke("send-email",{body:JSON.stringify(t),method:"POST"});if(r){console.error("Error invoking send-email edge function:",r);let n="Failed to send email via Edge Function.";throw e&&typeof e=="object"&&"error"in e?n=e.error:r.message&&(n=r.message),new Error(n)}return e},Qw=()=>ei({queryKey:["allProfiles"],queryFn:async()=>FB()}),sU=()=>{const t=Mt();return Ut({mutationFn:async e=>BB(e),onSuccess:e=>{t.invalidateQueries({queryKey:["allProfiles"]}),t.invalidateQueries({queryKey:["accountManagers"]}),ke.success("Invitación enviada exitosamente!",{description:`Email: ${e.user.email}`})},onError:e=>{ke.error("Fallo al enviar la invitación.",{description:e.message})}})},ZT=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const{email:n,...i}=r;return $B(e,i)},onSuccess:()=>{t.invalidateQueries({queryKey:["allProfiles"]}),t.invalidateQueries({queryKey:["accountManagers"]}),t.invalidateQueries({queryKey:["session"]}),ke.success("Perfil actualizado exitosamente!")},onError:e=>{ke.error("Fallo al actualizar el perfil.",{description:e.message})}})},oU=()=>{const t=Mt();return Ut({mutationFn:async e=>qB(e),onSuccess:()=>{t.invalidateQueries({queryKey:["allProfiles"]}),t.invalidateQueries({queryKey:["accountManagers"]}),ke.success("Perfil eliminado exitosamente!")},onError:e=>{ke.error("Fallo al eliminar el perfil.",{description:e.message})}})},Mi=t=>t?`${t.first_name||""} ${t.last_name||""}`.trim()||t.id:"N/A",aU=({children:t})=>{const e=IA(),[r,n]=z.useState(!1),{profile:i,logout:s,loading:a}=ti(),u=()=>{e&&n(!1)},d=Mi(i),h=d.split(" ").map(p=>p[0]).join("").toUpperCase().substring(0,2),f=!!i;return c.jsxs("div",{className:"flex min-h-screen bg-background text-foreground",children:[!e&&c.jsxs("aside",{className:"w-64 border-r bg-sidebar p-4 flex flex-col shadow-lg",children:[c.jsx("div",{className:"mb-8 mt-2",children:c.jsx(Ba,{to:"/dashboard",className:"text-2xl font-extrabold text-sidebar-primary-foreground tracking-tight",children:"LabFlow"})}),f?c.jsx(VS,{className:"flex-grow"}):c.jsxs("div",{className:"flex items-center px-3 py-2 text-sm text-muted-foreground",children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Cargando navegación..."]})]}),c.jsxs("div",{className:"flex flex-col flex-1",children:[c.jsxs("header",{className:"sticky top-0 z-40 w-full border-b bg-card shadow-sm p-4 flex items-center justify-between",children:[e&&c.jsxs(u9,{open:r,onOpenChange:n,children:[c.jsx(d9,{asChild:!0,children:c.jsx(Ce,{variant:"ghost",size:"icon",children:c.jsx(yD,{className:"h-6 w-6"})})}),c.jsxs(tA,{side:"left",className:"w-64 p-4 flex flex-col bg-sidebar",children:[c.jsx("div",{className:"mb-8 mt-2",children:c.jsx(Ba,{to:"/dashboard",className:"text-2xl font-extrabold text-sidebar-primary-foreground tracking-tight",onClick:u,children:"LabFlow"})}),f?c.jsx(VS,{className:"flex-grow",onLinkClick:u}):c.jsxs("div",{className:"flex items-center px-3 py-2 text-sm text-muted-foreground",children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Cargando navegación..."]})]})]}),c.jsx("h1",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 hidden sm:block",children:"Gestión de Solicitudes de Laboratorio"}),i?c.jsxs(WT,{children:[c.jsx(KT,{asChild:!0,children:c.jsx(Ce,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:c.jsx(zA,{className:"h-8 w-8",children:c.jsx(HA,{className:"bg-primary text-primary-foreground text-sm",children:h})})})}),c.jsxs(Gw,{className:"w-56",align:"end",forceMount:!0,children:[c.jsx(GT,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:d}),c.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:i==null?void 0:i.email})]})}),c.jsx(Hh,{}),c.jsx(dd,{onClick:()=>u(),children:c.jsxs(Ba,{to:"/profile",className:"flex items-center w-full",children:[c.jsx(Gk,{className:"mr-2 h-4 w-4"}),"Perfil"]})}),c.jsx(Hh,{}),c.jsxs(dd,{onClick:s,children:[c.jsx(vD,{className:"mr-2 h-4 w-4"}),"Cerrar Sesión"]})]})]}):c.jsx(wt,{className:"h-4 w-4 animate-spin"})]}),c.jsx("main",{className:"flex-1 p-4 sm:p-6 overflow-auto bg-gray-50 dark:bg-gray-900",children:t})]})]})},lU=async()=>UB(),$d=()=>ei({queryKey:["requests"],queryFn:lU}),JT=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{vendorId:r,requesterId:n,accountManagerId:i,shippingAddressId:s,billingAddressId:a,notes:u,projectCodes:d,items:h}=e;return VB({vendorId:r,requesterId:n,accountManagerId:i,shippingAddressId:s,billingAddressId:a,notes:u||null,projectCodes:d||null,items:h})},onSuccess:e=>{t.invalidateQueries({queryKey:["requests"]}),ke.success("Solicitud enviada exitosamente!",{description:`ID de Solicitud: ${e.id}`})},onError:e=>{ke.error("Fallo al enviar la solicitud.",{description:e.message})}})},Yw=()=>{const t=Mt();return Ut({mutationFn:async({id:e,status:r,quoteUrl:n,poNumber:i})=>{const s=await zB(e,r,n,i);return r==="Ordered"&&s.items,s},onSuccess:e=>{t.invalidateQueries({queryKey:["requests"]}),t.invalidateQueries({queryKey:["inventory"]}),ke.success(`Estado de la Solicitud ${e.id} actualizado a ${e.status}!`)},onError:e=>{ke.error("Fallo al actualizar el estado de la solicitud.",{description:e.message})}})},cU=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const n=r.accountManagerId==="unassigned"?null:r.accountManagerId;return HB(e,{...r,accountManagerId:n})},onSuccess:()=>{t.invalidateQueries({queryKey:["requests"]}),ke.success("Detalles de la solicitud actualizados exitosamente!")},onError:e=>{ke.error("Fallo al actualizar los detalles de la solicitud.",{description:e.message})}})},uU=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>WB(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["requests"]}),ke.success("Metadatos de la solicitud actualizados exitosamente!")},onError:e=>{ke.error("Fallo al actualizar los metadatos de la solicitud.",{description:e.message})}})},XT=()=>{const t=Mt();return Ut({mutationFn:async({id:e,fileType:r,file:n,poNumber:i})=>KB(e,r,n,i),onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["requests"]});let n=`${r.fileType.toUpperCase()} detalles guardados exitosamente!`;e.filePath?n=`${r.fileType.toUpperCase()} archivo subido exitosamente!`:r.fileType==="po"&&e.poNumber&&(n=`Número de PO ${e.poNumber} guardado exitosamente!`),ke.success(n)},onError:(e,r)=>{ke.error(`Fallo al guardar los detalles de ${r.fileType.toUpperCase()}.`,{description:e.message})}})},eR=()=>{const t=Mt();return Ut({mutationFn:async e=>GB(e),onSuccess:()=>{t.invalidateQueries({queryKey:["requests"]}),ke.success("Solicitud eliminada exitosamente!")},onError:e=>{ke.error("Fallo al eliminar la solicitud.",{description:e.message})}})},dU=()=>{const t=Mt();return Ut({mutationFn:async e=>{await QB(e)},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["requests"]}),t.invalidateQueries({queryKey:["inventory"]}),t.invalidateQueries({queryKey:["packingSlips",r]}),t.invalidateQueries({queryKey:["aggregatedReceivedItems",r]}),ke.success("Reversión de recepción exitosa!",{description:"Artículos eliminados del inventario y estado establecido a Pedido."})},onError:e=>{ke.error("Fallo al revertir la recepción.",{description:e.message})}})},tR=()=>Ut({mutationFn:async t=>{await iU(t)},onSuccess:()=>{ke.success("Correo enviado exitosamente!")},onError:t=>{ke.error("Fallo al enviar correo.",{description:t.message})}}),Kc=()=>ei({queryKey:["vendors"],queryFn:async()=>{const{data:t,error:e}=await Xe.from("vendors").select("*");if(e)throw new Error(e.message);return t||[]}}),fU=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{data:r,error:n}=await Xe.from("vendors").insert([{name:e.name,contact_person:e.contact_person,email:e.email,phone:e.phone,notes:e.notes,brands:e.brands}]).select().single();if(n)throw new Error(n.message);return r},onSuccess:()=>{ke.success("Proveedor añadido exitosamente!"),t.invalidateQueries({queryKey:["vendors"]})},onError:e=>{ke.error("Fallo al añadir proveedor.",{description:e.message})}})},hU=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const{data:n,error:i}=await Xe.from("vendors").update({name:r.name,contact_person:r.contact_person,email:r.email,phone:r.phone,notes:r.notes,brands:r.brands}).eq("id",e).select().single();if(i)throw new Error(i.message);return n},onSuccess:()=>{ke.success("Proveedor actualizado exitosamente!"),t.invalidateQueries({queryKey:["vendors"]})},onError:e=>{ke.error("Fallo al actualizar proveedor.",{description:e.message})}})},pU=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{error:r}=await Xe.from("vendors").delete().eq("id",e);if(r)throw new Error(`Fallo al eliminar proveedor: ${r.message}`)},onSuccess:()=>{ke.success("Proveedor eliminado exitosamente!"),t.invalidateQueries({queryKey:["vendors"]})},onError:e=>{ke.error(e.message)}})},cl=()=>ei({queryKey:["account_managers"],queryFn:async()=>{const{data:t,error:e}=await Xe.from("account_managers").select("*");if(e)throw new Error(e.message);return t||[]}}),mU=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{data:r,error:n}=await Xe.from("account_managers").insert([e]).select().single();if(n)throw new Error(n.message);return r},onSuccess:()=>{ke.success("Gerente de cuenta añadido exitosamente!"),t.invalidateQueries({queryKey:["account_managers"]})},onError:e=>{ke.error("Fallo al añadir gerente de cuenta.",{description:e.message})}})},gU=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const{data:n,error:i}=await Xe.from("account_managers").update(r).eq("id",e).select().single();if(i)throw new Error(i.message);return n},onSuccess:()=>{ke.success("Gerente de cuenta actualizado exitosamente!"),t.invalidateQueries({queryKey:["account_managers"]})},onError:e=>{ke.error("Fallo al actualizar gerente de cuenta.",{description:e.message})}})},vU=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{error:r}=await Xe.from("account_managers").delete().eq("id",e);if(r)throw new Error(`Fallo al eliminar gerente de cuenta: ${r.message}`)},onSuccess:()=>{ke.success("Gerente de cuenta eliminado exitosamente!"),t.invalidateQueries({queryKey:["account_managers"]})},onError:e=>{ke.error(e.message)}})};var qd=t=>t.type==="checkbox",Oa=t=>t instanceof Date,Tn=t=>t==null;const rR=t=>typeof t=="object";var Ir=t=>!Tn(t)&&!Array.isArray(t)&&rR(t)&&!Oa(t),nR=t=>Ir(t)&&t.target?qd(t.target)?t.target.checked:t.target.value:t,yU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iR=(t,e)=>t.has(yU(e)),bU=t=>{const e=t.constructor&&t.constructor.prototype;return Ir(e)&&e.hasOwnProperty("isPrototypeOf")},Zw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Zw&&(t instanceof Blob||n))&&(r||Ir(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!bU(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=pr(t[i]));else return t;return e}var Pp=t=>/^\w*$/.test(t),ur=t=>t===void 0,Ip=t=>Array.isArray(t)?t.filter(Boolean):[],Jw=t=>Ip(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(t,e,r)=>{if(!e||!Ir(t))return r;const n=(Pp(e)?[e]:Jw(e)).reduce((i,s)=>Tn(i)?i:i[s],t);return ur(n)||n===t?ur(t[e])?r:t[e]:n},Un=t=>typeof t=="boolean",Gt=(t,e,r)=>{let n=-1;const i=Pp(e)?[e]:Jw(e),s=i.length,a=s-1;for(;++n<s;){const u=i[n];let d=r;if(n!==a){const h=t[u];d=Ir(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}};const Wh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Xw=z.createContext(null);Xw.displayName="HookFormContext";const Bd=()=>z.useContext(Xw),wU=t=>{const{children:e,...r}=t;return z.createElement(Xw.Provider,{value:r},e)};var sR=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==pi.all&&(e._proxyFormState[a]=!n||pi.all),r&&(r[a]=!0),t[a]}});return i};const Dp=typeof window<"u"?z.useLayoutEffect:z.useEffect;function xU(t){const e=Bd(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,u]=z.useState(r._formState),d=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Dp(()=>r._subscribe({name:i,formState:d.current,exact:s,callback:h=>{!n&&u({...r._formState,...h})}}),[i,n,s]),z.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),z.useMemo(()=>sR(a,r,d.current,!1),[a,r])}var Yn=t=>typeof t=="string",oR=(t,e,r,n,i)=>Yn(t)?(n&&e.watch.add(t),Me(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Me(r,s))):(n&&(e.watchAll=!0),r),wb=t=>Tn(t)||!rR(t);function Ns(t,e,r=new WeakSet){if(wb(t)||wb(e))return t===e;if(Oa(t)&&Oa(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const u=e[s];if(Oa(a)&&Oa(u)||Ir(a)&&Ir(u)||Array.isArray(a)&&Array.isArray(u)?!Ns(a,u,r):a!==u)return!1}}return!0}function _U(t){const e=Bd(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:u}=t||{},d=z.useRef(i),h=z.useRef(u),f=z.useRef(void 0);h.current=u;const p=z.useMemo(()=>r._getWatch(n,d.current),[r,n]),[m,g]=z.useState(h.current?h.current(p):p);return Dp(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:_=>{if(!s){const y=oR(n,r._names,_.values||r._formValues,!1,d.current);if(h.current){const b=h.current(y);Ns(b,f.current)||(g(b),f.current=b)}else g(y)}}}),[r,s,n,a]),z.useEffect(()=>r._removeUnmounted()),m}function EU(t){const e=Bd(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a}=t,u=iR(i._names.array,r),d=z.useMemo(()=>Me(i._formValues,r,Me(i._defaultValues,r,a)),[i,r,a]),h=_U({control:i,name:r,defaultValue:d,exact:!0}),f=xU({control:i,name:r,exact:!0}),p=z.useRef(t),m=z.useRef(void 0),g=z.useRef(i.register(r,{...t.rules,value:h,...Un(t.disabled)?{disabled:t.disabled}:{}}));p.current=t;const _=z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Me(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Me(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Me(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Me(f.validatingFields,r)},error:{enumerable:!0,get:()=>Me(f.errors,r)}}),[f,r]),y=z.useCallback(j=>g.current.onChange({target:{value:nR(j),name:r},type:Wh.CHANGE}),[r]),b=z.useCallback(()=>g.current.onBlur({target:{value:Me(i._formValues,r),name:r},type:Wh.BLUR}),[r,i._formValues]),E=z.useCallback(j=>{const w=Me(i._fields,r);w&&j&&(w._f.ref={focus:()=>j.focus&&j.focus(),select:()=>j.select&&j.select(),setCustomValidity:C=>j.setCustomValidity(C),reportValidity:()=>j.reportValidity()})},[i._fields,r]),x=z.useMemo(()=>({name:r,value:h,...Un(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:y,onBlur:b,ref:E}),[r,n,f.disabled,y,b,E,h]);return z.useEffect(()=>{const j=i._options.shouldUnregister||s,w=m.current;w&&w!==r&&!u&&i.unregister(w),i.register(r,{...p.current.rules,...Un(p.current.disabled)?{disabled:p.current.disabled}:{}});const C=(O,A)=>{const P=Me(i._fields,O);P&&P._f&&(P._f.mount=A)};if(C(r,!0),j){const O=pr(Me(i._options.defaultValues,r,p.current.defaultValue));Gt(i._defaultValues,r,O),ur(Me(i._formValues,r))&&Gt(i._formValues,r,O)}return!u&&i.register(r),m.current=r,()=>{(u?j&&!i._state.action:j)?i.unregister(r):C(r,!1)}},[r,i,u,s]),z.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),z.useMemo(()=>({field:x,formState:f,fieldState:_}),[x,f,_])}const SU=t=>t.render(EU(t));var aR=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Pn=t=>Array.isArray(t)?t:[t],GS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function lR(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Ir(i)&&s){const a=lR(i,s);Ir(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var pn=t=>Ir(t)&&!Object.keys(t).length,e1=t=>t.type==="file",Pi=t=>typeof t=="function",Kh=t=>{if(!Zw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cR=t=>t.type==="select-multiple",t1=t=>t.type==="radio",jU=t=>t1(t)||qd(t),wv=t=>Kh(t)&&t.isConnected;function CU(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ur(t)?n++:t[e[n++]];return t}function kU(t){for(const e in t)if(t.hasOwnProperty(e)&&!ur(t[e]))return!1;return!0}function Cr(t,e){const r=Array.isArray(e)?e:Pp(e)?[e]:Jw(e),n=r.length===1?t:CU(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ir(n)&&pn(n)||Array.isArray(n)&&kU(n))&&Cr(t,r.slice(0,-1)),t}var NU=t=>{for(const e in t)if(Pi(t[e]))return!0;return!1};function uR(t){return Array.isArray(t)||Ir(t)&&!NU(t)}function xb(t,e={}){for(const r in t)uR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},xb(t[r],e[r])):ur(t[r])||(e[r]=!0);return e}function Yl(t,e,r){r||(r=xb(e));for(const n in t)uR(t[n])?ur(e)||wb(r[n])?r[n]=xb(t[n],Array.isArray(t[n])?[]:{}):Yl(t[n],Tn(e)?{}:e[n],r[n]):r[n]=!Ns(t[n],e[n]);return r}const QS={value:!1,isValid:!1},YS={value:!0,isValid:!0};var dR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ur(t[0].attributes.value)?ur(t[0].value)||t[0].value===""?YS:{value:t[0].value,isValid:!0}:YS:QS}return QS},fR=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ur(t)?t:e?t===""?NaN:t&&+t:r&&Yn(t)?new Date(t):n?n(t):t;const ZS={isValid:!1,value:null};var hR=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ZS):ZS;function JS(t){const e=t.ref;return e1(e)?e.files:t1(e)?hR(t.refs).value:cR(e)?[...e.selectedOptions].map(({value:r})=>r):qd(e)?dR(t.refs).value:fR(ur(e.value)?t.ref.value:e.value,t)}var OU=(t,e,r,n)=>{const i={};for(const s of t){const a=Me(e,s);a&&Gt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Gh=t=>t instanceof RegExp,Du=t=>ur(t)?t:Gh(t)?t.source:Ir(t)?Gh(t.value)?t.value.source:t.value:t,rc=t=>({isOnSubmit:!t||t===pi.onSubmit,isOnBlur:t===pi.onBlur,isOnChange:t===pi.onChange,isOnAll:t===pi.all,isOnTouch:t===pi.onTouched});const XS="AsyncFunction";var AU=t=>!!t&&!!t.validate&&!!(Pi(t.validate)&&t.validate.constructor.name===XS||Ir(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===XS)),TU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),_b=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const uc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Me(t,i);if(s){const{_f:a,...u}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(uc(u,e))break}else if(Ir(u)&&uc(u,e))break}}};function e2(t,e,r){const n=Me(t,r);if(n||Pp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=Me(e,s),u=Me(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};if(u&&u.root&&u.root.type)return{name:`${s}.root`,error:u.root};i.pop()}return{name:r}}var RU=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return pn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||pi.all))},PU=(t,e,r)=>!t||!e||t===e||Pn(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),IU=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,DU=(t,e)=>!Ip(Me(t,e)).length&&Cr(t,e),pR=(t,e,r)=>{const n=Pn(Me(t,r));return Gt(n,"root",e[r]),Gt(t,r,n),t};function t2(t,e,r="validate"){if(Yn(t)||Array.isArray(t)&&t.every(Yn)||Un(t)&&!t)return{type:r,message:Yn(t)?t:"",ref:e}}var Hl=t=>Ir(t)&&!Gh(t)?t:{value:t,message:""},Eb=async(t,e,r,n,i,s)=>{const{ref:a,refs:u,required:d,maxLength:h,minLength:f,min:p,max:m,pattern:g,validate:_,name:y,valueAsNumber:b,mount:E}=t._f,x=Me(r,y);if(!E||e.has(y))return{};const j=u?u[0]:a,w=L=>{i&&j.reportValidity&&(j.setCustomValidity(Un(L)?"":L||""),j.reportValidity())},C={},O=t1(a),A=qd(a),P=O||A,q=(b||e1(a))&&ur(a.value)&&ur(x)||Kh(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,T=aR.bind(null,y,n,C),D=(L,B,U,Y=bs.maxLength,X=bs.minLength)=>{const ie=L?B:U;C[y]={type:L?Y:X,message:ie,ref:a,...T(L?Y:X,ie)}};if(s?!Array.isArray(x)||!x.length:d&&(!P&&(q||Tn(x))||Un(x)&&!x||A&&!dR(u).isValid||O&&!hR(u).isValid)){const{value:L,message:B}=Yn(d)?{value:!!d,message:d}:Hl(d);if(L&&(C[y]={type:bs.required,message:B,ref:j,...T(bs.required,B)},!n))return w(B),C}if(!q&&(!Tn(p)||!Tn(m))){let L,B;const U=Hl(m),Y=Hl(p);if(!Tn(x)&&!isNaN(x)){const X=a.valueAsNumber||x&&+x;Tn(U.value)||(L=X>U.value),Tn(Y.value)||(B=X<Y.value)}else{const X=a.valueAsDate||new Date(x),ie=Q=>new Date(new Date().toDateString()+" "+Q),re=a.type=="time",K=a.type=="week";Yn(U.value)&&x&&(L=re?ie(x)>ie(U.value):K?x>U.value:X>new Date(U.value)),Yn(Y.value)&&x&&(B=re?ie(x)<ie(Y.value):K?x<Y.value:X<new Date(Y.value))}if((L||B)&&(D(!!L,U.message,Y.message,bs.max,bs.min),!n))return w(C[y].message),C}if((h||f)&&!q&&(Yn(x)||s&&Array.isArray(x))){const L=Hl(h),B=Hl(f),U=!Tn(L.value)&&x.length>+L.value,Y=!Tn(B.value)&&x.length<+B.value;if((U||Y)&&(D(U,L.message,B.message),!n))return w(C[y].message),C}if(g&&!q&&Yn(x)){const{value:L,message:B}=Hl(g);if(Gh(L)&&!x.match(L)&&(C[y]={type:bs.pattern,message:B,ref:a,...T(bs.pattern,B)},!n))return w(B),C}if(_){if(Pi(_)){const L=await _(x,r),B=t2(L,j);if(B&&(C[y]={...B,...T(bs.validate,B.message)},!n))return w(B.message),C}else if(Ir(_)){let L={};for(const B in _){if(!pn(L)&&!n)break;const U=t2(await _[B](x,r),j,B);U&&(L={...U,...T(B,U.message)},w(U.message),n&&(C[y]=L))}if(!pn(L)&&(C[y]={ref:j,...L},!n))return C}}return w(!0),C};const MU={mode:pi.onSubmit,reValidateMode:pi.onChange,shouldFocusError:!0};function LU(t={}){let e={...MU,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Ir(e.defaultValues)||Ir(e.values)?pr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:pr(i),a={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const m={array:GS(),state:GS()},g=e.criteriaMode===pi.all,_=J=>oe=>{clearTimeout(h),h=setTimeout(J,oe)},y=async J=>{if(!e.disabled&&(f.isValid||p.isValid||J)){const oe=e.resolver?pn((await A()).errors):await q(n,!0);oe!==r.isValid&&m.state.next({isValid:oe})}},b=(J,oe)=>{!e.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((J||Array.from(u.mount)).forEach(ae=>{ae&&(oe?Gt(r.validatingFields,ae,oe):Cr(r.validatingFields,ae))}),m.state.next({validatingFields:r.validatingFields,isValidating:!pn(r.validatingFields)}))},E=(J,oe=[],ae,Ee,he=!0,ve=!0)=>{if(Ee&&ae&&!e.disabled){if(a.action=!0,ve&&Array.isArray(Me(n,J))){const Oe=ae(Me(n,J),Ee.argA,Ee.argB);he&&Gt(n,J,Oe)}if(ve&&Array.isArray(Me(r.errors,J))){const Oe=ae(Me(r.errors,J),Ee.argA,Ee.argB);he&&Gt(r.errors,J,Oe),DU(r.errors,J)}if((f.touchedFields||p.touchedFields)&&ve&&Array.isArray(Me(r.touchedFields,J))){const Oe=ae(Me(r.touchedFields,J),Ee.argA,Ee.argB);he&&Gt(r.touchedFields,J,Oe)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Yl(i,s)),m.state.next({name:J,isDirty:D(J,oe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Gt(s,J,oe)},x=(J,oe)=>{Gt(r.errors,J,oe),m.state.next({errors:r.errors})},j=J=>{r.errors=J,m.state.next({errors:r.errors,isValid:!1})},w=(J,oe,ae,Ee)=>{const he=Me(n,J);if(he){const ve=Me(s,J,ur(ae)?Me(i,J):ae);ur(ve)||Ee&&Ee.defaultChecked||oe?Gt(s,J,oe?ve:JS(he._f)):U(J,ve),a.mount&&y()}},C=(J,oe,ae,Ee,he)=>{let ve=!1,Oe=!1;const lt={name:J};if(!e.disabled){if(!ae||Ee){(f.isDirty||p.isDirty)&&(Oe=r.isDirty,r.isDirty=lt.isDirty=D(),ve=Oe!==lt.isDirty);const He=Ns(Me(i,J),oe);Oe=!!Me(r.dirtyFields,J),He?Cr(r.dirtyFields,J):Gt(r.dirtyFields,J,!0),lt.dirtyFields=r.dirtyFields,ve=ve||(f.dirtyFields||p.dirtyFields)&&Oe!==!He}if(ae){const He=Me(r.touchedFields,J);He||(Gt(r.touchedFields,J,ae),lt.touchedFields=r.touchedFields,ve=ve||(f.touchedFields||p.touchedFields)&&He!==ae)}ve&&he&&m.state.next(lt)}return ve?lt:{}},O=(J,oe,ae,Ee)=>{const he=Me(r.errors,J),ve=(f.isValid||p.isValid)&&Un(oe)&&r.isValid!==oe;if(e.delayError&&ae?(d=_(()=>x(J,ae)),d(e.delayError)):(clearTimeout(h),d=null,ae?Gt(r.errors,J,ae):Cr(r.errors,J)),(ae?!Ns(he,ae):he)||!pn(Ee)||ve){const Oe={...Ee,...ve&&Un(oe)?{isValid:oe}:{},errors:r.errors,name:J};r={...r,...Oe},m.state.next(Oe)}},A=async J=>{b(J,!0);const oe=await e.resolver(s,e.context,OU(J||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(J),oe},P=async J=>{const{errors:oe}=await A(J);if(J)for(const ae of J){const Ee=Me(oe,ae);Ee?Gt(r.errors,ae,Ee):Cr(r.errors,ae)}else r.errors=oe;return oe},q=async(J,oe,ae={valid:!0})=>{for(const Ee in J){const he=J[Ee];if(he){const{_f:ve,...Oe}=he;if(ve){const lt=u.array.has(ve.name),He=he._f&&AU(he._f);He&&f.validatingFields&&b([ve.name],!0);const Et=await Eb(he,u.disabled,s,g,e.shouldUseNativeValidation&&!oe,lt);if(He&&f.validatingFields&&b([ve.name]),Et[ve.name]&&(ae.valid=!1,oe))break;!oe&&(Me(Et,ve.name)?lt?pR(r.errors,Et,ve.name):Gt(r.errors,ve.name,Et[ve.name]):Cr(r.errors,ve.name))}!pn(Oe)&&await q(Oe,oe,ae)}}return ae.valid},T=()=>{for(const J of u.unMount){const oe=Me(n,J);oe&&(oe._f.refs?oe._f.refs.every(ae=>!wv(ae)):!wv(oe._f.ref))&&Z(J)}u.unMount=new Set},D=(J,oe)=>!e.disabled&&(J&&oe&&Gt(s,J,oe),!Ns(Q(),i)),L=(J,oe,ae)=>oR(J,u,{...a.mount?s:ur(oe)?i:Yn(J)?{[J]:oe}:oe},ae,oe),B=J=>Ip(Me(a.mount?s:i,J,e.shouldUnregister?Me(i,J,[]):[])),U=(J,oe,ae={})=>{const Ee=Me(n,J);let he=oe;if(Ee){const ve=Ee._f;ve&&(!ve.disabled&&Gt(s,J,fR(oe,ve)),he=Kh(ve.ref)&&Tn(oe)?"":oe,cR(ve.ref)?[...ve.ref.options].forEach(Oe=>Oe.selected=he.includes(Oe.value)):ve.refs?qd(ve.ref)?ve.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(he)?Oe.checked=!!he.find(lt=>lt===Oe.value):Oe.checked=he===Oe.value||!!he)}):ve.refs.forEach(Oe=>Oe.checked=Oe.value===he):e1(ve.ref)?ve.ref.value="":(ve.ref.value=he,ve.ref.type||m.state.next({name:J,values:pr(s)})))}(ae.shouldDirty||ae.shouldTouch)&&C(J,he,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&K(J)},Y=(J,oe,ae)=>{for(const Ee in oe){if(!oe.hasOwnProperty(Ee))return;const he=oe[Ee],ve=J+"."+Ee,Oe=Me(n,ve);(u.array.has(J)||Ir(he)||Oe&&!Oe._f)&&!Oa(he)?Y(ve,he,ae):U(ve,he,ae)}},X=(J,oe,ae={})=>{const Ee=Me(n,J),he=u.array.has(J),ve=pr(oe);Gt(s,J,ve),he?(m.array.next({name:J,values:pr(s)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&ae.shouldDirty&&m.state.next({name:J,dirtyFields:Yl(i,s),isDirty:D(J,ve)})):Ee&&!Ee._f&&!Tn(ve)?Y(J,ve,ae):U(J,ve,ae),_b(J,u)&&m.state.next({...r,name:J}),m.state.next({name:a.mount?J:void 0,values:pr(s)})},ie=async J=>{a.mount=!0;const oe=J.target;let ae=oe.name,Ee=!0;const he=Me(n,ae),ve=He=>{Ee=Number.isNaN(He)||Oa(He)&&isNaN(He.getTime())||Ns(He,Me(s,ae,He))},Oe=rc(e.mode),lt=rc(e.reValidateMode);if(he){let He,Et;const V=oe.type?JS(he._f):nR(J),R=J.type===Wh.BLUR||J.type===Wh.FOCUS_OUT,F=!TU(he._f)&&!e.resolver&&!Me(r.errors,ae)&&!he._f.deps||IU(R,Me(r.touchedFields,ae),r.isSubmitted,lt,Oe),ne=_b(ae,u,R);Gt(s,ae,V),R?(!oe||!oe.readOnly)&&(he._f.onBlur&&he._f.onBlur(J),d&&d(0)):he._f.onChange&&he._f.onChange(J);const fe=C(ae,V,R),be=!pn(fe)||ne;if(!R&&m.state.next({name:ae,type:J.type,values:pr(s)}),F)return(f.isValid||p.isValid)&&(e.mode==="onBlur"?R&&y():R||y()),be&&m.state.next({name:ae,...ne?{}:fe});if(!R&&ne&&m.state.next({...r}),e.resolver){const{errors:Se}=await A([ae]);if(ve(V),Ee){const yt=e2(r.errors,n,ae),It=e2(Se,n,yt.name||ae);He=It.error,ae=It.name,Et=pn(Se)}}else b([ae],!0),He=(await Eb(he,u.disabled,s,g,e.shouldUseNativeValidation))[ae],b([ae]),ve(V),Ee&&(He?Et=!1:(f.isValid||p.isValid)&&(Et=await q(n,!0)));Ee&&(he._f.deps&&(!Array.isArray(he._f.deps)||he._f.deps.length>0)&&K(he._f.deps),O(ae,Et,He,fe))}},re=(J,oe)=>{if(Me(r.errors,oe)&&J.focus)return J.focus(),1},K=async(J,oe={})=>{let ae,Ee;const he=Pn(J);if(e.resolver){const ve=await P(ur(J)?J:he);ae=pn(ve),Ee=J?!he.some(Oe=>Me(ve,Oe)):ae}else J?(Ee=(await Promise.all(he.map(async ve=>{const Oe=Me(n,ve);return await q(Oe&&Oe._f?{[ve]:Oe}:Oe)}))).every(Boolean),!(!Ee&&!r.isValid)&&y()):Ee=ae=await q(n);return m.state.next({...!Yn(J)||(f.isValid||p.isValid)&&ae!==r.isValid?{}:{name:J},...e.resolver||!J?{isValid:ae}:{},errors:r.errors}),oe.shouldFocus&&!Ee&&uc(n,re,J?he:u.mount),Ee},Q=(J,oe)=>{let ae={...a.mount?s:i};return oe&&(ae=lR(oe.dirtyFields?r.dirtyFields:r.touchedFields,ae)),ur(J)?ae:Yn(J)?Me(ae,J):J.map(Ee=>Me(ae,Ee))},M=(J,oe)=>({invalid:!!Me((oe||r).errors,J),isDirty:!!Me((oe||r).dirtyFields,J),error:Me((oe||r).errors,J),isValidating:!!Me(r.validatingFields,J),isTouched:!!Me((oe||r).touchedFields,J)}),$=J=>{J&&Pn(J).forEach(oe=>Cr(r.errors,oe)),m.state.next({errors:J?r.errors:{}})},G=(J,oe,ae)=>{const Ee=(Me(n,J,{_f:{}})._f||{}).ref,he=Me(r.errors,J)||{},{ref:ve,message:Oe,type:lt,...He}=he;Gt(r.errors,J,{...He,...oe,ref:Ee}),m.state.next({name:J,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},te=(J,oe)=>Pi(J)?m.state.subscribe({next:ae=>"values"in ae&&J(L(void 0,oe),ae)}):L(J,oe,!0),ee=J=>m.state.subscribe({next:oe=>{PU(J.name,oe.name,J.exact)&&RU(oe,J.formState||f,xt,J.reRenderRoot)&&J.callback({values:{...s},...r,...oe,defaultValues:i})}}).unsubscribe,W=J=>(a.mount=!0,p={...p,...J.formState},ee({...J,formState:p})),Z=(J,oe={})=>{for(const ae of J?Pn(J):u.mount)u.mount.delete(ae),u.array.delete(ae),oe.keepValue||(Cr(n,ae),Cr(s,ae)),!oe.keepError&&Cr(r.errors,ae),!oe.keepDirty&&Cr(r.dirtyFields,ae),!oe.keepTouched&&Cr(r.touchedFields,ae),!oe.keepIsValidating&&Cr(r.validatingFields,ae),!e.shouldUnregister&&!oe.keepDefaultValue&&Cr(i,ae);m.state.next({values:pr(s)}),m.state.next({...r,...oe.keepDirty?{isDirty:D()}:{}}),!oe.keepIsValid&&y()},le=({disabled:J,name:oe})=>{(Un(J)&&a.mount||J||u.disabled.has(oe))&&(J?u.disabled.add(oe):u.disabled.delete(oe))},ce=(J,oe={})=>{let ae=Me(n,J);const Ee=Un(oe.disabled)||Un(e.disabled);return Gt(n,J,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:J}},name:J,mount:!0,...oe}}),u.mount.add(J),ae?le({disabled:Un(oe.disabled)?oe.disabled:e.disabled,name:J}):w(J,!0,oe.value),{...Ee?{disabled:oe.disabled||e.disabled}:{},...e.progressive?{required:!!oe.required,min:Du(oe.min),max:Du(oe.max),minLength:Du(oe.minLength),maxLength:Du(oe.maxLength),pattern:Du(oe.pattern)}:{},name:J,onChange:ie,onBlur:ie,ref:he=>{if(he){ce(J,oe),ae=Me(n,J);const ve=ur(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Oe=jU(ve),lt=ae._f.refs||[];if(Oe?lt.find(He=>He===ve):ve===ae._f.ref)return;Gt(n,J,{_f:{...ae._f,...Oe?{refs:[...lt.filter(wv),ve,...Array.isArray(Me(i,J))?[{}]:[]],ref:{type:ve.type,name:J}}:{ref:ve}}}),w(J,!1,void 0,ve)}else ae=Me(n,J,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||oe.shouldUnregister)&&!(iR(u.array,J)&&a.action)&&u.unMount.add(J)}}},me=()=>e.shouldFocusError&&uc(n,re,u.mount),je=J=>{Un(J)&&(m.state.next({disabled:J}),uc(n,(oe,ae)=>{const Ee=Me(n,ae);Ee&&(oe.disabled=Ee._f.disabled||J,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(he=>{he.disabled=Ee._f.disabled||J}))},0,!1))},Te=(J,oe)=>async ae=>{let Ee;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let he=pr(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ve,values:Oe}=await A();r.errors=ve,he=pr(Oe)}else await q(n);if(u.disabled.size)for(const ve of u.disabled)Cr(he,ve);if(Cr(r.errors,"root"),pn(r.errors)){m.state.next({errors:{}});try{await J(he,ae)}catch(ve){Ee=ve}}else oe&&await oe({...r.errors},ae),me(),setTimeout(me);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pn(r.errors)&&!Ee,submitCount:r.submitCount+1,errors:r.errors}),Ee)throw Ee},ze=(J,oe={})=>{Me(n,J)&&(ur(oe.defaultValue)?X(J,pr(Me(i,J))):(X(J,oe.defaultValue),Gt(i,J,pr(oe.defaultValue))),oe.keepTouched||Cr(r.touchedFields,J),oe.keepDirty||(Cr(r.dirtyFields,J),r.isDirty=oe.defaultValue?D(J,pr(Me(i,J))):D()),oe.keepError||(Cr(r.errors,J),f.isValid&&y()),m.state.next({...r}))},Ze=(J,oe={})=>{const ae=J?pr(J):i,Ee=pr(ae),he=pn(J),ve=he?i:Ee;if(oe.keepDefaultValues||(i=ae),!oe.keepValues){if(oe.keepDirtyValues){const Oe=new Set([...u.mount,...Object.keys(Yl(i,s))]);for(const lt of Array.from(Oe))Me(r.dirtyFields,lt)?Gt(ve,lt,Me(s,lt)):X(lt,Me(ve,lt))}else{if(Zw&&ur(J))for(const Oe of u.mount){const lt=Me(n,Oe);if(lt&&lt._f){const He=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(Kh(He)){const Et=He.closest("form");if(Et){Et.reset();break}}}}if(oe.keepFieldsRef)for(const Oe of u.mount)X(Oe,Me(ve,Oe));else n={}}s=e.shouldUnregister?oe.keepDefaultValues?pr(i):{}:pr(ve),m.array.next({values:{...ve}}),m.state.next({values:{...ve}})}u={mount:oe.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:oe.keepSubmitCount?r.submitCount:0,isDirty:he?!1:oe.keepDirty?r.isDirty:!!(oe.keepDefaultValues&&!Ns(J,i)),isSubmitted:oe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:oe.keepDirtyValues?oe.keepDefaultValues&&s?Yl(i,s):r.dirtyFields:oe.keepDefaultValues&&J?Yl(i,J):oe.keepDirty?r.dirtyFields:{},touchedFields:oe.keepTouched?r.touchedFields:{},errors:oe.keepErrors?r.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},pt=(J,oe)=>Ze(Pi(J)?J(s):J,oe),_t=(J,oe={})=>{const ae=Me(n,J),Ee=ae&&ae._f;if(Ee){const he=Ee.refs?Ee.refs[0]:Ee.ref;he.focus&&(he.focus(),oe.shouldSelect&&Pi(he.select)&&he.select())}},xt=J=>{r={...r,...J}},_e={control:{register:ce,unregister:Z,getFieldState:M,handleSubmit:Te,setError:G,_subscribe:ee,_runSchema:A,_focusError:me,_getWatch:L,_getDirty:D,_setValid:y,_setFieldArray:E,_setDisabledField:le,_setErrors:j,_getFieldArray:B,_reset:Ze,_resetDefaultValues:()=>Pi(e.defaultValues)&&e.defaultValues().then(J=>{pt(J,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:je,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(J){a=J},get _defaultValues(){return i},get _names(){return u},set _names(J){u=J},get _formState(){return r},get _options(){return e},set _options(J){e={...e,...J}}},subscribe:W,trigger:K,register:ce,handleSubmit:Te,watch:te,setValue:X,getValues:Q,reset:pt,resetField:ze,clearErrors:$,unregister:Z,setError:G,setFocus:_t,getFieldState:M};return{..._e,formControl:_e}}var go=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},xv=(t,e,r={})=>r.shouldFocus||ur(r.shouldFocus)?r.focusName||`${t}.${ur(r.focusIndex)?e:r.focusIndex}.`:"",_v=(t,e)=>[...t,...Pn(e)],Ev=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Sv(t,e,r){return[...t.slice(0,e),...Pn(r),...t.slice(e)]}var jv=(t,e,r)=>Array.isArray(t)?(ur(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],Cv=(t,e)=>[...Pn(e),...Pn(t)];function FU(t,e){let r=0;const n=[...t];for(const i of e)n.splice(i-r,1),r++;return Ip(n).length?n:[]}var kv=(t,e)=>ur(e)?[]:FU(t,Pn(e).sort((r,n)=>r-n)),Nv=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},r2=(t,e,r)=>(t[e]=r,t);function mR(t){const e=Bd(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:s,rules:a}=t,[u,d]=z.useState(r._getFieldArray(n)),h=z.useRef(r._getFieldArray(n).map(go)),f=z.useRef(!1);r._names.array.add(n),z.useMemo(()=>a&&u.length>=0&&r.register(n,a),[r,n,u.length,a]),Dp(()=>r._subjects.array.subscribe({next:({values:w,name:C})=>{if(C===n||!C){const O=Me(w,n);Array.isArray(O)&&(d(O),h.current=O.map(go))}}}).unsubscribe,[r,n]);const p=z.useCallback(w=>{f.current=!0,r._setFieldArray(n,w)},[r,n]),m=(w,C)=>{const O=Pn(pr(w)),A=_v(r._getFieldArray(n),O);r._names.focus=xv(n,A.length-1,C),h.current=_v(h.current,O.map(go)),p(A),d(A),r._setFieldArray(n,A,_v,{argA:Ev(w)})},g=(w,C)=>{const O=Pn(pr(w)),A=Cv(r._getFieldArray(n),O);r._names.focus=xv(n,0,C),h.current=Cv(h.current,O.map(go)),p(A),d(A),r._setFieldArray(n,A,Cv,{argA:Ev(w)})},_=w=>{const C=kv(r._getFieldArray(n),w);h.current=kv(h.current,w),p(C),d(C),!Array.isArray(Me(r._fields,n))&&Gt(r._fields,n,void 0),r._setFieldArray(n,C,kv,{argA:w})},y=(w,C,O)=>{const A=Pn(pr(C)),P=Sv(r._getFieldArray(n),w,A);r._names.focus=xv(n,w,O),h.current=Sv(h.current,w,A.map(go)),p(P),d(P),r._setFieldArray(n,P,Sv,{argA:w,argB:Ev(C)})},b=(w,C)=>{const O=r._getFieldArray(n);Nv(O,w,C),Nv(h.current,w,C),p(O),d(O),r._setFieldArray(n,O,Nv,{argA:w,argB:C},!1)},E=(w,C)=>{const O=r._getFieldArray(n);jv(O,w,C),jv(h.current,w,C),p(O),d(O),r._setFieldArray(n,O,jv,{argA:w,argB:C},!1)},x=(w,C)=>{const O=pr(C),A=r2(r._getFieldArray(n),w,O);h.current=[...A].map((P,q)=>!P||q===w?go():h.current[q]),p(A),d([...A]),r._setFieldArray(n,A,r2,{argA:w,argB:O},!0,!1)},j=w=>{const C=Pn(pr(w));h.current=C.map(go),p([...C]),d([...C]),r._setFieldArray(n,[...C],O=>O,{},!0,!1)};return z.useEffect(()=>{if(r._state.action=!1,_b(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!rc(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!rc(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(w=>{const C=Me(w.errors,n),O=Me(r._formState.errors,n);(O?!C&&O.type||C&&(O.type!==C.type||O.message!==C.message):C&&C.type)&&(C?Gt(r._formState.errors,n,C):Cr(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const w=Me(r._fields,n);w&&w._f&&!(rc(r._options.reValidateMode).isOnSubmit&&rc(r._options.mode).isOnSubmit)&&Eb(w,r._names.disabled,r._formValues,r._options.criteriaMode===pi.all,r._options.shouldUseNativeValidation,!0).then(C=>!pn(C)&&r._subjects.state.next({errors:pR(r._formState.errors,C,n)}))}r._subjects.state.next({name:n,values:pr(r._formValues)}),r._names.focus&&uc(r._fields,(w,C)=>{if(r._names.focus&&C.startsWith(r._names.focus)&&w.focus)return w.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[u,n,r]),z.useEffect(()=>(!Me(r._formValues,n)&&r._setFieldArray(n),()=>{const w=(C,O)=>{const A=Me(r._fields,C);A&&A._f&&(A._f.mount=O)};r._options.shouldUnregister||s?r.unregister(n):w(n,!1)}),[n,r,i,s]),{swap:z.useCallback(b,[p,n,r]),move:z.useCallback(E,[p,n,r]),prepend:z.useCallback(g,[p,n,r]),append:z.useCallback(m,[p,n,r]),remove:z.useCallback(_,[p,n,r]),insert:z.useCallback(y,[p,n,r]),update:z.useCallback(x,[p,n,r]),replace:z.useCallback(j,[p,n,r]),fields:z.useMemo(()=>u.map((w,C)=>({...w,[i]:h.current[C]||go()})),[u,i])}}function yn(t={}){const e=z.useRef(void 0),r=z.useRef(void 0),[n,i]=z.useState({isDirty:!1,isValidating:!1,isLoading:Pi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pi(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Pi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...u}=LU(t);e.current={...u,formState:n}}const s=e.current.control;return s._options=t,Dp(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(u=>({...u,isReady:!0})),s._formState.isReady=!0,a},[s]),z.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),z.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),z.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),z.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),z.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),z.useEffect(()=>{t.values&&!Ns(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),z.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=sR(n,s),e.current}const n2=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Me(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},gR=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?n2(n.ref,r,t):n.refs&&n.refs.forEach(i=>n2(i,r,t))}},$U=(t,e)=>{e.shouldUseNativeValidation&&gR(t,e);const r={};for(const n in t){const i=Me(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(qU(e.names||Object.keys(t),n)){const a=Object.assign({},Me(r,n));Gt(a,"root",s),Gt(r,n,a)}else Gt(r,n,s)}return r},qU=(t,e)=>t.some(r=>r.startsWith(e+"."));var BU=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[a]={message:u.message,type:u.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return t.push(p)})}),e){var d=r[a].types,h=d&&d[n.code];r[a]=aR(a,e,r,i,h?[].concat(h,n.message):n.message)}t.shift()}return r},bn=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve((function(a,u){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return s.shouldUseNativeValidation&&gR({},s),{errors:{},values:r.raw?n:h}})}catch(h){return u(h)}return d&&d.then?d.then(void 0,u):d})(0,function(a){if((function(u){return Array.isArray(u==null?void 0:u.errors)})(a))return{values:{},errors:$U(BU(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},Kt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),a={};for(const u of s)a[u]=i[u];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Kt||(Kt={}));var i2;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(i2||(i2={}));const ot=Kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xo=t=>{switch(typeof t){case"undefined":return ot.undefined;case"string":return ot.string;case"number":return Number.isNaN(t)?ot.nan:ot.number;case"boolean":return ot.boolean;case"function":return ot.function;case"bigint":return ot.bigint;case"symbol":return ot.symbol;case"object":return Array.isArray(t)?ot.array:t===null?ot.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ot.promise:typeof Map<"u"&&t instanceof Map?ot.map:typeof Set<"u"&&t instanceof Set?ot.set:typeof Date<"u"&&t instanceof Date?ot.date:ot.object;default:return ot.unknown}},De=Kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ms extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let u=n,d=0;for(;d<a.path.length;){const h=a.path[d];d===a.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(r(a))):u[h]=u[h]||{_errors:[]},u=u[h],d++}}};return i(this),n}static assert(e){if(!(e instanceof Ms))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ms.create=t=>new Ms(t);const Sb=(t,e)=>{let r;switch(t.code){case De.invalid_type:t.received===ot.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case De.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Kt.jsonStringifyReplacer)}`;break;case De.unrecognized_keys:r=`Unrecognized key(s) in object: ${Kt.joinValues(t.keys,", ")}`;break;case De.invalid_union:r="Invalid input";break;case De.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Kt.joinValues(t.options)}`;break;case De.invalid_enum_value:r=`Invalid enum value. Expected ${Kt.joinValues(t.options)}, received '${t.received}'`;break;case De.invalid_arguments:r="Invalid function arguments";break;case De.invalid_return_type:r="Invalid function return type";break;case De.invalid_date:r="Invalid date";break;case De.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Kt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case De.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case De.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case De.custom:r="Invalid input";break;case De.invalid_intersection_types:r="Intersection results could not be merged";break;case De.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case De.not_finite:r="Number must be finite";break;default:r=e.defaultError,Kt.assertNever(t)}return{message:r}};let UU=Sb;function VU(){return UU}const zU=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let u="";const d=n.filter(h=>!!h).slice().reverse();for(const h of d)u=h(a,{data:e,defaultError:u}).message;return{...i,path:s,message:u}};function Ye(t,e){const r=VU(),n=zU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Sb?void 0:Sb].filter(i=>!!i)});t.common.issues.push(n)}class Jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return jt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Jn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return jt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const jt=Object.freeze({status:"aborted"}),Vu=t=>({status:"dirty",value:t}),gi=t=>({status:"valid",value:t}),s2=t=>t.status==="aborted",o2=t=>t.status==="dirty",Tc=t=>t.status==="valid",Qh=t=>typeof Promise<"u"&&t instanceof Promise;var dt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(dt||(dt={}));class Ko{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a2=(t,e)=>{if(Tc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ms(t.common.issues);return this._error=r,this._error}}};function Rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,u)=>{const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??n??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:d??r??u.defaultError}},description:i}}class Ht{get description(){return this._def.description}_getType(e){return xo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jn,ctx:{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Qh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},i=this._parseSync({data:e,path:n.path,parent:n});return a2(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return Tc(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Tc(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Qh(i)?i:Promise.resolve(i));return a2(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),u=()=>s.addIssue({code:De.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(d=>d?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Qa({schema:this,typeName:Ct.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Fo.create(this,this._def)}nullable(){return Ic.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ns.create(this)}promise(){return Xh.create(this,this._def)}or(e){return Zh.create([this,e],this._def)}and(e){return Jh.create(this,e,this._def)}transform(e){return new Qa({...Rt(this._def),schema:this,typeName:Ct.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Nb({...Rt(this._def),innerType:this,defaultValue:r,typeName:Ct.ZodDefault})}brand(){return new hV({typeName:Ct.ZodBranded,type:this,...Rt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Ob({...Rt(this._def),innerType:this,catchValue:r,typeName:Ct.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return r1.create(this,e)}readonly(){return Ab.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HU=/^c[^\s-]{8,}$/i,WU=/^[0-9a-z]+$/,KU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QU=/^[a-z0-9_-]{21}$/i,YU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,JU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ov;const eV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,nV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sV=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oV=new RegExp(`^${vR}$`);function yR(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function aV(t){return new RegExp(`^${yR(t)}$`)}function lV(t){let e=`${vR}T${yR(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function cV(t,e){return!!((e==="v4"||!e)&&eV.test(t)||(e==="v6"||!e)&&rV.test(t))}function uV(t,e){if(!YU.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function dV(t,e){return!!((e==="v4"||!e)&&tV.test(t)||(e==="v6"||!e)&&nV.test(t))}class Io extends Ht{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ot.string){const s=this._getOrReturnCtx(e);return Ye(s,{code:De.invalid_type,expected:ot.string,received:s.parsedType}),jt}const n=new Jn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,u=e.data.length<s.value;(a||u)&&(i=this._getOrReturnCtx(e,i),a?Ye(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&Ye(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")JU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"email",code:De.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Ov||(Ov=new RegExp(XU,"u")),Ov.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"emoji",code:De.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")GU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"uuid",code:De.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")QU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"nanoid",code:De.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")HU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"cuid",code:De.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")WU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"cuid2",code:De.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")KU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"ulid",code:De.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ye(i,{validation:"url",code:De.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"regex",code:De.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?lV(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?oV.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?aV(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?ZU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"duration",code:De.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?cV(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"ip",code:De.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?uV(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"jwt",code:De.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?dV(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"cidr",code:De.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?iV.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"base64",code:De.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?sV.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"base64url",code:De.invalid_string,message:s.message}),n.dirty()):Kt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:De.invalid_string,...dt.errToObj(n)})}_addCheck(e){return new Io({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...dt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...dt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...dt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...dt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...dt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...dt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...dt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...dt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...dt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...dt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...dt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...dt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...dt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...dt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...dt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...dt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...dt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...dt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...dt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...dt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...dt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...dt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...dt.errToObj(r)})}nonempty(e){return this.min(1,dt.errToObj(e))}trim(){return new Io({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Io({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Io({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Io.create=t=>new Io({checks:[],typeName:Ct.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Rt(t)});function fV(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class Rc extends Ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ot.number){const s=this._getOrReturnCtx(e);return Ye(s,{code:De.invalid_type,expected:ot.number,received:s.parsedType}),jt}let n;const i=new Jn;for(const s of this._def.checks)s.kind==="int"?Kt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?fV(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.not_finite,message:s.message}),i.dirty()):Kt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,dt.toString(r))}setLimit(e,r,n,i){return new Rc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:dt.toString(i)}]})}_addCheck(e){return new Rc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:dt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:dt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:dt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Kt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Rc.create=t=>new Rc({checks:[],typeName:Ct.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Rt(t)});class fd extends Ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ot.bigint)return this._getInvalidInput(e);let n;const i=new Jn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Kt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ye(r,{code:De.invalid_type,expected:ot.bigint,received:r.parsedType}),jt}gte(e,r){return this.setLimit("min",e,!0,dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,dt.toString(r))}setLimit(e,r,n,i){return new fd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:dt.toString(i)}]})}_addCheck(e){return new fd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:dt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}fd.create=t=>new fd({checks:[],typeName:Ct.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Rt(t)});class l2 extends Ht{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ot.boolean){const n=this._getOrReturnCtx(e);return Ye(n,{code:De.invalid_type,expected:ot.boolean,received:n.parsedType}),jt}return gi(e.data)}}l2.create=t=>new l2({typeName:Ct.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Rt(t)});class Yh extends Ht{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ot.date){const s=this._getOrReturnCtx(e);return Ye(s,{code:De.invalid_type,expected:ot.date,received:s.parsedType}),jt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ye(s,{code:De.invalid_date}),jt}const n=new Jn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:De.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Kt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:dt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:dt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Yh.create=t=>new Yh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ct.ZodDate,...Rt(t)});class c2 extends Ht{_parse(e){if(this._getType(e)!==ot.symbol){const n=this._getOrReturnCtx(e);return Ye(n,{code:De.invalid_type,expected:ot.symbol,received:n.parsedType}),jt}return gi(e.data)}}c2.create=t=>new c2({typeName:Ct.ZodSymbol,...Rt(t)});class u2 extends Ht{_parse(e){if(this._getType(e)!==ot.undefined){const n=this._getOrReturnCtx(e);return Ye(n,{code:De.invalid_type,expected:ot.undefined,received:n.parsedType}),jt}return gi(e.data)}}u2.create=t=>new u2({typeName:Ct.ZodUndefined,...Rt(t)});class d2 extends Ht{_parse(e){if(this._getType(e)!==ot.null){const n=this._getOrReturnCtx(e);return Ye(n,{code:De.invalid_type,expected:ot.null,received:n.parsedType}),jt}return gi(e.data)}}d2.create=t=>new d2({typeName:Ct.ZodNull,...Rt(t)});class jb extends Ht{constructor(){super(...arguments),this._any=!0}_parse(e){return gi(e.data)}}jb.create=t=>new jb({typeName:Ct.ZodAny,...Rt(t)});class f2 extends Ht{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gi(e.data)}}f2.create=t=>new f2({typeName:Ct.ZodUnknown,...Rt(t)});class Go extends Ht{_parse(e){const r=this._getOrReturnCtx(e);return Ye(r,{code:De.invalid_type,expected:ot.never,received:r.parsedType}),jt}}Go.create=t=>new Go({typeName:Ct.ZodNever,...Rt(t)});class h2 extends Ht{_parse(e){if(this._getType(e)!==ot.undefined){const n=this._getOrReturnCtx(e);return Ye(n,{code:De.invalid_type,expected:ot.void,received:n.parsedType}),jt}return gi(e.data)}}h2.create=t=>new h2({typeName:Ct.ZodVoid,...Rt(t)});class ns extends Ht{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ot.array)return Ye(r,{code:De.invalid_type,expected:ot.array,received:r.parsedType}),jt;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,u=r.data.length<i.exactLength.value;(a||u)&&(Ye(r,{code:a?De.too_big:De.too_small,minimum:u?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ye(r,{code:De.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ye(r,{code:De.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,u)=>i.type._parseAsync(new Ko(r,a,r.path,u)))).then(a=>Jn.mergeArray(n,a));const s=[...r.data].map((a,u)=>i.type._parseSync(new Ko(r,a,r.path,u)));return Jn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new ns({...this._def,minLength:{value:e,message:dt.toString(r)}})}max(e,r){return new ns({...this._def,maxLength:{value:e,message:dt.toString(r)}})}length(e,r){return new ns({...this._def,exactLength:{value:e,message:dt.toString(r)}})}nonempty(e){return this.min(1,e)}}ns.create=(t,e)=>new ns({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ct.ZodArray,...Rt(e)});function Zl(t){if(t instanceof Tr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Fo.create(Zl(n))}return new Tr({...t._def,shape:()=>e})}else return t instanceof ns?new ns({...t._def,type:Zl(t.element)}):t instanceof Fo?Fo.create(Zl(t.unwrap())):t instanceof Ic?Ic.create(Zl(t.unwrap())):t instanceof Ga?Ga.create(t.items.map(e=>Zl(e))):t}class Tr extends Ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Kt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ot.object){const h=this._getOrReturnCtx(e);return Ye(h,{code:De.invalid_type,expected:ot.object,received:h.parsedType}),jt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof Go&&this._def.unknownKeys==="strip"))for(const h in i.data)a.includes(h)||u.push(h);const d=[];for(const h of a){const f=s[h],p=i.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new Ko(i,p,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Go){const h=this._def.unknownKeys;if(h==="passthrough")for(const f of u)d.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(h==="strict")u.length>0&&(Ye(i,{code:De.unrecognized_keys,keys:u}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const f of u){const p=i.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new Ko(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const f of d){const p=await f.key,m=await f.value;h.push({key:p,value:m,alwaysSet:f.alwaysSet})}return h}).then(h=>Jn.mergeObjectSync(n,h)):Jn.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return dt.errToObj,new Tr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:dt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Tr({...this._def,unknownKeys:"strip"})}passthrough(){return new Tr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Tr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Tr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ct.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Tr({...this._def,catchall:e})}pick(e){const r={};for(const n of Kt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Kt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}deepPartial(){return Zl(this)}partial(e){const r={};for(const n of Kt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Tr({...this._def,shape:()=>r})}required(e){const r={};for(const n of Kt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Fo;)s=s._def.innerType;r[n]=s}return new Tr({...this._def,shape:()=>r})}keyof(){return bR(Kt.objectKeys(this.shape))}}Tr.create=(t,e)=>new Tr({shape:()=>t,unknownKeys:"strip",catchall:Go.create(),typeName:Ct.ZodObject,...Rt(e)});Tr.strictCreate=(t,e)=>new Tr({shape:()=>t,unknownKeys:"strict",catchall:Go.create(),typeName:Ct.ZodObject,...Rt(e)});Tr.lazycreate=(t,e)=>new Tr({shape:t,unknownKeys:"strip",catchall:Go.create(),typeName:Ct.ZodObject,...Rt(e)});class Zh extends Ht{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const a=s.map(u=>new Ms(u.ctx.common.issues));return Ye(r,{code:De.invalid_union,unionErrors:a}),jt}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const d of n){const h={...r,common:{...r.common,issues:[]},parent:null},f=d._parseSync({data:r.data,path:r.path,parent:h});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const u=a.map(d=>new Ms(d));return Ye(r,{code:De.invalid_union,unionErrors:u}),jt}}get options(){return this._def.options}}Zh.create=(t,e)=>new Zh({options:t,typeName:Ct.ZodUnion,...Rt(e)});function Cb(t,e){const r=xo(t),n=xo(e);if(t===e)return{valid:!0,data:t};if(r===ot.object&&n===ot.object){const i=Kt.objectKeys(e),s=Kt.objectKeys(t).filter(u=>i.indexOf(u)!==-1),a={...t,...e};for(const u of s){const d=Cb(t[u],e[u]);if(!d.valid)return{valid:!1};a[u]=d.data}return{valid:!0,data:a}}else if(r===ot.array&&n===ot.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],u=e[s],d=Cb(a,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return r===ot.date&&n===ot.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Jh extends Ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(s2(s)||s2(a))return jt;const u=Cb(s.value,a.value);return u.valid?((o2(s)||o2(a))&&r.dirty(),{status:r.value,value:u.data}):(Ye(n,{code:De.invalid_intersection_types}),jt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Jh.create=(t,e,r)=>new Jh({left:t,right:e,typeName:Ct.ZodIntersection,...Rt(r)});class Ga extends Ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.array)return Ye(n,{code:De.invalid_type,expected:ot.array,received:n.parsedType}),jt;if(n.data.length<this._def.items.length)return Ye(n,{code:De.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jt;!this._def.rest&&n.data.length>this._def.items.length&&(Ye(n,{code:De.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Ko(n,a,n.path,u)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Jn.mergeArray(r,a)):Jn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Ga({...this._def,rest:e})}}Ga.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ga({items:t,typeName:Ct.ZodTuple,rest:null,...Rt(e)})};class p2 extends Ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.map)return Ye(n,{code:De.invalid_type,expected:ot.map,received:n.parsedType}),jt;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([u,d],h)=>({key:i._parse(new Ko(n,u,n.path,[h,"key"])),value:s._parse(new Ko(n,d,n.path,[h,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of a){const h=await d.key,f=await d.value;if(h.status==="aborted"||f.status==="aborted")return jt;(h.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(h.value,f.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of a){const h=d.key,f=d.value;if(h.status==="aborted"||f.status==="aborted")return jt;(h.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(h.value,f.value)}return{status:r.value,value:u}}}}p2.create=(t,e,r)=>new p2({valueType:e,keyType:t,typeName:Ct.ZodMap,...Rt(r)});class hd extends Ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.set)return Ye(n,{code:De.invalid_type,expected:ot.set,received:n.parsedType}),jt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ye(n,{code:De.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ye(n,{code:De.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(d){const h=new Set;for(const f of d){if(f.status==="aborted")return jt;f.status==="dirty"&&r.dirty(),h.add(f.value)}return{status:r.value,value:h}}const u=[...n.data.values()].map((d,h)=>s._parse(new Ko(n,d,n.path,h)));return n.common.async?Promise.all(u).then(d=>a(d)):a(u)}min(e,r){return new hd({...this._def,minSize:{value:e,message:dt.toString(r)}})}max(e,r){return new hd({...this._def,maxSize:{value:e,message:dt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}hd.create=(t,e)=>new hd({valueType:t,minSize:null,maxSize:null,typeName:Ct.ZodSet,...Rt(e)});class m2 extends Ht{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}m2.create=(t,e)=>new m2({getter:t,typeName:Ct.ZodLazy,...Rt(e)});class kb extends Ht{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ye(r,{received:r.data,code:De.invalid_literal,expected:this._def.value}),jt}return{status:"valid",value:e.data}}get value(){return this._def.value}}kb.create=(t,e)=>new kb({value:t,typeName:Ct.ZodLiteral,...Rt(e)});function bR(t,e){return new Pc({values:t,typeName:Ct.ZodEnum,...Rt(e)})}class Pc extends Ht{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ye(r,{expected:Kt.joinValues(n),received:r.parsedType,code:De.invalid_type}),jt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ye(r,{received:r.data,code:De.invalid_enum_value,options:n}),jt}return gi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Pc.create(e,{...this._def,...r})}exclude(e,r=this._def){return Pc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Pc.create=bR;class g2 extends Ht{_parse(e){const r=Kt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ot.string&&n.parsedType!==ot.number){const i=Kt.objectValues(r);return Ye(n,{expected:Kt.joinValues(i),received:n.parsedType,code:De.invalid_type}),jt}if(this._cache||(this._cache=new Set(Kt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Kt.objectValues(r);return Ye(n,{received:n.data,code:De.invalid_enum_value,options:i}),jt}return gi(e.data)}get enum(){return this._def.values}}g2.create=(t,e)=>new g2({values:t,typeName:Ct.ZodNativeEnum,...Rt(e)});class Xh extends Ht{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ot.promise&&r.common.async===!1)return Ye(r,{code:De.invalid_type,expected:ot.promise,received:r.parsedType}),jt;const n=r.parsedType===ot.promise?r.data:Promise.resolve(r.data);return gi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Xh.create=(t,e)=>new Xh({type:t,typeName:Ct.ZodPromise,...Rt(e)});class Qa extends Ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Ye(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async u=>{if(r.value==="aborted")return jt;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?jt:d.status==="dirty"||r.value==="dirty"?Vu(d.value):d});{if(r.value==="aborted")return jt;const u=this._def.schema._parseSync({data:a,path:n.path,parent:n});return u.status==="aborted"?jt:u.status==="dirty"||r.value==="dirty"?Vu(u.value):u}}if(i.type==="refinement"){const a=u=>{const d=i.refinement(u,s);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?jt:(u.status==="dirty"&&r.dirty(),a(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?jt:(u.status==="dirty"&&r.dirty(),a(u.value).then(()=>({status:r.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Tc(a))return jt;const u=i.transform(a.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Tc(a)?Promise.resolve(i.transform(a.value,s)).then(u=>({status:r.value,value:u})):jt);Kt.assertNever(i)}}Qa.create=(t,e,r)=>new Qa({schema:t,typeName:Ct.ZodEffects,effect:e,...Rt(r)});Qa.createWithPreprocess=(t,e,r)=>new Qa({schema:e,effect:{type:"preprocess",transform:t},typeName:Ct.ZodEffects,...Rt(r)});class Fo extends Ht{_parse(e){return this._getType(e)===ot.undefined?gi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fo.create=(t,e)=>new Fo({innerType:t,typeName:Ct.ZodOptional,...Rt(e)});class Ic extends Ht{_parse(e){return this._getType(e)===ot.null?gi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ic.create=(t,e)=>new Ic({innerType:t,typeName:Ct.ZodNullable,...Rt(e)});class Nb extends Ht{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ot.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Nb.create=(t,e)=>new Nb({innerType:t,typeName:Ct.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Rt(e)});class Ob extends Ht{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Qh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ms(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ms(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ob.create=(t,e)=>new Ob({innerType:t,typeName:Ct.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Rt(e)});class v2 extends Ht{_parse(e){if(this._getType(e)!==ot.nan){const n=this._getOrReturnCtx(e);return Ye(n,{code:De.invalid_type,expected:ot.nan,received:n.parsedType}),jt}return{status:"valid",value:e.data}}}v2.create=t=>new v2({typeName:Ct.ZodNaN,...Rt(t)});class hV extends Ht{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class r1 extends Ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?jt:s.status==="dirty"?(r.dirty(),Vu(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?jt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new r1({in:e,out:r,typeName:Ct.ZodPipeline})}}class Ab extends Ht{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Tc(i)&&(i.value=Object.freeze(i.value)),i);return Qh(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Ab.create=(t,e)=>new Ab({innerType:t,typeName:Ct.ZodReadonly,...Rt(e)});var Ct;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ct||(Ct={}));const Ge=Io.create,is=Rc.create,wR=jb.create;Go.create;const Dc=ns.create,Kr=Tr.create,pV=Zh.create;Jh.create;Ga.create;const Mp=kb.create;Pc.create;Xh.create;Fo.create;Ic.create;const Qo=Qa.createWithPreprocess,rr=Ow,dc=JO,mV=Aw,xR=N.forwardRef(({className:t,...e},r)=>c.jsx(Pd,{ref:r,className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));xR.displayName=Pd.displayName;const Zt=N.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(mV,{children:[c.jsx(xR,{}),c.jsxs(Id,{ref:n,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(XO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(sw,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zt.displayName=Id.displayName;const nr=({className:t,...e})=>c.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nr.displayName="DialogHeader";const Rn=({className:t,...e})=>c.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Rn.displayName="DialogFooter";const ir=N.forwardRef(({className:t,...e},r)=>c.jsx(Sp,{ref:r,className:Be("text-lg font-semibold leading-none tracking-tight",t),...e}));ir.displayName=Sp.displayName;const an=N.forwardRef(({className:t,...e},r)=>c.jsx(jp,{ref:r,className:Be("text-sm text-muted-foreground",t),...e}));an.displayName=jp.displayName;var gV="Label",_R=N.forwardRef((t,e)=>c.jsx(it.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_R.displayName=gV;var ER=_R;const vV=kd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Do=N.forwardRef(({className:t,...e},r)=>c.jsx(ER,{ref:r,className:Be(vV(),t),...e}));Do.displayName=ER.displayName;const wn=wU,SR=N.createContext({}),Ve=({...t})=>c.jsx(SR.Provider,{value:{name:t.name},children:c.jsx(SU,{...t})}),Lp=()=>{const t=N.useContext(SR),e=N.useContext(jR),{getFieldState:r,formState:n}=Bd(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},jR=N.createContext({}),$e=N.forwardRef(({className:t,...e},r)=>{const n=N.useId();return c.jsx(jR.Provider,{value:{id:n},children:c.jsx("div",{ref:r,className:Be("space-y-2",t),...e})})});$e.displayName="FormItem";const Fe=N.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=Lp();return c.jsx(Do,{ref:r,className:Be(n&&"text-destructive",t),htmlFor:i,...e})});Fe.displayName="FormLabel";const qe=N.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=Lp();return c.jsx(dk,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});qe.displayName="FormControl";const yV=N.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Lp();return c.jsx("p",{ref:r,id:n,className:Be("text-sm text-muted-foreground",t),...e})});yV.displayName="FormDescription";const Ue=N.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=Lp(),a=i?String(i==null?void 0:i.message):e;return a?c.jsx("p",{ref:n,id:s,className:Be("text-sm font-medium text-destructive",t),...r,children:a}):null});Ue.displayName="FormMessage";const at=N.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:Be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));at.displayName="Input";const bV=kd("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white shadow hover:bg-green-500/80"}},defaultVariants:{variant:"default"}});function ul({className:t,variant:e,...r}){return c.jsx("div",{className:Be(bV({variant:e}),t),...r})}var Av,y2;function wV(){if(y2)return Av;y2=1;function t(){this.__data__=[],this.size=0}return Av=t,Av}var Tv,b2;function CR(){if(b2)return Tv;b2=1;function t(e,r){return e===r||e!==e&&r!==r}return Tv=t,Tv}var Rv,w2;function Fp(){if(w2)return Rv;w2=1;var t=CR();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Rv=e,Rv}var Pv,x2;function xV(){if(x2)return Pv;x2=1;var t=Fp(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var u=s.length-1;return a==u?s.pop():r.call(s,a,1),--this.size,!0}return Pv=n,Pv}var Iv,_2;function _V(){if(_2)return Iv;_2=1;var t=Fp();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Iv=e,Iv}var Dv,E2;function EV(){if(E2)return Dv;E2=1;var t=Fp();function e(r){return t(this.__data__,r)>-1}return Dv=e,Dv}var Mv,S2;function SV(){if(S2)return Mv;S2=1;var t=Fp();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return Mv=e,Mv}var Lv,j2;function $p(){if(j2)return Lv;j2=1;var t=wV(),e=xV(),r=_V(),n=EV(),i=SV();function s(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var h=a[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Lv=s,Lv}var Fv,C2;function jV(){if(C2)return Fv;C2=1;var t=$p();function e(){this.__data__=new t,this.size=0}return Fv=e,Fv}var $v,k2;function CV(){if(k2)return $v;k2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return $v=t,$v}var qv,N2;function kV(){if(N2)return qv;N2=1;function t(e){return this.__data__.get(e)}return qv=t,qv}var Bv,O2;function NV(){if(O2)return Bv;O2=1;function t(e){return this.__data__.has(e)}return Bv=t,Bv}var Uv,A2;function kR(){if(A2)return Uv;A2=1;var t=typeof Jf=="object"&&Jf&&Jf.Object===Object&&Jf;return Uv=t,Uv}var Vv,T2;function zs(){if(T2)return Vv;T2=1;var t=kR(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Vv=r,Vv}var zv,R2;function n1(){if(R2)return zv;R2=1;var t=zs(),e=t.Symbol;return zv=e,zv}var Hv,P2;function OV(){if(P2)return Hv;P2=1;var t=n1(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(a){var u=r.call(a,i),d=a[i];try{a[i]=void 0;var h=!0}catch{}var f=n.call(a);return h&&(u?a[i]=d:delete a[i]),f}return Hv=s,Hv}var Wv,I2;function AV(){if(I2)return Wv;I2=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Wv=r,Wv}var Kv,D2;function qp(){if(D2)return Kv;D2=1;var t=n1(),e=OV(),r=AV(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(u){return u==null?u===void 0?i:n:s&&s in Object(u)?e(u):r(u)}return Kv=a,Kv}var Gv,M2;function NR(){if(M2)return Gv;M2=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Gv=t,Gv}var Qv,L2;function OR(){if(L2)return Qv;L2=1;var t=qp(),e=NR(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==s}return Qv=a,Qv}var Yv,F2;function TV(){if(F2)return Yv;F2=1;var t=zs(),e=t["__core-js_shared__"];return Yv=e,Yv}var Zv,$2;function RV(){if($2)return Zv;$2=1;var t=TV(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Zv=r,Zv}var Jv,q2;function AR(){if(q2)return Jv;q2=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Jv=r,Jv}var Xv,B2;function PV(){if(B2)return Xv;B2=1;var t=OR(),e=RV(),r=NR(),n=AR(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,d=a.toString,h=u.hasOwnProperty,f=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!r(m)||e(m))return!1;var g=t(m)?f:s;return g.test(n(m))}return Xv=p,Xv}var ey,U2;function IV(){if(U2)return ey;U2=1;function t(e,r){return e==null?void 0:e[r]}return ey=t,ey}var ty,V2;function Gc(){if(V2)return ty;V2=1;var t=PV(),e=IV();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return ty=r,ty}var ry,z2;function i1(){if(z2)return ry;z2=1;var t=Gc(),e=zs(),r=t(e,"Map");return ry=r,ry}var ny,H2;function Bp(){if(H2)return ny;H2=1;var t=Gc(),e=t(Object,"create");return ny=e,ny}var iy,W2;function DV(){if(W2)return iy;W2=1;var t=Bp();function e(){this.__data__=t?t(null):{},this.size=0}return iy=e,iy}var sy,K2;function MV(){if(K2)return sy;K2=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return sy=t,sy}var oy,G2;function LV(){if(G2)return oy;G2=1;var t=Bp(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var a=this.__data__;if(t){var u=a[s];return u===e?void 0:u}return n.call(a,s)?a[s]:void 0}return oy=i,oy}var ay,Q2;function FV(){if(Q2)return ay;Q2=1;var t=Bp(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return ay=n,ay}var ly,Y2;function $V(){if(Y2)return ly;Y2=1;var t=Bp(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return ly=r,ly}var cy,Z2;function qV(){if(Z2)return cy;Z2=1;var t=DV(),e=MV(),r=LV(),n=FV(),i=$V();function s(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var h=a[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,cy=s,cy}var uy,J2;function BV(){if(J2)return uy;J2=1;var t=qV(),e=$p(),r=i1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return uy=n,uy}var dy,X2;function UV(){if(X2)return dy;X2=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return dy=t,dy}var fy,ej;function Up(){if(ej)return fy;ej=1;var t=UV();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return fy=e,fy}var hy,tj;function VV(){if(tj)return hy;tj=1;var t=Up();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return hy=e,hy}var py,rj;function zV(){if(rj)return py;rj=1;var t=Up();function e(r){return t(this,r).get(r)}return py=e,py}var my,nj;function HV(){if(nj)return my;nj=1;var t=Up();function e(r){return t(this,r).has(r)}return my=e,my}var gy,ij;function WV(){if(ij)return gy;ij=1;var t=Up();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return gy=e,gy}var vy,sj;function TR(){if(sj)return vy;sj=1;var t=BV(),e=VV(),r=zV(),n=HV(),i=WV();function s(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var h=a[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,vy=s,vy}var yy,oj;function KV(){if(oj)return yy;oj=1;var t=$p(),e=i1(),r=TR(),n=200;function i(s,a){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([s,a]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,a),this.size=u.size,this}return yy=i,yy}var by,aj;function GV(){if(aj)return by;aj=1;var t=$p(),e=jV(),r=CV(),n=kV(),i=NV(),s=KV();function a(u){var d=this.__data__=new t(u);this.size=d.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,by=a,by}var wy,lj;function QV(){if(lj)return wy;lj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return wy=e,wy}var xy,cj;function YV(){if(cj)return xy;cj=1;function t(e){return this.__data__.has(e)}return xy=t,xy}var _y,uj;function ZV(){if(uj)return _y;uj=1;var t=TR(),e=QV(),r=YV();function n(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,_y=n,_y}var Ey,dj;function JV(){if(dj)return Ey;dj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Ey=t,Ey}var Sy,fj;function XV(){if(fj)return Sy;fj=1;function t(e,r){return e.has(r)}return Sy=t,Sy}var jy,hj;function RR(){if(hj)return jy;hj=1;var t=ZV(),e=JV(),r=XV(),n=1,i=2;function s(a,u,d,h,f,p){var m=d&n,g=a.length,_=u.length;if(g!=_&&!(m&&_>g))return!1;var y=p.get(a),b=p.get(u);if(y&&b)return y==u&&b==a;var E=-1,x=!0,j=d&i?new t:void 0;for(p.set(a,u),p.set(u,a);++E<g;){var w=a[E],C=u[E];if(h)var O=m?h(C,w,E,u,a,p):h(w,C,E,a,u,p);if(O!==void 0){if(O)continue;x=!1;break}if(j){if(!e(u,function(A,P){if(!r(j,P)&&(w===A||f(w,A,d,h,p)))return j.push(P)})){x=!1;break}}else if(!(w===C||f(w,C,d,h,p))){x=!1;break}}return p.delete(a),p.delete(u),x}return jy=s,jy}var Cy,pj;function ez(){if(pj)return Cy;pj=1;var t=zs(),e=t.Uint8Array;return Cy=e,Cy}var ky,mj;function tz(){if(mj)return ky;mj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return ky=t,ky}var Ny,gj;function rz(){if(gj)return Ny;gj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Ny=t,Ny}var Oy,vj;function nz(){if(vj)return Oy;vj=1;var t=n1(),e=ez(),r=CR(),n=RR(),i=tz(),s=rz(),a=1,u=2,d="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Map]",m="[object Number]",g="[object RegExp]",_="[object Set]",y="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",x="[object DataView]",j=t?t.prototype:void 0,w=j?j.valueOf:void 0;function C(O,A,P,q,T,D,L){switch(P){case x:if(O.byteLength!=A.byteLength||O.byteOffset!=A.byteOffset)return!1;O=O.buffer,A=A.buffer;case E:return!(O.byteLength!=A.byteLength||!D(new e(O),new e(A)));case d:case h:case m:return r(+O,+A);case f:return O.name==A.name&&O.message==A.message;case g:case y:return O==A+"";case p:var B=i;case _:var U=q&a;if(B||(B=s),O.size!=A.size&&!U)return!1;var Y=L.get(O);if(Y)return Y==A;q|=u,L.set(O,A);var X=n(B(O),B(A),q,T,D,L);return L.delete(O),X;case b:if(w)return w.call(O)==w.call(A)}return!1}return Oy=C,Oy}var Ay,yj;function iz(){if(yj)return Ay;yj=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return Ay=t,Ay}var Ty,bj;function s1(){if(bj)return Ty;bj=1;var t=Array.isArray;return Ty=t,Ty}var Ry,wj;function sz(){if(wj)return Ry;wj=1;var t=iz(),e=s1();function r(n,i,s){var a=i(n);return e(n)?a:t(a,s(n))}return Ry=r,Ry}var Py,xj;function oz(){if(xj)return Py;xj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var u=e[n];r(u,n,e)&&(a[s++]=u)}return a}return Py=t,Py}var Iy,_j;function az(){if(_j)return Iy;_j=1;function t(){return[]}return Iy=t,Iy}var Dy,Ej;function lz(){if(Ej)return Dy;Ej=1;var t=oz(),e=az(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(u){return n.call(a,u)}))}:e;return Dy=s,Dy}var My,Sj;function cz(){if(Sj)return My;Sj=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return My=t,My}var Ly,jj;function Vp(){if(jj)return Ly;jj=1;function t(e){return e!=null&&typeof e=="object"}return Ly=t,Ly}var Fy,Cj;function uz(){if(Cj)return Fy;Cj=1;var t=qp(),e=Vp(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Fy=n,Fy}var $y,kj;function dz(){if(kj)return $y;kj=1;var t=uz(),e=Vp(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return $y=s,$y}var zu={exports:{}},qy,Nj;function fz(){if(Nj)return qy;Nj=1;function t(){return!1}return qy=t,qy}zu.exports;var Oj;function PR(){return Oj||(Oj=1,(function(t,e){var r=zs(),n=fz(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,u=a?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h})(zu,zu.exports)),zu.exports}var By,Aj;function hz(){if(Aj)return By;Aj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return By=r,By}var Uy,Tj;function IR(){if(Tj)return Uy;Tj=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Uy=e,Uy}var Vy,Rj;function pz(){if(Rj)return Vy;Rj=1;var t=qp(),e=IR(),r=Vp(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",f="[object Number]",p="[object Object]",m="[object RegExp]",g="[object Set]",_="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",x="[object Float32Array]",j="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",q="[object Uint16Array]",T="[object Uint32Array]",D={};D[x]=D[j]=D[w]=D[C]=D[O]=D[A]=D[P]=D[q]=D[T]=!0,D[n]=D[i]=D[b]=D[s]=D[E]=D[a]=D[u]=D[d]=D[h]=D[f]=D[p]=D[m]=D[g]=D[_]=D[y]=!1;function L(B){return r(B)&&e(B.length)&&!!D[t(B)]}return Vy=L,Vy}var zy,Pj;function mz(){if(Pj)return zy;Pj=1;function t(e){return function(r){return e(r)}}return zy=t,zy}var Hu={exports:{}};Hu.exports;var Ij;function gz(){return Ij||(Ij=1,(function(t,e){var r=kR(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||a&&a.binding&&a.binding("util")}catch{}})();t.exports=u})(Hu,Hu.exports)),Hu.exports}var Hy,Dj;function DR(){if(Dj)return Hy;Dj=1;var t=pz(),e=mz(),r=gz(),n=r&&r.isTypedArray,i=n?e(n):t;return Hy=i,Hy}var Wy,Mj;function vz(){if(Mj)return Wy;Mj=1;var t=cz(),e=dz(),r=s1(),n=PR(),i=hz(),s=DR(),a=Object.prototype,u=a.hasOwnProperty;function d(h,f){var p=r(h),m=!p&&e(h),g=!p&&!m&&n(h),_=!p&&!m&&!g&&s(h),y=p||m||g||_,b=y?t(h.length,String):[],E=b.length;for(var x in h)(f||u.call(h,x))&&!(y&&(x=="length"||g&&(x=="offset"||x=="parent")||_&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,E)))&&b.push(x);return b}return Wy=d,Wy}var Ky,Lj;function yz(){if(Lj)return Ky;Lj=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Ky=e,Ky}var Gy,Fj;function bz(){if(Fj)return Gy;Fj=1;function t(e,r){return function(n){return e(r(n))}}return Gy=t,Gy}var Qy,$j;function wz(){if($j)return Qy;$j=1;var t=bz(),e=t(Object.keys,Object);return Qy=e,Qy}var Yy,qj;function xz(){if(qj)return Yy;qj=1;var t=yz(),e=wz(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&a.push(u);return a}return Yy=i,Yy}var Zy,Bj;function _z(){if(Bj)return Zy;Bj=1;var t=OR(),e=IR();function r(n){return n!=null&&e(n.length)&&!t(n)}return Zy=r,Zy}var Jy,Uj;function Ez(){if(Uj)return Jy;Uj=1;var t=vz(),e=xz(),r=_z();function n(i){return r(i)?t(i):e(i)}return Jy=n,Jy}var Xy,Vj;function Sz(){if(Vj)return Xy;Vj=1;var t=sz(),e=lz(),r=Ez();function n(i){return t(i,r,e)}return Xy=n,Xy}var e0,zj;function jz(){if(zj)return e0;zj=1;var t=Sz(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,a,u,d,h,f){var p=u&e,m=t(s),g=m.length,_=t(a),y=_.length;if(g!=y&&!p)return!1;for(var b=g;b--;){var E=m[b];if(!(p?E in a:n.call(a,E)))return!1}var x=f.get(s),j=f.get(a);if(x&&j)return x==a&&j==s;var w=!0;f.set(s,a),f.set(a,s);for(var C=p;++b<g;){E=m[b];var O=s[E],A=a[E];if(d)var P=p?d(A,O,E,a,s,f):d(O,A,E,s,a,f);if(!(P===void 0?O===A||h(O,A,u,d,f):P)){w=!1;break}C||(C=E=="constructor")}if(w&&!C){var q=s.constructor,T=a.constructor;q!=T&&"constructor"in s&&"constructor"in a&&!(typeof q=="function"&&q instanceof q&&typeof T=="function"&&T instanceof T)&&(w=!1)}return f.delete(s),f.delete(a),w}return e0=i,e0}var t0,Hj;function Cz(){if(Hj)return t0;Hj=1;var t=Gc(),e=zs(),r=t(e,"DataView");return t0=r,t0}var r0,Wj;function kz(){if(Wj)return r0;Wj=1;var t=Gc(),e=zs(),r=t(e,"Promise");return r0=r,r0}var n0,Kj;function Nz(){if(Kj)return n0;Kj=1;var t=Gc(),e=zs(),r=t(e,"Set");return n0=r,n0}var i0,Gj;function Oz(){if(Gj)return i0;Gj=1;var t=Gc(),e=zs(),r=t(e,"WeakMap");return i0=r,i0}var s0,Qj;function Az(){if(Qj)return s0;Qj=1;var t=Cz(),e=i1(),r=kz(),n=Nz(),i=Oz(),s=qp(),a=AR(),u="[object Map]",d="[object Object]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",m="[object DataView]",g=a(t),_=a(e),y=a(r),b=a(n),E=a(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=m||e&&x(new e)!=u||r&&x(r.resolve())!=h||n&&x(new n)!=f||i&&x(new i)!=p)&&(x=function(j){var w=s(j),C=w==d?j.constructor:void 0,O=C?a(C):"";if(O)switch(O){case g:return m;case _:return u;case y:return h;case b:return f;case E:return p}return w}),s0=x,s0}var o0,Yj;function Tz(){if(Yj)return o0;Yj=1;var t=GV(),e=RR(),r=nz(),n=jz(),i=Az(),s=s1(),a=PR(),u=DR(),d=1,h="[object Arguments]",f="[object Array]",p="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function _(y,b,E,x,j,w){var C=s(y),O=s(b),A=C?f:i(y),P=O?f:i(b);A=A==h?p:A,P=P==h?p:P;var q=A==p,T=P==p,D=A==P;if(D&&a(y)){if(!a(b))return!1;C=!0,q=!1}if(D&&!q)return w||(w=new t),C||u(y)?e(y,b,E,x,j,w):r(y,b,A,E,x,j,w);if(!(E&d)){var L=q&&g.call(y,"__wrapped__"),B=T&&g.call(b,"__wrapped__");if(L||B){var U=L?y.value():y,Y=B?b.value():b;return w||(w=new t),j(U,Y,E,x,w)}}return D?(w||(w=new t),n(y,b,E,x,j,w)):!1}return o0=_,o0}var a0,Zj;function Rz(){if(Zj)return a0;Zj=1;var t=Tz(),e=Vp();function r(n,i,s,a,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,a,r,u)}return a0=r,a0}var l0,Jj;function Pz(){if(Jj)return l0;Jj=1;var t=Rz();function e(r,n){return t(r,n)}return l0=e,l0}var jh={exports:{}},Iz=jh.exports,Xj;function Dz(){return Xj||(Xj=1,(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:Iz,function(){return(function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(s,a,u){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:u})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),a=i(18),u=i(19),d=i(45),h=i(46),f=i(47),p=i(48),m=i(49),g=i(12),_=i(32),y=i(33),b=i(31),E=i(1),x={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:s.default,Format:a.default,Leaf:u.default,Embed:p.default,Scroll:d.default,Block:f.default,Inline:h.default,Text:m.default,Attributor:{Attribute:g.default,Class:_.default,Style:y.default,Store:b.default}};n.default=x}),(function(r,n,i){var s=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var j in x)x.hasOwnProperty(j)&&(E[j]=x[j])};return function(E,x){b(E,x);function j(){this.constructor=E}E.prototype=x===null?Object.create(x):(j.prototype=x.prototype,new j)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=(function(b){s(E,b);function E(x){var j=this;return x="[Parchment] "+x,j=b.call(this,x)||this,j.message=x,j.name=j.constructor.name,j}return E})(Error);n.ParchmentError=a;var u={},d={},h={},f={};n.DATA_KEY="__blot";var p;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(p=n.Scope||(n.Scope={}));function m(b,E){var x=_(b);if(x==null)throw new a("Unable to create "+b+" blot");var j=x,w=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:j.create(E);return new j(w,E)}n.create=m;function g(b,E){return E===void 0&&(E=!1),b==null?null:b[n.DATA_KEY]!=null?b[n.DATA_KEY].blot:E?g(b.parentNode,E):null}n.find=g;function _(b,E){E===void 0&&(E=p.ANY);var x;if(typeof b=="string")x=f[b]||u[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)x=f.text;else if(typeof b=="number")b&p.LEVEL&p.BLOCK?x=f.block:b&p.LEVEL&p.INLINE&&(x=f.inline);else if(b instanceof HTMLElement){var j=(b.getAttribute("class")||"").split(/\s+/);for(var w in j)if(x=d[j[w]],x)break;x=x||h[b.tagName]}return x==null?null:E&p.LEVEL&x.scope&&E&p.TYPE&x.scope?x:null}n.query=_;function y(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];if(b.length>1)return b.map(function(w){return y(w)});var x=b[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new a("Invalid definition");if(x.blotName==="abstract")throw new a("Cannot register abstract class");if(f[x.blotName||x.attrName]=x,typeof x.keyName=="string")u[x.keyName]=x;else if(x.className!=null&&(d[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(w){return w.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var j=Array.isArray(x.tagName)?x.tagName:[x.tagName];j.forEach(function(w){(h[w]==null||x.className==null)&&(h[w]=x)})}return x}n.register=y}),(function(r,n,i){var s=i(51),a=i(11),u=i(3),d=i(20),h="\0",f=function(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]};f.prototype.insert=function(p,m){var g={};return p.length===0?this:(g.insert=p,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(g.attributes=m),this.push(g))},f.prototype.delete=function(p){return p<=0?this:this.push({delete:p})},f.prototype.retain=function(p,m){if(p<=0)return this;var g={retain:p};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(g.attributes=m),this.push(g)},f.prototype.push=function(p){var m=this.ops.length,g=this.ops[m-1];if(p=u(!0,{},p),typeof g=="object"){if(typeof p.delete=="number"&&typeof g.delete=="number")return this.ops[m-1]={delete:g.delete+p.delete},this;if(typeof g.delete=="number"&&p.insert!=null&&(m-=1,g=this.ops[m-1],typeof g!="object"))return this.ops.unshift(p),this;if(a(p.attributes,g.attributes)){if(typeof p.insert=="string"&&typeof g.insert=="string")return this.ops[m-1]={insert:g.insert+p.insert},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof g.retain=="number")return this.ops[m-1]={retain:g.retain+p.retain},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this}}return m===this.ops.length?this.ops.push(p):this.ops.splice(m,0,p),this},f.prototype.chop=function(){var p=this.ops[this.ops.length-1];return p&&p.retain&&!p.attributes&&this.ops.pop(),this},f.prototype.filter=function(p){return this.ops.filter(p)},f.prototype.forEach=function(p){this.ops.forEach(p)},f.prototype.map=function(p){return this.ops.map(p)},f.prototype.partition=function(p){var m=[],g=[];return this.forEach(function(_){var y=p(_)?m:g;y.push(_)}),[m,g]},f.prototype.reduce=function(p,m){return this.ops.reduce(p,m)},f.prototype.changeLength=function(){return this.reduce(function(p,m){return m.insert?p+d.length(m):m.delete?p-m.delete:p},0)},f.prototype.length=function(){return this.reduce(function(p,m){return p+d.length(m)},0)},f.prototype.slice=function(p,m){p=p||0,typeof m!="number"&&(m=1/0);for(var g=[],_=d.iterator(this.ops),y=0;y<m&&_.hasNext();){var b;y<p?b=_.next(p-y):(b=_.next(m-y),g.push(b)),y+=d.length(b)}return new f(g)},f.prototype.compose=function(p){var m=d.iterator(this.ops),g=d.iterator(p.ops),_=[],y=g.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var b=y.retain;m.peekType()==="insert"&&m.peekLength()<=b;)b-=m.peekLength(),_.push(m.next());y.retain-b>0&&g.next(y.retain-b)}for(var E=new f(_);m.hasNext()||g.hasNext();)if(g.peekType()==="insert")E.push(g.next());else if(m.peekType()==="delete")E.push(m.next());else{var x=Math.min(m.peekLength(),g.peekLength()),j=m.next(x),w=g.next(x);if(typeof w.retain=="number"){var C={};typeof j.retain=="number"?C.retain=x:C.insert=j.insert;var O=d.attributes.compose(j.attributes,w.attributes,typeof j.retain=="number");if(O&&(C.attributes=O),E.push(C),!g.hasNext()&&a(E.ops[E.ops.length-1],C)){var A=new f(m.rest());return E.concat(A).chop()}}else typeof w.delete=="number"&&typeof j.retain=="number"&&E.push(w)}return E.chop()},f.prototype.concat=function(p){var m=new f(this.ops.slice());return p.ops.length>0&&(m.push(p.ops[0]),m.ops=m.ops.concat(p.ops.slice(1))),m},f.prototype.diff=function(p,m){if(this.ops===p.ops)return new f;var g=[this,p].map(function(x){return x.map(function(j){if(j.insert!=null)return typeof j.insert=="string"?j.insert:h;var w=x===p?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),_=new f,y=s(g[0],g[1],m),b=d.iterator(this.ops),E=d.iterator(p.ops);return y.forEach(function(x){for(var j=x[1].length;j>0;){var w=0;switch(x[0]){case s.INSERT:w=Math.min(E.peekLength(),j),_.push(E.next(w));break;case s.DELETE:w=Math.min(j,b.peekLength()),b.next(w),_.delete(w);break;case s.EQUAL:w=Math.min(b.peekLength(),E.peekLength(),j);var C=b.next(w),O=E.next(w);a(C.insert,O.insert)?_.retain(w,d.attributes.diff(C.attributes,O.attributes)):_.push(O).delete(w);break}j-=w}}),_.chop()},f.prototype.eachLine=function(p,m){m=m||`
`;for(var g=d.iterator(this.ops),_=new f,y=0;g.hasNext();){if(g.peekType()!=="insert")return;var b=g.peek(),E=d.length(b)-g.peekLength(),x=typeof b.insert=="string"?b.insert.indexOf(m,E)-E:-1;if(x<0)_.push(g.next());else if(x>0)_.push(g.next(x));else{if(p(_,g.next(1).attributes||{},y)===!1)return;y+=1,_=new f}}_.length()>0&&p(_,{},y)},f.prototype.transform=function(p,m){if(m=!!m,typeof p=="number")return this.transformPosition(p,m);for(var g=d.iterator(this.ops),_=d.iterator(p.ops),y=new f;g.hasNext()||_.hasNext();)if(g.peekType()==="insert"&&(m||_.peekType()!=="insert"))y.retain(d.length(g.next()));else if(_.peekType()==="insert")y.push(_.next());else{var b=Math.min(g.peekLength(),_.peekLength()),E=g.next(b),x=_.next(b);if(E.delete)continue;x.delete?y.push(x):y.retain(b,d.attributes.transform(E.attributes,x.attributes,m))}return y.chop()},f.prototype.transformPosition=function(p,m){m=!!m;for(var g=d.iterator(this.ops),_=0;g.hasNext()&&_<=p;){var y=g.peekLength(),b=g.peekType();if(g.next(),b==="delete"){p-=Math.min(y,p-_);continue}else b==="insert"&&(_<p||!m)&&(p+=y);_+=y}return p},r.exports=f}),(function(r,n){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d=function(g){return typeof Array.isArray=="function"?Array.isArray(g):s.call(g)==="[object Array]"},h=function(g){if(!g||s.call(g)!=="[object Object]")return!1;var _=i.call(g,"constructor"),y=g.constructor&&g.constructor.prototype&&i.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!_&&!y)return!1;var b;for(b in g);return typeof b>"u"||i.call(g,b)},f=function(g,_){a&&_.name==="__proto__"?a(g,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):g[_.name]=_.newValue},p=function(g,_){if(_==="__proto__")if(i.call(g,_)){if(u)return u(g,_).value}else return;return g[_]};r.exports=function m(){var g,_,y,b,E,x,j=arguments[0],w=1,C=arguments.length,O=!1;for(typeof j=="boolean"&&(O=j,j=arguments[1]||{},w=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});w<C;++w)if(g=arguments[w],g!=null)for(_ in g)y=p(j,_),b=p(g,_),j!==b&&(O&&b&&(h(b)||(E=d(b)))?(E?(E=!1,x=y&&d(y)?y:[]):x=y&&h(y)?y:{},f(j,{name:_,newValue:m(O,x,b)})):typeof b<"u"&&f(j,{name:_,newValue:b}));return j}}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var s=(function(){function D(L,B){for(var U=0;U<B.length;U++){var Y=B[U];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(L,Y.key,Y)}}return function(L,B,U){return B&&D(L.prototype,B),U&&D(L,U),L}})(),a=function D(L,B,U){L===null&&(L=Function.prototype);var Y=Object.getOwnPropertyDescriptor(L,B);if(Y===void 0){var X=Object.getPrototypeOf(L);return X===null?void 0:D(X,B,U)}else{if("value"in Y)return Y.value;var ie=Y.get;return ie===void 0?void 0:ie.call(U)}},u=i(3),d=j(u),h=i(2),f=j(h),p=i(0),m=j(p),g=i(16),_=j(g),y=i(6),b=j(y),E=i(7),x=j(E);function j(D){return D&&D.__esModule?D:{default:D}}function w(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function C(D,L){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:D}function O(D,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}var A=1,P=(function(D){O(L,D);function L(){return w(this,L),C(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return s(L,[{key:"attach",value:function(){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(U,Y){var X=m.default.query(U,m.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,Y)}},{key:"formatAt",value:function(U,Y,X,ie){this.format(X,ie)}},{key:"insertAt",value:function(U,Y,X){if(typeof Y=="string"&&Y.endsWith(`
`)){var ie=m.default.create(q.blotName);this.parent.insertBefore(ie,U===0?this:this.next),ie.insertAt(0,Y.slice(0,-1))}else a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,U,Y,X)}}]),L})(m.default.Embed);P.scope=m.default.Scope.BLOCK_BLOT;var q=(function(D){O(L,D);function L(B){w(this,L);var U=C(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,B));return U.cache={},U}return s(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(U,Y){return Y.length()===0?U:U.insert(Y.value(),T(Y))},new f.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(U,Y){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,U,Y),this.cache={}}},{key:"formatAt",value:function(U,Y,X,ie){Y<=0||(m.default.query(X,m.default.Scope.BLOCK)?U+Y===this.length()&&this.format(X,ie):a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,U,Math.min(Y,this.length()-U-1),X,ie),this.cache={})}},{key:"insertAt",value:function(U,Y,X){if(X!=null)return a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,U,Y,X);if(Y.length!==0){var ie=Y.split(`
`),re=ie.shift();re.length>0&&(U<this.length()-1||this.children.tail==null?a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(U,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var K=this;ie.reduce(function(Q,M){return K=K.split(Q,!0),K.insertAt(0,M),M.length},U+re.length)}}},{key:"insertBefore",value:function(U,Y){var X=this.children.head;a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,U,Y),X instanceof _.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(U,Y){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,U,Y),this.cache={}}},{key:"optimize",value:function(U){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,U),this.cache={}}},{key:"path",value:function(U){return a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,U,!0)}},{key:"removeChild",value:function(U){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,U),this.cache={}}},{key:"split",value:function(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Y&&(U===0||U>=this.length()-A)){var X=this.clone();return U===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var ie=a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,U,Y);return this.cache={},ie}}}]),L})(m.default.Block);q.blotName="block",q.tagName="P",q.defaultChild="break",q.allowedChildren=[b.default,m.default.Embed,x.default];function T(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D==null||(typeof D.formats=="function"&&(L=(0,d.default)(L,D.formats())),D.parent==null||D.parent.blotName=="scroll"||D.parent.statics.scope!==D.statics.scope)?L:T(D.parent,L)}n.bubbleFormats=T,n.BlockEmbed=P,n.default=q}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},a=(function(){function K(Q,M){var $=[],G=!0,te=!1,ee=void 0;try{for(var W=Q[Symbol.iterator](),Z;!(G=(Z=W.next()).done)&&($.push(Z.value),!(M&&$.length===M));G=!0);}catch(le){te=!0,ee=le}finally{try{!G&&W.return&&W.return()}finally{if(te)throw ee}}return $}return function(Q,M){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return K(Q,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),u=(function(){function K(Q,M){for(var $=0;$<M.length;$++){var G=M[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(Q,G.key,G)}}return function(Q,M,$){return M&&K(Q.prototype,M),$&&K(Q,$),Q}})();i(50);var d=i(2),h=T(d),f=i(14),p=T(f),m=i(8),g=T(m),_=i(9),y=T(_),b=i(0),E=T(b),x=i(15),j=T(x),w=i(3),C=T(w),O=i(10),A=T(O),P=i(34),q=T(P);function T(K){return K&&K.__esModule?K:{default:K}}function D(K,Q,M){return Q in K?Object.defineProperty(K,Q,{value:M,enumerable:!0,configurable:!0,writable:!0}):K[Q]=M,K}function L(K,Q){if(!(K instanceof Q))throw new TypeError("Cannot call a class as a function")}var B=(0,A.default)("quill"),U=(function(){u(K,null,[{key:"debug",value:function(M){M===!0&&(M="log"),A.default.level(M)}},{key:"find",value:function(M){return M.__quill||E.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&B.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,$){var G=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var ee=M.attrName||M.blotName;typeof ee=="string"?this.register("formats/"+ee,M,$):Object.keys(M).forEach(function(W){G.register(W,M[W],$)})}else this.imports[M]!=null&&!te&&B.warn("Overwriting "+M+" with",$),this.imports[M]=$,(M.startsWith("blots/")||M.startsWith("formats/"))&&$.blotName!=="abstract"?E.default.register($):M.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function K(Q){var M=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,K),this.options=Y(Q,$),this.container=this.options.container,this.container==null)return B.error("Invalid Quill container",Q);this.options.debug&&K.debug(this.options.debug);var G=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new p.default(this.scroll),this.selection=new j.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(ee){ee===g.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(ee,W){var Z=M.selection.lastRange,le=Z&&Z.length===0?Z.index:void 0;X.call(M,function(){return M.editor.update(null,W,le)},ee)});var te=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+G+"<p><br></p></div>");this.setContents(te),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return u(K,[{key:"addContainer",value:function(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var G=M;M=document.createElement("div"),M.classList.add(G)}return this.container.insertBefore(M,$),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,$,G){var te=this,ee=ie(M,$,G),W=a(ee,4);return M=W[0],$=W[1],G=W[3],X.call(this,function(){return te.editor.deleteText(M,$)},G,M,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,$){var G=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return X.call(this,function(){var ee=G.getSelection(!0),W=new h.default;if(ee==null)return W;if(E.default.query(M,E.default.Scope.BLOCK))W=G.editor.formatLine(ee.index,ee.length,D({},M,$));else{if(ee.length===0)return G.selection.format(M,$),W;W=G.editor.formatText(ee.index,ee.length,D({},M,$))}return G.setSelection(ee,g.default.sources.SILENT),W},te)}},{key:"formatLine",value:function(M,$,G,te,ee){var W=this,Z=void 0,le=ie(M,$,G,te,ee),ce=a(le,4);return M=ce[0],$=ce[1],Z=ce[2],ee=ce[3],X.call(this,function(){return W.editor.formatLine(M,$,Z)},ee,M,0)}},{key:"formatText",value:function(M,$,G,te,ee){var W=this,Z=void 0,le=ie(M,$,G,te,ee),ce=a(le,4);return M=ce[0],$=ce[1],Z=ce[2],ee=ce[3],X.call(this,function(){return W.editor.formatText(M,$,Z)},ee,M,0)}},{key:"getBounds",value:function(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=void 0;typeof M=="number"?G=this.selection.getBounds(M,$):G=this.selection.getBounds(M.index,M.length);var te=this.container.getBoundingClientRect();return{bottom:G.bottom-te.top,height:G.height,left:G.left-te.left,right:G.right-te.left,top:G.top-te.top,width:G.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,G=ie(M,$),te=a(G,2);return M=te[0],$=te[1],this.editor.getContents(M,$)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,$):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,$)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,G=ie(M,$),te=a(G,2);return M=te[0],$=te[1],this.editor.getText(M,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,$,G){var te=this,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:K.sources.API;return X.call(this,function(){return te.editor.insertEmbed(M,$,G)},ee,M)}},{key:"insertText",value:function(M,$,G,te,ee){var W=this,Z=void 0,le=ie(M,0,G,te,ee),ce=a(le,4);return M=ce[0],Z=ce[2],ee=ce[3],X.call(this,function(){return W.editor.insertText(M,$,Z)},ee,M,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,$,G){this.clipboard.dangerouslyPasteHTML(M,$,G)}},{key:"removeFormat",value:function(M,$,G){var te=this,ee=ie(M,$,G),W=a(ee,4);return M=W[0],$=W[1],G=W[3],X.call(this,function(){return te.editor.removeFormat(M,$)},G,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var $=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return X.call(this,function(){M=new h.default(M);var te=$.getLength(),ee=$.editor.deleteText(0,te),W=$.editor.applyDelta(M),Z=W.ops[W.ops.length-1];Z!=null&&typeof Z.insert=="string"&&Z.insert[Z.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),W.delete(1));var le=ee.compose(W);return le},G)}},{key:"setSelection",value:function(M,$,G){if(M==null)this.selection.setRange(null,$||K.sources.API);else{var te=ie(M,$,G),ee=a(te,4);M=ee[0],$=ee[1],G=ee[3],this.selection.setRange(new x.Range(M,$),G),G!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,G=new h.default().insert(M);return this.setContents(G,$)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,$=this.scroll.update(M);return this.selection.update(M),$}},{key:"updateContents",value:function(M){var $=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return X.call(this,function(){return M=new h.default(M),$.editor.applyDelta(M,G)},G,!0)}}]),K})();U.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},U.events=g.default.events,U.sources=g.default.sources,U.version="1.3.7",U.imports={delta:h.default,parchment:E.default,"core/module":y.default,"core/theme":q.default};function Y(K,Q){if(Q=(0,C.default)(!0,{container:K,modules:{clipboard:!0,keyboard:!0,history:!0}},Q),!Q.theme||Q.theme===U.DEFAULTS.theme)Q.theme=q.default;else if(Q.theme=U.import("themes/"+Q.theme),Q.theme==null)throw new Error("Invalid theme "+Q.theme+". Did you register it?");var M=(0,C.default)(!0,{},Q.theme.DEFAULTS);[M,Q].forEach(function(te){te.modules=te.modules||{},Object.keys(te.modules).forEach(function(ee){te.modules[ee]===!0&&(te.modules[ee]={})})});var $=Object.keys(M.modules).concat(Object.keys(Q.modules)),G=$.reduce(function(te,ee){var W=U.import("modules/"+ee);return W==null?B.error("Cannot load "+ee+" module. Are you sure you registered it?"):te[ee]=W.DEFAULTS||{},te},{});return Q.modules!=null&&Q.modules.toolbar&&Q.modules.toolbar.constructor!==Object&&(Q.modules.toolbar={container:Q.modules.toolbar}),Q=(0,C.default)(!0,{},U.DEFAULTS,{modules:G},M,Q),["bounds","container","scrollingContainer"].forEach(function(te){typeof Q[te]=="string"&&(Q[te]=document.querySelector(Q[te]))}),Q.modules=Object.keys(Q.modules).reduce(function(te,ee){return Q.modules[ee]&&(te[ee]=Q.modules[ee]),te},{}),Q}function X(K,Q,M,$){if(this.options.strict&&!this.isEnabled()&&Q===g.default.sources.USER)return new h.default;var G=M==null?null:this.getSelection(),te=this.editor.delta,ee=K();if(G!=null&&(M===!0&&(M=G.index),$==null?G=re(G,ee,Q):$!==0&&(G=re(G,M,$,Q)),this.setSelection(G,g.default.sources.SILENT)),ee.length()>0){var W,Z=[g.default.events.TEXT_CHANGE,ee,te,Q];if((W=this.emitter).emit.apply(W,[g.default.events.EDITOR_CHANGE].concat(Z)),Q!==g.default.sources.SILENT){var le;(le=this.emitter).emit.apply(le,Z)}}return ee}function ie(K,Q,M,$,G){var te={};return typeof K.index=="number"&&typeof K.length=="number"?typeof Q!="number"?(G=$,$=M,M=Q,Q=K.length,K=K.index):(Q=K.length,K=K.index):typeof Q!="number"&&(G=$,$=M,M=Q,Q=0),(typeof M>"u"?"undefined":s(M))==="object"?(te=M,G=$):typeof M=="string"&&($!=null?te[M]=$:G=M),G=G||g.default.sources.API,[K,Q,te,G]}function re(K,Q,M,$){if(K==null)return null;var G=void 0,te=void 0;if(Q instanceof h.default){var ee=[K.index,K.index+K.length].map(function(ce){return Q.transformPosition(ce,$!==g.default.sources.USER)}),W=a(ee,2);G=W[0],te=W[1]}else{var Z=[K.index,K.index+K.length].map(function(ce){return ce<Q||ce===Q&&$===g.default.sources.USER?ce:M>=0?ce+M:Math.max(Q,ce+M)}),le=a(Z,2);G=le[0],te=le[1]}return new x.Range(G,te-G)}n.expandConfig=Y,n.overload=ie,n.default=U}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function b(E,x){for(var j=0;j<x.length;j++){var w=x[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,x,j){return x&&b(E.prototype,x),j&&b(E,j),E}})(),a=function b(E,x,j){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,x);if(w===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:b(C,x,j)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(j)}},u=i(7),d=p(u),h=i(0),f=p(h);function p(b){return b&&b.__esModule?b:{default:b}}function m(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function g(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function _(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var y=(function(b){_(E,b);function E(){return m(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"formatAt",value:function(j,w,C,O){if(E.compare(this.statics.blotName,C)<0&&f.default.query(C,f.default.Scope.BLOT)){var A=this.isolate(j,w);O&&A.wrap(C,O)}else a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,j,w,C,O)}},{key:"optimize",value:function(j){if(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,j),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(j,w){var C=E.order.indexOf(j),O=E.order.indexOf(w);return C>=0||O>=0?C-O:j===w?0:j<w?-1:1}}]),E})(f.default.Inline);y.allowedChildren=[y,f.default.Embed,d.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function h(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=(function(m){f(g,m);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Text);n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function x(j,w){for(var C=0;C<w.length;C++){var O=w[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(j,O.key,O)}}return function(j,w,C){return w&&x(j.prototype,w),C&&x(j,C),j}})(),a=function x(j,w,C){j===null&&(j=Function.prototype);var O=Object.getOwnPropertyDescriptor(j,w);if(O===void 0){var A=Object.getPrototypeOf(j);return A===null?void 0:x(A,w,C)}else{if("value"in O)return O.value;var P=O.get;return P===void 0?void 0:P.call(C)}},u=i(54),d=p(u),h=i(10),f=p(h);function p(x){return x&&x.__esModule?x:{default:x}}function m(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")}function g(x,j){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:x}function _(x,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);x.prototype=Object.create(j&&j.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(x,j):x.__proto__=j)}var y=(0,f.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(x){document.addEventListener(x,function(){for(var j=arguments.length,w=Array(j),C=0;C<j;C++)w[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var A;(A=O.__quill.emitter).handleDOM.apply(A,w)}})})});var E=(function(x){_(j,x);function j(){m(this,j);var w=g(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return w.listeners={},w.on("error",y.error),w}return s(j,[{key:"emit",value:function(){y.log.apply(y,arguments),a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var O=arguments.length,A=Array(O>1?O-1:0),P=1;P<O;P++)A[P-1]=arguments[P];(this.listeners[C.type]||[]).forEach(function(q){var T=q.node,D=q.handler;(C.target===T||T.contains(C.target))&&D.apply(void 0,[C].concat(A))})}},{key:"listenDOM",value:function(C,O,A){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:O,handler:A})}}]),j})(d.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},n.default=E}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var a=function u(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,u),this.quill=d,this.options=h};a.DEFAULTS={},n.default=a}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function u(h){if(s.indexOf(h)<=s.indexOf(a)){for(var f,p=arguments.length,m=Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];(f=console)[h].apply(f,m)}}function d(h){return s.reduce(function(f,p){return f[p]=u.bind(console,p,h),f},{})}u.level=d.level=function(h){a=h},n.default=d}),(function(r,n,i){var s=Array.prototype.slice,a=i(52),u=i(53),d=r.exports=function(m,g,_){return _||(_={}),m===g?!0:m instanceof Date&&g instanceof Date?m.getTime()===g.getTime():!m||!g||typeof m!="object"&&typeof g!="object"?_.strict?m===g:m==g:p(m,g,_)};function h(m){return m==null}function f(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function p(m,g,_){var y,b;if(h(m)||h(g)||m.prototype!==g.prototype)return!1;if(u(m))return u(g)?(m=s.call(m),g=s.call(g),d(m,g,_)):!1;if(f(m)){if(!f(g)||m.length!==g.length)return!1;for(y=0;y<m.length;y++)if(m[y]!==g[y])return!1;return!0}try{var E=a(m),x=a(g)}catch{return!1}if(E.length!=x.length)return!1;for(E.sort(),x.sort(),y=E.length-1;y>=0;y--)if(E[y]!=x[y])return!1;for(y=E.length-1;y>=0;y--)if(b=E[y],!d(m[b],g[b],_))return!1;return typeof m==typeof g}}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=(function(){function u(d,h,f){f===void 0&&(f={}),this.attrName=d,this.keyName=h;var p=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|p:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return u.keys=function(d){return[].map.call(d.attributes,function(h){return h.name})},u.prototype.add=function(d,h){return this.canAdd(d,h)?(d.setAttribute(this.keyName,h),!0):!1},u.prototype.canAdd=function(d,h){var f=s.query(d,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},u.prototype.remove=function(d){d.removeAttribute(this.keyName)},u.prototype.value=function(d){var h=d.getAttribute(this.keyName);return this.canAdd(d,h)&&h?h:""},u})();n.default=a}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var s=(function(){function P(q,T){var D=[],L=!0,B=!1,U=void 0;try{for(var Y=q[Symbol.iterator](),X;!(L=(X=Y.next()).done)&&(D.push(X.value),!(T&&D.length===T));L=!0);}catch(ie){B=!0,U=ie}finally{try{!L&&Y.return&&Y.return()}finally{if(B)throw U}}return D}return function(q,T){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return P(q,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(q,T){for(var D=0;D<T.length;D++){var L=T[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(q,L.key,L)}}return function(q,T,D){return T&&P(q.prototype,T),D&&P(q,D),q}})(),u=function P(q,T,D){q===null&&(q=Function.prototype);var L=Object.getOwnPropertyDescriptor(q,T);if(L===void 0){var B=Object.getPrototypeOf(q);return B===null?void 0:P(B,T,D)}else{if("value"in L)return L.value;var U=L.get;return U===void 0?void 0:U.call(D)}},d=i(2),h=x(d),f=i(0),p=x(f),m=i(4),g=x(m),_=i(6),y=x(_),b=i(7),E=x(b);function x(P){return P&&P.__esModule?P:{default:P}}function j(P,q){if(!(P instanceof q))throw new TypeError("Cannot call a class as a function")}function w(P,q){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:P}function C(P,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);P.prototype=Object.create(q&&q.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(P,q):P.__proto__=q)}var O=(function(P){C(q,P);function q(){return j(this,q),w(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return q})(y.default);O.blotName="code",O.tagName="CODE";var A=(function(P){C(q,P);function q(){return j(this,q),w(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return a(q,[{key:"delta",value:function(){var D=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(B,U){return B.insert(U).insert(`
`,D.formats())},new h.default)}},{key:"format",value:function(D,L){if(!(D===this.statics.blotName&&L)){var B=this.descendant(E.default,this.length()-1),U=s(B,1),Y=U[0];Y!=null&&Y.deleteAt(Y.length()-1,1),u(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,D,L)}}},{key:"formatAt",value:function(D,L,B,U){if(L!==0&&!(p.default.query(B,p.default.Scope.BLOCK)==null||B===this.statics.blotName&&U===this.statics.formats(this.domNode))){var Y=this.newlineIndex(D);if(!(Y<0||Y>=D+L)){var X=this.newlineIndex(D,!0)+1,ie=Y-X+1,re=this.isolate(X,ie),K=re.next;re.format(B,U),K instanceof q&&K.formatAt(0,D-X+L-ie,B,U)}}}},{key:"insertAt",value:function(D,L,B){if(B==null){var U=this.descendant(E.default,D),Y=s(U,2),X=Y[0],ie=Y[1];X.insertAt(ie,L)}}},{key:"length",value:function(){var D=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?D:D+1}},{key:"newlineIndex",value:function(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,D).lastIndexOf(`
`);var B=this.domNode.textContent.slice(D).indexOf(`
`);return B>-1?D+B:-1}},{key:"optimize",value:function(D){this.domNode.textContent.endsWith(`
`)||this.appendChild(p.default.create("text",`
`)),u(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"optimize",this).call(this,D);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(D),L.moveChildren(this),L.remove())}},{key:"replace",value:function(D){u(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replace",this).call(this,D),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var B=p.default.find(L);B==null?L.parentNode.removeChild(L):B instanceof p.default.Embed?B.remove():B.unwrap()})}}],[{key:"create",value:function(D){var L=u(q.__proto__||Object.getPrototypeOf(q),"create",this).call(this,D);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),q})(g.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",n.Code=O,n.default=A}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},a=(function(){function K(Q,M){var $=[],G=!0,te=!1,ee=void 0;try{for(var W=Q[Symbol.iterator](),Z;!(G=(Z=W.next()).done)&&($.push(Z.value),!(M&&$.length===M));G=!0);}catch(le){te=!0,ee=le}finally{try{!G&&W.return&&W.return()}finally{if(te)throw ee}}return $}return function(Q,M){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return K(Q,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),u=(function(){function K(Q,M){for(var $=0;$<M.length;$++){var G=M[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(Q,G.key,G)}}return function(Q,M,$){return M&&K(Q.prototype,M),$&&K(Q,$),Q}})(),d=i(2),h=L(d),f=i(20),p=L(f),m=i(0),g=L(m),_=i(13),y=L(_),b=i(24),E=L(b),x=i(4),j=L(x),w=i(16),C=L(w),O=i(21),A=L(O),P=i(11),q=L(P),T=i(3),D=L(T);function L(K){return K&&K.__esModule?K:{default:K}}function B(K,Q,M){return Q in K?Object.defineProperty(K,Q,{value:M,enumerable:!0,configurable:!0,writable:!0}):K[Q]=M,K}function U(K,Q){if(!(K instanceof Q))throw new TypeError("Cannot call a class as a function")}var Y=/^[ -~]*$/,X=(function(){function K(Q){U(this,K),this.scroll=Q,this.delta=this.getDelta()}return u(K,[{key:"applyDelta",value:function(M){var $=this,G=!1;this.scroll.update();var te=this.scroll.length();return this.scroll.batchStart(),M=re(M),M.reduce(function(ee,W){var Z=W.retain||W.delete||W.insert.length||1,le=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var ce=W.insert;ce.endsWith(`
`)&&G&&(G=!1,ce=ce.slice(0,-1)),ee>=te&&!ce.endsWith(`
`)&&(G=!0),$.scroll.insertAt(ee,ce);var me=$.scroll.line(ee),je=a(me,2),Te=je[0],ze=je[1],Ze=(0,D.default)({},(0,x.bubbleFormats)(Te));if(Te instanceof j.default){var pt=Te.descendant(g.default.Leaf,ze),_t=a(pt,1),xt=_t[0];Ze=(0,D.default)(Ze,(0,x.bubbleFormats)(xt))}le=p.default.attributes.diff(Ze,le)||{}}else if(s(W.insert)==="object"){var xe=Object.keys(W.insert)[0];if(xe==null)return ee;$.scroll.insertAt(ee,xe,W.insert[xe])}te+=Z}return Object.keys(le).forEach(function(_e){$.scroll.formatAt(ee,Z,_e,le[_e])}),ee+Z},0),M.reduce(function(ee,W){return typeof W.delete=="number"?($.scroll.deleteAt(ee,W.delete),ee):ee+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,$){return this.scroll.deleteAt(M,$),this.update(new h.default().retain(M).delete($))}},{key:"formatLine",value:function(M,$){var G=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(te).forEach(function(ee){if(!(G.scroll.whitelist!=null&&!G.scroll.whitelist[ee])){var W=G.scroll.lines(M,Math.max($,1)),Z=$;W.forEach(function(le){var ce=le.length();if(!(le instanceof y.default))le.format(ee,te[ee]);else{var me=M-le.offset(G.scroll),je=le.newlineIndex(me+Z)-me+1;le.formatAt(me,je,ee,te[ee])}Z-=ce})}}),this.scroll.optimize(),this.update(new h.default().retain(M).retain($,(0,A.default)(te)))}},{key:"formatText",value:function(M,$){var G=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(te).forEach(function(ee){G.scroll.formatAt(M,$,ee,te[ee])}),this.update(new h.default().retain(M).retain($,(0,A.default)(te)))}},{key:"getContents",value:function(M,$){return this.delta.slice(M,M+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,$){return M.concat($.delta())},new h.default)}},{key:"getFormat",value:function(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=[],te=[];$===0?this.scroll.path(M).forEach(function(W){var Z=a(W,1),le=Z[0];le instanceof j.default?G.push(le):le instanceof g.default.Leaf&&te.push(le)}):(G=this.scroll.lines(M,$),te=this.scroll.descendants(g.default.Leaf,M,$));var ee=[G,te].map(function(W){if(W.length===0)return{};for(var Z=(0,x.bubbleFormats)(W.shift());Object.keys(Z).length>0;){var le=W.shift();if(le==null)return Z;Z=ie((0,x.bubbleFormats)(le),Z)}return Z});return D.default.apply(D.default,ee)}},{key:"getText",value:function(M,$){return this.getContents(M,$).filter(function(G){return typeof G.insert=="string"}).map(function(G){return G.insert}).join("")}},{key:"insertEmbed",value:function(M,$,G){return this.scroll.insertAt(M,$,G),this.update(new h.default().retain(M).insert(B({},$,G)))}},{key:"insertText",value:function(M,$){var G=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,$),Object.keys(te).forEach(function(ee){G.scroll.formatAt(M,$.length,ee,te[ee])}),this.update(new h.default().retain(M).insert($,(0,A.default)(te)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==j.default.blotName||M.children.length>1?!1:M.children.head instanceof C.default}},{key:"removeFormat",value:function(M,$){var G=this.getText(M,$),te=this.scroll.line(M+$),ee=a(te,2),W=ee[0],Z=ee[1],le=0,ce=new h.default;W!=null&&(W instanceof y.default?le=W.newlineIndex(Z)-Z+1:le=W.length()-Z,ce=W.delta().slice(Z,Z+le-1).insert(`
`));var me=this.getContents(M,$+le),je=me.diff(new h.default().insert(G).concat(ce)),Te=new h.default().retain(M).concat(je);return this.applyDelta(Te)}},{key:"update",value:function(M){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,te=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(Y)&&g.default.find($[0].target)){var ee=g.default.find($[0].target),W=(0,x.bubbleFormats)(ee),Z=ee.offset(this.scroll),le=$[0].oldValue.replace(E.default.CONTENTS,""),ce=new h.default().insert(le),me=new h.default().insert(ee.value()),je=new h.default().retain(Z).concat(ce.diff(me,G));M=je.reduce(function(Te,ze){return ze.insert?Te.insert(ze.insert,W):Te.push(ze)},new h.default),this.delta=te.compose(M)}else this.delta=this.getDelta(),(!M||!(0,q.default)(te.compose(M),this.delta))&&(M=te.diff(this.delta,G));return M}}]),K})();function ie(K,Q){return Object.keys(Q).reduce(function(M,$){return K[$]==null||(Q[$]===K[$]?M[$]=Q[$]:Array.isArray(Q[$])?Q[$].indexOf(K[$])<0&&(M[$]=Q[$].concat([K[$]])):M[$]=[Q[$],K[$]]),M},{})}function re(K){return K.reduce(function(Q,M){if(M.insert===1){var $=(0,A.default)(M.attributes);return delete $.image,Q.insert({image:M.attributes.image},$)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,A.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var G=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(G,M.attributes)}return Q.push(M)},new h.default)}n.default=X}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var s=(function(){function P(q,T){var D=[],L=!0,B=!1,U=void 0;try{for(var Y=q[Symbol.iterator](),X;!(L=(X=Y.next()).done)&&(D.push(X.value),!(T&&D.length===T));L=!0);}catch(ie){B=!0,U=ie}finally{try{!L&&Y.return&&Y.return()}finally{if(B)throw U}}return D}return function(q,T){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return P(q,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(q,T){for(var D=0;D<T.length;D++){var L=T[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(q,L.key,L)}}return function(q,T,D){return T&&P(q.prototype,T),D&&P(q,D),q}})(),u=i(0),d=E(u),h=i(21),f=E(h),p=i(11),m=E(p),g=i(8),_=E(g),y=i(10),b=E(y);function E(P){return P&&P.__esModule?P:{default:P}}function x(P){if(Array.isArray(P)){for(var q=0,T=Array(P.length);q<P.length;q++)T[q]=P[q];return T}else return Array.from(P)}function j(P,q){if(!(P instanceof q))throw new TypeError("Cannot call a class as a function")}var w=(0,b.default)("quill:selection"),C=function P(q){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;j(this,P),this.index=q,this.length=T},O=(function(){function P(q,T){var D=this;j(this,P),this.emitter=T,this.scroll=q,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){D.mouseDown||setTimeout(D.update.bind(D,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(L,B){L===_.default.events.TEXT_CHANGE&&B.length()>0&&D.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(D.hasFocus()){var L=D.getNativeRange();L!=null&&L.start.node!==D.cursor.textNode&&D.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{D.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(L,B){if(B.range){var U=B.range,Y=U.startNode,X=U.startOffset,ie=U.endNode,re=U.endOffset;D.setNativeRange(Y,X,ie,re)}}),this.update(_.default.sources.SILENT)}return a(P,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var D=T.cursor.restore();if(!D)return;setTimeout(function(){T.setNativeRange(D.startNode,D.startOffset,D.endNode,D.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,D){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||d.default.query(T,d.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var B=d.default.find(L.start.node,!1);if(B==null)return;if(B instanceof d.default.Leaf){var U=B.split(L.start.offset);B.parent.insertBefore(this.cursor,U)}else B.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(T,D),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();T=Math.min(T,L-1),D=Math.min(T+D,L-1)-T;var B=void 0,U=this.scroll.leaf(T),Y=s(U,2),X=Y[0],ie=Y[1];if(X==null)return null;var re=X.position(ie,!0),K=s(re,2);B=K[0],ie=K[1];var Q=document.createRange();if(D>0){Q.setStart(B,ie);var M=this.scroll.leaf(T+D),$=s(M,2);if(X=$[0],ie=$[1],X==null)return null;var G=X.position(ie,!0),te=s(G,2);return B=te[0],ie=te[1],Q.setEnd(B,ie),Q.getBoundingClientRect()}else{var ee="left",W=void 0;return B instanceof Text?(ie<B.data.length?(Q.setStart(B,ie),Q.setEnd(B,ie+1)):(Q.setStart(B,ie-1),Q.setEnd(B,ie),ee="right"),W=Q.getBoundingClientRect()):(W=X.domNode.getBoundingClientRect(),ie>0&&(ee="right")),{bottom:W.top+W.height,height:W.height,left:W[ee],right:W[ee],top:W.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var D=T.getRangeAt(0);if(D==null)return null;var L=this.normalizeNative(D);return w.info("getNativeRange",L),L}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var D=this.normalizedToRange(T);return[D,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var D=this,L=[[T.start.node,T.start.offset]];T.native.collapsed||L.push([T.end.node,T.end.offset]);var B=L.map(function(X){var ie=s(X,2),re=ie[0],K=ie[1],Q=d.default.find(re,!0),M=Q.offset(D.scroll);return K===0?M:Q instanceof d.default.Container?M+Q.length():M+Q.index(re,K)}),U=Math.min(Math.max.apply(Math,x(B)),this.scroll.length()-1),Y=Math.min.apply(Math,[U].concat(x(B)));return new C(Y,U-Y)}},{key:"normalizeNative",value:function(T){if(!A(this.root,T.startContainer)||!T.collapsed&&!A(this.root,T.endContainer))return null;var D={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[D.start,D.end].forEach(function(L){for(var B=L.node,U=L.offset;!(B instanceof Text)&&B.childNodes.length>0;)if(B.childNodes.length>U)B=B.childNodes[U],U=0;else if(B.childNodes.length===U)B=B.lastChild,U=B instanceof Text?B.data.length:B.childNodes.length+1;else break;L.node=B,L.offset=U}),D}},{key:"rangeToNative",value:function(T){var D=this,L=T.collapsed?[T.index]:[T.index,T.index+T.length],B=[],U=this.scroll.length();return L.forEach(function(Y,X){Y=Math.min(U-1,Y);var ie=void 0,re=D.scroll.leaf(Y),K=s(re,2),Q=K[0],M=K[1],$=Q.position(M,X!==0),G=s($,2);ie=G[0],M=G[1],B.push(ie,M)}),B.length<2&&(B=B.concat(B)),B}},{key:"scrollIntoView",value:function(T){var D=this.lastRange;if(D!=null){var L=this.getBounds(D.index,D.length);if(L!=null){var B=this.scroll.length()-1,U=this.scroll.line(Math.min(D.index,B)),Y=s(U,1),X=Y[0],ie=X;if(D.length>0){var re=this.scroll.line(Math.min(D.index+D.length,B)),K=s(re,1);ie=K[0]}if(!(X==null||ie==null)){var Q=T.getBoundingClientRect();L.top<Q.top?T.scrollTop-=Q.top-L.top:L.bottom>Q.bottom&&(T.scrollTop+=L.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(T,D){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",T,D,L,B),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||L.parentNode==null))){var Y=document.getSelection();if(Y!=null)if(T!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||U||T!==X.startContainer||D!==X.startOffset||L!==X.endContainer||B!==X.endOffset){T.tagName=="BR"&&(D=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),L.tagName=="BR"&&(B=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var ie=document.createRange();ie.setStart(T,D),ie.setEnd(L,B),Y.removeAllRanges(),Y.addRange(ie)}}else Y.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof D=="string"&&(L=D,D=!1),w.info("setRange",T),T!=null){var B=this.rangeToNative(T);this.setNativeRange.apply(this,x(B).concat([D]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,D=this.lastRange,L=this.getRange(),B=s(L,2),U=B[0],Y=B[1];if(this.lastRange=U,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(D,this.lastRange)){var X;!this.composing&&Y!=null&&Y.native.collapsed&&Y.start.node!==this.cursor.textNode&&this.cursor.restore();var ie=[_.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(D),T];if((X=this.emitter).emit.apply(X,[_.default.events.EDITOR_CHANGE].concat(ie)),T!==_.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,ie)}}}}]),P})();function A(P,q){try{q.parentNode}catch{return!1}return q instanceof Text&&(q=q.parentNode),P.contains(q)}n.Range=C,n.default=O}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function _(y,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,b,E){return b&&_(y.prototype,b),E&&_(y,E),y}})(),a=function _(y,b,E){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,b);if(x===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:_(j,b,E)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(E)}},u=i(0),d=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function p(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=(function(_){m(y,_);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(E,x){E.children.length===0?a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,E,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y})(d.default.Embed);g.blotName="break",g.tagName="BR",n.default=g}),(function(r,n,i){var s=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)g.hasOwnProperty(_)&&(m[_]=g[_])};return function(m,g){p(m,g);function _(){this.constructor=m}m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(44),u=i(30),d=i(1),h=(function(p){s(m,p);function m(g){var _=p.call(this,g)||this;return _.build(),_}return m.prototype.appendChild=function(g){this.insertBefore(g)},m.prototype.attach=function(){p.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},m.prototype.build=function(){var g=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var y=f(_);g.insertBefore(y,g.children.head||void 0)}catch(b){if(b instanceof d.ParchmentError)return;throw b}})},m.prototype.deleteAt=function(g,_){if(g===0&&_===this.length())return this.remove();this.children.forEachAt(g,_,function(y,b,E){y.deleteAt(b,E)})},m.prototype.descendant=function(g,_){var y=this.children.find(_),b=y[0],E=y[1];return g.blotName==null&&g(b)||g.blotName!=null&&b instanceof g?[b,E]:b instanceof m?b.descendant(g,E):[null,-1]},m.prototype.descendants=function(g,_,y){_===void 0&&(_=0),y===void 0&&(y=Number.MAX_VALUE);var b=[],E=y;return this.children.forEachAt(_,y,function(x,j,w){(g.blotName==null&&g(x)||g.blotName!=null&&x instanceof g)&&b.push(x),x instanceof m&&(b=b.concat(x.descendants(g,j,E))),E-=w}),b},m.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),p.prototype.detach.call(this)},m.prototype.formatAt=function(g,_,y,b){this.children.forEachAt(g,_,function(E,x,j){E.formatAt(x,j,y,b)})},m.prototype.insertAt=function(g,_,y){var b=this.children.find(g),E=b[0],x=b[1];if(E)E.insertAt(x,_,y);else{var j=y==null?d.create("text",_):d.create(_,y);this.appendChild(j)}},m.prototype.insertBefore=function(g,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return g instanceof y}))throw new d.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,_)},m.prototype.length=function(){return this.children.reduce(function(g,_){return g+_.length()},0)},m.prototype.moveChildren=function(g,_){this.children.forEach(function(y){g.insertBefore(y,_)})},m.prototype.optimize=function(g){if(p.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var _=d.create(this.statics.defaultChild);this.appendChild(_),_.optimize(g)}else this.remove()},m.prototype.path=function(g,_){_===void 0&&(_=!1);var y=this.children.find(g,_),b=y[0],E=y[1],x=[[this,g]];return b instanceof m?x.concat(b.path(E,_)):(b!=null&&x.push([b,E]),x)},m.prototype.removeChild=function(g){this.children.remove(g)},m.prototype.replace=function(g){g instanceof m&&g.moveChildren(this),p.prototype.replace.call(this,g)},m.prototype.split=function(g,_){if(_===void 0&&(_=!1),!_){if(g===0)return this;if(g===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(g,this.length(),function(b,E,x){b=b.split(E,_),y.appendChild(b)}),y},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(g,_){var y=this,b=[],E=[];g.forEach(function(x){x.target===y.domNode&&x.type==="childList"&&(b.push.apply(b,x.addedNodes),E.push.apply(E,x.removedNodes))}),E.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var j=d.find(x);j!=null&&(j.domNode.parentNode==null||j.domNode.parentNode===y.domNode)&&j.detach()}}),b.filter(function(x){return x.parentNode==y.domNode}).sort(function(x,j){return x===j?0:x.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var j=null;x.nextSibling!=null&&(j=d.find(x.nextSibling));var w=f(x);(w.next!=j||w.next==null)&&(w.parent!=null&&w.parent.removeChild(y),y.insertBefore(w,j||void 0))})},m})(u.default);function f(p){var m=d.find(p);if(m==null)try{m=d.create(p)}catch{m=d.create(d.Scope.INLINE),[].slice.call(p.childNodes).forEach(function(_){m.domNode.appendChild(_)}),p.parentNode&&p.parentNode.replaceChild(m.domNode,p),m.attach()}return m}n.default=h}),(function(r,n,i){var s=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)g.hasOwnProperty(_)&&(m[_]=g[_])};return function(m,g){p(m,g);function _(){this.constructor=m}m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),u=i(31),d=i(17),h=i(1),f=(function(p){s(m,p);function m(g){var _=p.call(this,g)||this;return _.attributes=new u.default(_.domNode),_}return m.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},m.prototype.format=function(g,_){var y=h.query(g);y instanceof a.default?this.attributes.attribute(y,_):_&&y!=null&&(g!==this.statics.blotName||this.formats()[g]!==_)&&this.replaceWith(g,_)},m.prototype.formats=function(){var g=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(g[this.statics.blotName]=_),g},m.prototype.replaceWith=function(g,_){var y=p.prototype.replaceWith.call(this,g,_);return this.attributes.copy(y),y},m.prototype.update=function(g,_){var y=this;p.prototype.update.call(this,g,_),g.some(function(b){return b.target===y.domNode&&b.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(g,_){var y=p.prototype.wrap.call(this,g,_);return y instanceof m&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},m})(d.default);n.default=f}),(function(r,n,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(30),u=i(1),d=(function(h){s(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.value=function(p){return!0},f.prototype.index=function(p,m){return this.domNode===p||this.domNode.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},f.prototype.position=function(p,m){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return p>0&&(g+=1),[this.parent.domNode,g]},f.prototype.value=function(){var p;return p={},p[this.statics.blotName]=this.statics.value(this.domNode)||!0,p},f.scope=u.Scope.INLINE_BLOT,f})(a.default);n.default=d}),(function(r,n,i){var s=i(11),a=i(3),u={attributes:{compose:function(h,f,p){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var m=a(!0,{},f);p||(m=Object.keys(m).reduce(function(_,y){return m[y]!=null&&(_[y]=m[y]),_},{}));for(var g in h)h[g]!==void 0&&f[g]===void 0&&(m[g]=h[g]);return Object.keys(m).length>0?m:void 0},diff:function(h,f){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var p=Object.keys(h).concat(Object.keys(f)).reduce(function(m,g){return s(h[g],f[g])||(m[g]=f[g]===void 0?null:f[g]),m},{});return Object.keys(p).length>0?p:void 0},transform:function(h,f,p){if(typeof h!="object")return f;if(typeof f=="object"){if(!p)return f;var m=Object.keys(f).reduce(function(g,_){return h[_]===void 0&&(g[_]=f[_]),g},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(h){return new d(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function d(h){this.ops=h,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(h){h||(h=1/0);var f=this.ops[this.index];if(f){var p=this.offset,m=u.length(f);if(h>=m-p?(h=m-p,this.index+=1,this.offset=0):this.offset+=h,typeof f.delete=="number")return{delete:h};var g={};return f.attributes&&(g.attributes=f.attributes),typeof f.retain=="number"?g.retain=h:typeof f.insert=="string"?g.insert=f.insert.substr(p,h):g.insert=f.insert,g}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?u.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,f=this.index,p=this.next(),m=this.ops.slice(this.index);return this.offset=h,this.index=f,[p].concat(m)}else return[]},r.exports=u}),(function(r,n){var i=(function(){function s(y,b){return b!=null&&y instanceof b}var a;try{a=Map}catch{a=function(){}}var u;try{u=Set}catch{u=function(){}}var d;try{d=Promise}catch{d=function(){}}function h(y,b,E,x,j){typeof b=="object"&&(E=b.depth,x=b.prototype,j=b.includeNonEnumerable,b=b.circular);var w=[],C=[],O=typeof Sa<"u";typeof b>"u"&&(b=!0),typeof E>"u"&&(E=1/0);function A(P,q){if(P===null)return null;if(q===0)return P;var T,D;if(typeof P!="object")return P;if(s(P,a))T=new a;else if(s(P,u))T=new u;else if(s(P,d))T=new d(function(Q,M){P.then(function($){Q(A($,q-1))},function($){M(A($,q-1))})});else if(h.__isArray(P))T=[];else if(h.__isRegExp(P))T=new RegExp(P.source,_(P)),P.lastIndex&&(T.lastIndex=P.lastIndex);else if(h.__isDate(P))T=new Date(P.getTime());else{if(O&&Sa.isBuffer(P))return Sa.allocUnsafe?T=Sa.allocUnsafe(P.length):T=new Sa(P.length),P.copy(T),T;s(P,Error)?T=Object.create(P):typeof x>"u"?(D=Object.getPrototypeOf(P),T=Object.create(D)):(T=Object.create(x),D=x)}if(b){var L=w.indexOf(P);if(L!=-1)return C[L];w.push(P),C.push(T)}s(P,a)&&P.forEach(function(Q,M){var $=A(M,q-1),G=A(Q,q-1);T.set($,G)}),s(P,u)&&P.forEach(function(Q){var M=A(Q,q-1);T.add(M)});for(var B in P){var U;D&&(U=Object.getOwnPropertyDescriptor(D,B)),!(U&&U.set==null)&&(T[B]=A(P[B],q-1))}if(Object.getOwnPropertySymbols)for(var Y=Object.getOwnPropertySymbols(P),B=0;B<Y.length;B++){var X=Y[B],ie=Object.getOwnPropertyDescriptor(P,X);ie&&!ie.enumerable&&!j||(T[X]=A(P[X],q-1),ie.enumerable||Object.defineProperty(T,X,{enumerable:!1}))}if(j)for(var re=Object.getOwnPropertyNames(P),B=0;B<re.length;B++){var K=re[B],ie=Object.getOwnPropertyDescriptor(P,K);ie&&ie.enumerable||(T[K]=A(P[K],q-1),Object.defineProperty(T,K,{enumerable:!1}))}return T}return A(y,E)}h.clonePrototype=function(b){if(b===null)return null;var E=function(){};return E.prototype=b,new E};function f(y){return Object.prototype.toString.call(y)}h.__objToStr=f;function p(y){return typeof y=="object"&&f(y)==="[object Date]"}h.__isDate=p;function m(y){return typeof y=="object"&&f(y)==="[object Array]"}h.__isArray=m;function g(y){return typeof y=="object"&&f(y)==="[object RegExp]"}h.__isRegExp=g;function _(y){var b="";return y.global&&(b+="g"),y.ignoreCase&&(b+="i"),y.multiline&&(b+="m"),b}return h.__getRegExpFlags=_,h})();typeof r=="object"&&r.exports&&(r.exports=i)}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function T(D,L){var B=[],U=!0,Y=!1,X=void 0;try{for(var ie=D[Symbol.iterator](),re;!(U=(re=ie.next()).done)&&(B.push(re.value),!(L&&B.length===L));U=!0);}catch(K){Y=!0,X=K}finally{try{!U&&ie.return&&ie.return()}finally{if(Y)throw X}}return B}return function(D,L){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return T(D,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function T(D,L){for(var B=0;B<L.length;B++){var U=L[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,U.key,U)}}return function(D,L,B){return L&&T(D.prototype,L),B&&T(D,B),D}})(),u=function T(D,L,B){D===null&&(D=Function.prototype);var U=Object.getOwnPropertyDescriptor(D,L);if(U===void 0){var Y=Object.getPrototypeOf(D);return Y===null?void 0:T(Y,L,B)}else{if("value"in U)return U.value;var X=U.get;return X===void 0?void 0:X.call(B)}},d=i(0),h=w(d),f=i(8),p=w(f),m=i(4),g=w(m),_=i(16),y=w(_),b=i(13),E=w(b),x=i(25),j=w(x);function w(T){return T&&T.__esModule?T:{default:T}}function C(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function O(T,D){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:T}function A(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(T,D):T.__proto__=D)}function P(T){return T instanceof g.default||T instanceof m.BlockEmbed}var q=(function(T){A(D,T);function D(L,B){C(this,D);var U=O(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L));return U.emitter=B.emitter,Array.isArray(B.whitelist)&&(U.whitelist=B.whitelist.reduce(function(Y,X){return Y[X]=!0,Y},{})),U.domNode.addEventListener("DOMNodeInserted",function(){}),U.optimize(),U.enable(),U}return a(D,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(B,U){var Y=this.line(B),X=s(Y,2),ie=X[0],re=X[1],K=this.line(B+U),Q=s(K,1),M=Q[0];if(u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,B,U),M!=null&&ie!==M&&re>0){if(ie instanceof m.BlockEmbed||M instanceof m.BlockEmbed){this.optimize();return}if(ie instanceof E.default){var $=ie.newlineIndex(ie.length(),!0);if($>-1&&(ie=ie.split($+1),ie===M)){this.optimize();return}}else if(M instanceof E.default){var G=M.newlineIndex(0);G>-1&&M.split(G+1)}var te=M.children.head instanceof y.default?null:M.children.head;ie.moveChildren(M,te),ie.remove()}this.optimize()}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",B)}},{key:"formatAt",value:function(B,U,Y,X){this.whitelist!=null&&!this.whitelist[Y]||(u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,B,U,Y,X),this.optimize())}},{key:"insertAt",value:function(B,U,Y){if(!(Y!=null&&this.whitelist!=null&&!this.whitelist[U])){if(B>=this.length())if(Y==null||h.default.query(U,h.default.Scope.BLOCK)==null){var X=h.default.create(this.statics.defaultChild);this.appendChild(X),Y==null&&U.endsWith(`
`)&&(U=U.slice(0,-1)),X.insertAt(0,U,Y)}else{var ie=h.default.create(U,Y);this.appendChild(ie)}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,B,U,Y);this.optimize()}}},{key:"insertBefore",value:function(B,U){if(B.statics.scope===h.default.Scope.INLINE_BLOT){var Y=h.default.create(this.statics.defaultChild);Y.appendChild(B),B=Y}u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,B,U)}},{key:"leaf",value:function(B){return this.path(B).pop()||[null,-1]}},{key:"line",value:function(B){return B===this.length()?this.line(B-1):this.descendant(P,B)}},{key:"lines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Y=function X(ie,re,K){var Q=[],M=K;return ie.children.forEachAt(re,K,function($,G,te){P($)?Q.push($):$ instanceof h.default.Container&&(Q=Q.concat(X($,G,M))),M-=te}),Q};return Y(this,B,U)}},{key:"optimize",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,B,U),B.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,B,U))}},{key:"path",value:function(B){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,B).slice(1)}},{key:"update",value:function(B){if(this.batch!==!0){var U=p.default.sources.USER;typeof B=="string"&&(U=B),Array.isArray(B)||(B=this.observer.takeRecords()),B.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,U,B),u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"update",this).call(this,B.concat([])),B.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,U,B)}}}]),D})(h.default.Scroll);q.blotName="scroll",q.className="ql-editor",q.tagName="DIV",q.defaultChild="block",q.allowedChildren=[g.default,m.BlockEmbed,j.default],n.default=q}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},a=(function(){function W(Z,le){var ce=[],me=!0,je=!1,Te=void 0;try{for(var ze=Z[Symbol.iterator](),Ze;!(me=(Ze=ze.next()).done)&&(ce.push(Ze.value),!(le&&ce.length===le));me=!0);}catch(pt){je=!0,Te=pt}finally{try{!me&&ze.return&&ze.return()}finally{if(je)throw Te}}return ce}return function(Z,le){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return W(Z,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),u=(function(){function W(Z,le){for(var ce=0;ce<le.length;ce++){var me=le[ce];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(Z,me.key,me)}}return function(Z,le,ce){return le&&W(Z.prototype,le),ce&&W(Z,ce),Z}})(),d=i(21),h=T(d),f=i(11),p=T(f),m=i(3),g=T(m),_=i(2),y=T(_),b=i(20),E=T(b),x=i(0),j=T(x),w=i(5),C=T(w),O=i(10),A=T(O),P=i(9),q=T(P);function T(W){return W&&W.__esModule?W:{default:W}}function D(W,Z,le){return Z in W?Object.defineProperty(W,Z,{value:le,enumerable:!0,configurable:!0,writable:!0}):W[Z]=le,W}function L(W,Z){if(!(W instanceof Z))throw new TypeError("Cannot call a class as a function")}function B(W,Z){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:W}function U(W,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);W.prototype=Object.create(Z&&Z.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(W,Z):W.__proto__=Z)}var Y=(0,A.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ie=(function(W){U(Z,W),u(Z,null,[{key:"match",value:function(ce,me){return me=ee(me),["altKey","ctrlKey","metaKey","shiftKey"].some(function(je){return!!me[je]!==ce[je]&&me[je]!==null})?!1:me.key===(ce.which||ce.keyCode)}}]);function Z(le,ce){L(this,Z);var me=B(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,le,ce));return me.bindings={},Object.keys(me.options.bindings).forEach(function(je){je==="list autofill"&&le.scroll.whitelist!=null&&!le.scroll.whitelist.list||me.options.bindings[je]&&me.addBinding(me.options.bindings[je])}),me.addBinding({key:Z.keys.ENTER,shiftKey:null},$),me.addBinding({key:Z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(me.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0},K),me.addBinding({key:Z.keys.DELETE},{collapsed:!0},Q)):(me.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},K),me.addBinding({key:Z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Q)),me.addBinding({key:Z.keys.BACKSPACE},{collapsed:!1},M),me.addBinding({key:Z.keys.DELETE},{collapsed:!1},M),me.addBinding({key:Z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},K),me.listen(),me}return u(Z,[{key:"addBinding",value:function(ce){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Te=ee(ce);if(Te==null||Te.key==null)return Y.warn("Attempted to add invalid keyboard binding",Te);typeof me=="function"&&(me={handler:me}),typeof je=="function"&&(je={handler:je}),Te=(0,g.default)(Te,me,je),this.bindings[Te.key]=this.bindings[Te.key]||[],this.bindings[Te.key].push(Te)}},{key:"listen",value:function(){var ce=this;this.quill.root.addEventListener("keydown",function(me){if(!me.defaultPrevented){var je=me.which||me.keyCode,Te=(ce.bindings[je]||[]).filter(function(V){return Z.match(me,V)});if(Te.length!==0){var ze=ce.quill.getSelection();if(!(ze==null||!ce.quill.hasFocus())){var Ze=ce.quill.getLine(ze.index),pt=a(Ze,2),_t=pt[0],xt=pt[1],xe=ce.quill.getLeaf(ze.index),_e=a(xe,2),J=_e[0],oe=_e[1],ae=ze.length===0?[J,oe]:ce.quill.getLeaf(ze.index+ze.length),Ee=a(ae,2),he=Ee[0],ve=Ee[1],Oe=J instanceof j.default.Text?J.value().slice(0,oe):"",lt=he instanceof j.default.Text?he.value().slice(ve):"",He={collapsed:ze.length===0,empty:ze.length===0&&_t.length()<=1,format:ce.quill.getFormat(ze),offset:xt,prefix:Oe,suffix:lt},Et=Te.some(function(V){if(V.collapsed!=null&&V.collapsed!==He.collapsed||V.empty!=null&&V.empty!==He.empty||V.offset!=null&&V.offset!==He.offset)return!1;if(Array.isArray(V.format)){if(V.format.every(function(R){return He.format[R]==null}))return!1}else if(s(V.format)==="object"&&!Object.keys(V.format).every(function(R){return V.format[R]===!0?He.format[R]!=null:V.format[R]===!1?He.format[R]==null:(0,p.default)(V.format[R],He.format[R])}))return!1;return V.prefix!=null&&!V.prefix.test(He.prefix)||V.suffix!=null&&!V.suffix.test(He.suffix)?!1:V.handler.call(ce,ze,He)!==!0});Et&&me.preventDefault()}}}})}}]),Z})(q.default);ie.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ie.DEFAULTS={bindings:{bold:te("bold"),italic:te("italic"),underline:te("underline"),indent:{key:ie.keys.TAB,format:["blockquote","indent","list"],handler:function(Z,le){if(le.collapsed&&le.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:ie.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Z,le){if(le.collapsed&&le.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:ie.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Z,le){le.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):le.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":G(!0),"outdent code-block":G(!1),"remove tab":{key:ie.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Z){this.quill.deleteText(Z.index-1,1,C.default.sources.USER)}},tab:{key:ie.keys.TAB,handler:function(Z){this.quill.history.cutoff();var le=new y.default().retain(Z.index).delete(Z.length).insert("	");this.quill.updateContents(le,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,C.default.sources.SILENT)}},"list empty enter":{key:ie.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Z,le){this.quill.format("list",!1,C.default.sources.USER),le.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:ie.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Z){var le=this.quill.getLine(Z.index),ce=a(le,2),me=ce[0],je=ce[1],Te=(0,g.default)({},me.formats(),{list:"checked"}),ze=new y.default().retain(Z.index).insert(`
`,Te).retain(me.length()-je-1).retain(1,{list:"unchecked"});this.quill.updateContents(ze,C.default.sources.USER),this.quill.setSelection(Z.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ie.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Z,le){var ce=this.quill.getLine(Z.index),me=a(ce,2),je=me[0],Te=me[1],ze=new y.default().retain(Z.index).insert(`
`,le.format).retain(je.length()-Te-1).retain(1,{header:null});this.quill.updateContents(ze,C.default.sources.USER),this.quill.setSelection(Z.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Z,le){var ce=le.prefix.length,me=this.quill.getLine(Z.index),je=a(me,2),Te=je[0],ze=je[1];if(ze>ce)return!0;var Ze=void 0;switch(le.prefix.trim()){case"[]":case"[ ]":Ze="unchecked";break;case"[x]":Ze="checked";break;case"-":case"*":Ze="bullet";break;default:Ze="ordered"}this.quill.insertText(Z.index," ",C.default.sources.USER),this.quill.history.cutoff();var pt=new y.default().retain(Z.index-ze).delete(ce+1).retain(Te.length()-2-ze).retain(1,{list:Ze});this.quill.updateContents(pt,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-ce,C.default.sources.SILENT)}},"code exit":{key:ie.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Z){var le=this.quill.getLine(Z.index),ce=a(le,2),me=ce[0],je=ce[1],Te=new y.default().retain(Z.index+me.length()-je-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Te,C.default.sources.USER)}},"embed left":re(ie.keys.LEFT,!1),"embed left shift":re(ie.keys.LEFT,!0),"embed right":re(ie.keys.RIGHT,!1),"embed right shift":re(ie.keys.RIGHT,!0)}};function re(W,Z){var le,ce=W===ie.keys.LEFT?"prefix":"suffix";return le={key:W,shiftKey:Z,altKey:null},D(le,ce,/^$/),D(le,"handler",function(je){var Te=je.index;W===ie.keys.RIGHT&&(Te+=je.length+1);var ze=this.quill.getLeaf(Te),Ze=a(ze,1),pt=Ze[0];return pt instanceof j.default.Embed?(W===ie.keys.LEFT?Z?this.quill.setSelection(je.index-1,je.length+1,C.default.sources.USER):this.quill.setSelection(je.index-1,C.default.sources.USER):Z?this.quill.setSelection(je.index,je.length+1,C.default.sources.USER):this.quill.setSelection(je.index+je.length+1,C.default.sources.USER),!1):!0}),le}function K(W,Z){if(!(W.index===0||this.quill.getLength()<=1)){var le=this.quill.getLine(W.index),ce=a(le,1),me=ce[0],je={};if(Z.offset===0){var Te=this.quill.getLine(W.index-1),ze=a(Te,1),Ze=ze[0];if(Ze!=null&&Ze.length()>1){var pt=me.formats(),_t=this.quill.getFormat(W.index-1,1);je=E.default.attributes.diff(pt,_t)||{}}}var xt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Z.prefix)?2:1;this.quill.deleteText(W.index-xt,xt,C.default.sources.USER),Object.keys(je).length>0&&this.quill.formatLine(W.index-xt,xt,je,C.default.sources.USER),this.quill.focus()}}function Q(W,Z){var le=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Z.suffix)?2:1;if(!(W.index>=this.quill.getLength()-le)){var ce={},me=0,je=this.quill.getLine(W.index),Te=a(je,1),ze=Te[0];if(Z.offset>=ze.length()-1){var Ze=this.quill.getLine(W.index+1),pt=a(Ze,1),_t=pt[0];if(_t){var xt=ze.formats(),xe=this.quill.getFormat(W.index,1);ce=E.default.attributes.diff(xt,xe)||{},me=_t.length()}}this.quill.deleteText(W.index,le,C.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(W.index+me-1,le,ce,C.default.sources.USER)}}function M(W){var Z=this.quill.getLines(W),le={};if(Z.length>1){var ce=Z[0].formats(),me=Z[Z.length-1].formats();le=E.default.attributes.diff(me,ce)||{}}this.quill.deleteText(W,C.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(W.index,1,le,C.default.sources.USER),this.quill.setSelection(W.index,C.default.sources.SILENT),this.quill.focus()}function $(W,Z){var le=this;W.length>0&&this.quill.scroll.deleteAt(W.index,W.length);var ce=Object.keys(Z.format).reduce(function(me,je){return j.default.query(je,j.default.Scope.BLOCK)&&!Array.isArray(Z.format[je])&&(me[je]=Z.format[je]),me},{});this.quill.insertText(W.index,`
`,ce,C.default.sources.USER),this.quill.setSelection(W.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(Z.format).forEach(function(me){ce[me]==null&&(Array.isArray(Z.format[me])||me!=="link"&&le.quill.format(me,Z.format[me],C.default.sources.USER))})}function G(W){return{key:ie.keys.TAB,shiftKey:!W,format:{"code-block":!0},handler:function(le){var ce=j.default.query("code-block"),me=le.index,je=le.length,Te=this.quill.scroll.descendant(ce,me),ze=a(Te,2),Ze=ze[0],pt=ze[1];if(Ze!=null){var _t=this.quill.getIndex(Ze),xt=Ze.newlineIndex(pt,!0)+1,xe=Ze.newlineIndex(_t+pt+je),_e=Ze.domNode.textContent.slice(xt,xe).split(`
`);pt=0,_e.forEach(function(J,oe){W?(Ze.insertAt(xt+pt,ce.TAB),pt+=ce.TAB.length,oe===0?me+=ce.TAB.length:je+=ce.TAB.length):J.startsWith(ce.TAB)&&(Ze.deleteAt(xt+pt,ce.TAB.length),pt-=ce.TAB.length,oe===0?me-=ce.TAB.length:je-=ce.TAB.length),pt+=J.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(me,je,C.default.sources.SILENT)}}}}function te(W){return{key:W[0].toUpperCase(),shortKey:!0,handler:function(le,ce){this.quill.format(W,!ce.format[W],C.default.sources.USER)}}}function ee(W){if(typeof W=="string"||typeof W=="number")return ee({key:W});if((typeof W>"u"?"undefined":s(W))==="object"&&(W=(0,h.default)(W,!1)),typeof W.key=="string")if(ie.keys[W.key.toUpperCase()]!=null)W.key=ie.keys[W.key.toUpperCase()];else if(W.key.length===1)W.key=W.key.toUpperCase().charCodeAt(0);else return null;return W.shortKey&&(W[X]=W.shortKey,delete W.shortKey),W}n.default=ie,n.SHORTKEY=X}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function E(x,j){var w=[],C=!0,O=!1,A=void 0;try{for(var P=x[Symbol.iterator](),q;!(C=(q=P.next()).done)&&(w.push(q.value),!(j&&w.length===j));C=!0);}catch(T){O=!0,A=T}finally{try{!C&&P.return&&P.return()}finally{if(O)throw A}}return w}return function(x,j){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return E(x,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function E(x,j,w){x===null&&(x=Function.prototype);var C=Object.getOwnPropertyDescriptor(x,j);if(C===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:E(O,j,w)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(w)}},u=(function(){function E(x,j){for(var w=0;w<j.length;w++){var C=j[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,j,w){return j&&E(x.prototype,j),w&&E(x,w),x}})(),d=i(0),h=m(d),f=i(7),p=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function g(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function _(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function y(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var b=(function(E){y(x,E),u(x,null,[{key:"value",value:function(){}}]);function x(j,w){g(this,x);var C=_(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,j));return C.selection=w,C.textNode=document.createTextNode(x.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return u(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,C){if(this._length!==0)return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,w,C);for(var O=this,A=0;O!=null&&O.statics.scope!==h.default.Scope.BLOCK_BLOT;)A+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=x.CONTENTS.length,O.optimize(),O.formatAt(A,x.CONTENTS.length,w,C),this._length=0)}},{key:"index",value:function(w,C){return w===this.textNode?0:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,w,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,C=this.selection.getNativeRange(),O=void 0,A=void 0,P=void 0;if(C!=null&&C.start.node===w&&C.end.node===w){var q=[w,C.start.offset,C.end.offset];O=q[0],A=q[1],P=q[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var T=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof p.default?(O=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=x.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var D=[A,P].map(function(B){return Math.max(0,Math.min(O.data.length,B-1))}),L=s(D,2);return A=L[0],P=L[1],{startNode:O,startOffset:A,endNode:O,endOffset:P}}}}},{key:"update",value:function(w,C){var O=this;if(w.some(function(P){return P.type==="characterData"&&P.target===O.textNode})){var A=this.restore();A&&(C.range=A)}}},{key:"value",value:function(){return""}}]),x})(h.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",n.default=b}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=h(s),u=i(4),d=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function p(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=(function(_){m(y,_);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(a.default.Container);g.allowedChildren=[d.default,u.BlockEmbed,g],n.default=g}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var s=(function(){function b(E,x){for(var j=0;j<x.length;j++){var w=x[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,x,j){return x&&b(E.prototype,x),j&&b(E,j),E}})(),a=function b(E,x,j){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,x);if(w===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:b(C,x,j)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(j)}},u=i(0),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function p(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function m(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var g=(function(b){m(E,b);function E(){return f(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"value",value:function(j){var w=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,j);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):w}}]),E})(d.default.Attributor.Style),_=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),y=new g("color","color",{scope:d.default.Scope.INLINE});n.ColorAttributor=g,n.ColorClass=_,n.ColorStyle=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var s=(function(){function y(b,E){for(var x=0;x<E.length;x++){var j=E[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,E,x){return E&&y(b.prototype,E),x&&y(b,x),b}})(),a=function y(b,E,x){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,E);if(j===void 0){var w=Object.getPrototypeOf(b);return w===null?void 0:y(w,E,x)}else{if("value"in j)return j.value;var C=j.get;return C===void 0?void 0:C.call(x)}},u=i(6),d=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function p(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function m(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var g=(function(y){m(b,y);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(x,j){if(x!==this.statics.blotName||!j)return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,j);j=this.constructor.sanitize(j),this.domNode.setAttribute("href",j)}}],[{key:"create",value:function(x){var j=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,x);return x=this.sanitize(x),j.setAttribute("href",x),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return _(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),b})(d.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(y,b){var E=document.createElement("a");E.href=y;var x=E.href.slice(0,E.href.indexOf(":"));return b.indexOf(x)>-1}n.default=g,n.sanitize=_}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},a=(function(){function b(E,x){for(var j=0;j<x.length;j++){var w=x[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,x,j){return x&&b(E.prototype,x),j&&b(E,j),E}})(),u=i(23),d=p(u),h=i(107),f=p(h);function p(b){return b&&b.__esModule?b:{default:b}}function m(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}var g=0;function _(b,E){b.setAttribute(E,b.getAttribute(E)!=="true")}var y=(function(){function b(E){var x=this;m(this,b),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(j){switch(j.keyCode){case d.default.keys.ENTER:x.togglePicker();break;case d.default.keys.ESCAPE:x.escape(),j.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var j=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),x.hasAttribute("value")&&w.setAttribute("data-value",x.getAttribute("value")),x.textContent&&w.setAttribute("data-label",x.textContent),w.addEventListener("click",function(){j.selectItem(w,!0)}),w.addEventListener("keydown",function(C){switch(C.keyCode){case d.default.keys.ENTER:j.selectItem(w,!0),C.preventDefault();break;case d.default.keys.ESCAPE:j.escape(),C.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=f.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,j=document.createElement("span");j.classList.add("ql-picker-options"),j.setAttribute("aria-hidden","true"),j.tabIndex="-1",j.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",j.id),this.options=j,[].slice.call(this.select.options).forEach(function(w){var C=x.buildItem(w);j.appendChild(C),w.selected===!0&&x.selectItem(C)}),this.container.appendChild(j)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(j){x.container.setAttribute(j.name,j.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(x!==w&&(w!=null&&w.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),j))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);var w=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),b})();n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),a=Y(s),u=i(5),d=Y(u),h=i(4),f=Y(h),p=i(16),m=Y(p),g=i(25),_=Y(g),y=i(24),b=Y(y),E=i(35),x=Y(E),j=i(6),w=Y(j),C=i(22),O=Y(C),A=i(7),P=Y(A),q=i(55),T=Y(q),D=i(42),L=Y(D),B=i(23),U=Y(B);function Y(X){return X&&X.__esModule?X:{default:X}}d.default.register({"blots/block":f.default,"blots/block/embed":h.BlockEmbed,"blots/break":m.default,"blots/container":_.default,"blots/cursor":b.default,"blots/embed":x.default,"blots/inline":w.default,"blots/scroll":O.default,"blots/text":P.default,"modules/clipboard":T.default,"modules/history":L.default,"modules/keyboard":U.default}),a.default.register(f.default,m.default,b.default,w.default,O.default,P.default),n.default=d.default}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),a=(function(){function u(d){this.domNode=d,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(u.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),u.create=function(d){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?h=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?h=document.createElement(d):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},u.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},u.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return s.create(d)},u.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},u.prototype.deleteAt=function(d,h){var f=this.isolate(d,h);f.remove()},u.prototype.formatAt=function(d,h,f,p){var m=this.isolate(d,h);if(s.query(f,s.Scope.BLOT)!=null&&p)m.wrap(f,p);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var g=s.create(this.statics.scope);m.wrap(g),g.format(f,p)}},u.prototype.insertAt=function(d,h,f){var p=f==null?s.create("text",h):s.create(h,f),m=this.split(d);this.parent.insertBefore(p,m)},u.prototype.insertInto=function(d,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var f=null;d.children.insertBefore(this,h),h!=null&&(f=h.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=f)&&d.domNode.insertBefore(this.domNode,f),this.parent=d,this.attach()},u.prototype.isolate=function(d,h){var f=this.split(d);return f.split(h),f},u.prototype.length=function(){return 1},u.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},u.prototype.optimize=function(d){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},u.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},u.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},u.prototype.replaceWith=function(d,h){var f=typeof d=="string"?s.create(d,h):d;return f.replace(this),f},u.prototype.split=function(d,h){return d===0?this:this.next},u.prototype.update=function(d,h){},u.prototype.wrap=function(d,h){var f=typeof d=="string"?s.create(d,h):d;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},u.blotName="abstract",u})();n.default=a}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),a=i(32),u=i(33),d=i(1),h=(function(){function f(p){this.attributes={},this.domNode=p,this.build()}return f.prototype.attribute=function(p,m){m?p.add(this.domNode,m)&&(p.value(this.domNode)!=null?this.attributes[p.attrName]=p:delete this.attributes[p.attrName]):(p.remove(this.domNode),delete this.attributes[p.attrName])},f.prototype.build=function(){var p=this;this.attributes={};var m=s.default.keys(this.domNode),g=a.default.keys(this.domNode),_=u.default.keys(this.domNode);m.concat(g).concat(_).forEach(function(y){var b=d.query(y,d.Scope.ATTRIBUTE);b instanceof s.default&&(p.attributes[b.attrName]=b)})},f.prototype.copy=function(p){var m=this;Object.keys(this.attributes).forEach(function(g){var _=m.attributes[g].value(m.domNode);p.format(g,_)})},f.prototype.move=function(p){var m=this;this.copy(p),Object.keys(this.attributes).forEach(function(g){m.attributes[g].remove(m.domNode)}),this.attributes={}},f.prototype.values=function(){var p=this;return Object.keys(this.attributes).reduce(function(m,g){return m[g]=p.attributes[g].value(p.domNode),m},{})},f})();n.default=h}),(function(r,n,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function u(h,f){var p=h.getAttribute("class")||"";return p.split(/\s+/).filter(function(m){return m.indexOf(f+"-")===0})}var d=(function(h){s(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(p){return(p.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},f.prototype.add=function(p,m){return this.canAdd(p,m)?(this.remove(p),p.classList.add(this.keyName+"-"+m),!0):!1},f.prototype.remove=function(p){var m=u(p,this.keyName);m.forEach(function(g){p.classList.remove(g)}),p.classList.length===0&&p.removeAttribute("class")},f.prototype.value=function(p){var m=u(p,this.keyName)[0]||"",g=m.slice(this.keyName.length+1);return this.canAdd(p,g)?g:""},f})(a.default);n.default=d}),(function(r,n,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function u(h){var f=h.split("-"),p=f.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return f[0]+p}var d=(function(h){s(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(p){return(p.getAttribute("style")||"").split(";").map(function(m){var g=m.split(":");return g[0].trim()})},f.prototype.add=function(p,m){return this.canAdd(p,m)?(p.style[u(this.keyName)]=m,!0):!1},f.prototype.remove=function(p){p.style[u(this.keyName)]="",p.getAttribute("style")||p.removeAttribute("style")},f.prototype.value=function(p){var m=p.style[u(this.keyName)];return this.canAdd(p,m)?m:""},f})(a.default);n.default=d}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function d(h,f){for(var p=0;p<f.length;p++){var m=f[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,f,p){return f&&d(h.prototype,f),p&&d(h,p),h}})();function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var u=(function(){function d(h,f){a(this,d),this.quill=h,this.options=f,this.modules={}}return s(d,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(p){f.modules[p]==null&&f.addModule(p)})}},{key:"addModule",value:function(f){var p=this.quill.constructor.import("modules/"+f);return this.modules[f]=new p(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),d})();u.DEFAULTS={modules:{}},u.themes={default:u},n.default=u}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function E(x,j){for(var w=0;w<j.length;w++){var C=j[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,j,w){return j&&E(x.prototype,j),w&&E(x,w),x}})(),a=function E(x,j,w){x===null&&(x=Function.prototype);var C=Object.getOwnPropertyDescriptor(x,j);if(C===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:E(O,j,w)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(w)}},u=i(0),d=p(u),h=i(7),f=p(h);function p(E){return E&&E.__esModule?E:{default:E}}function m(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function g(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function _(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var y="\uFEFF",b=(function(E){_(x,E);function x(j){m(this,x);var w=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,j));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(C){w.contentNode.appendChild(C)}),w.leftGuard=document.createTextNode(y),w.rightGuard=document.createTextNode(y),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return s(x,[{key:"index",value:function(w,C){return w===this.leftGuard?0:w===this.rightGuard?1:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,w,C)}},{key:"restore",value:function(w){var C=void 0,O=void 0,A=w.data.split(y).join("");if(w===this.leftGuard)if(this.prev instanceof f.default){var P=this.prev.length();this.prev.insertAt(P,A),C={startNode:this.prev.domNode,startOffset:P+A.length}}else O=document.createTextNode(A),this.parent.insertBefore(d.default.create(O),this),C={startNode:O,startOffset:A.length};else w===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,A),C={startNode:this.next.domNode,startOffset:A.length}):(O=document.createTextNode(A),this.parent.insertBefore(d.default.create(O),this.next),C={startNode:O,startOffset:A.length}));return w.data=y,C}},{key:"update",value:function(w,C){var O=this;w.forEach(function(A){if(A.type==="characterData"&&(A.target===O.leftGuard||A.target===O.rightGuard)){var P=O.restore(A.target);P&&(C.range=P)}})}}]),x})(d.default.Embed);n.default=b}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var s=i(0),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}var d={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new a.default.Attributor.Attribute("align","align",d),f=new a.default.Attributor.Class("align","ql-align",d),p=new a.default.Attributor.Style("align","text-align",d);n.AlignAttribute=h,n.AlignClass=f,n.AlignStyle=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var s=i(0),a=d(s),u=i(26);function d(p){return p&&p.__esModule?p:{default:p}}var h=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),f=new u.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});n.BackgroundClass=h,n.BackgroundStyle=f}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var s=i(0),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}var d={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},h=new a.default.Attributor.Attribute("direction","dir",d),f=new a.default.Attributor.Class("direction","ql-direction",d),p=new a.default.Attributor.Style("direction","direction",d);n.DirectionAttribute=h,n.DirectionClass=f,n.DirectionStyle=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var s=(function(){function E(x,j){for(var w=0;w<j.length;w++){var C=j[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,j,w){return j&&E(x.prototype,j),w&&E(x,w),x}})(),a=function E(x,j,w){x===null&&(x=Function.prototype);var C=Object.getOwnPropertyDescriptor(x,j);if(C===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:E(O,j,w)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(w)}},u=i(0),d=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function f(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function p(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function m(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var g={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new d.default.Attributor.Class("font","ql-font",g),y=(function(E){m(x,E);function x(){return f(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(w){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),x})(d.default.Attributor.Style),b=new y("font","font-family",g);n.FontStyle=b,n.FontClass=_}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var s=i(0),a=u(s);function u(f){return f&&f.__esModule?f:{default:f}}var d=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=d,n.SizeStyle=h}),(function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var s=(function(){function j(w,C){for(var O=0;O<C.length;O++){var A=C[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,C,O){return C&&j(w.prototype,C),O&&j(w,O),w}})(),a=i(0),u=m(a),d=i(5),h=m(d),f=i(9),p=m(f);function m(j){return j&&j.__esModule?j:{default:j}}function g(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function _(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function y(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var b=(function(j){y(w,j);function w(C,O){g(this,w);var A=_(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,C,O));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(h.default.events.EDITOR_CHANGE,function(P,q,T,D){P!==h.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||D===h.default.sources.USER?A.record(q,T):A.transform(q))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return s(w,[{key:"change",value:function(O,A){if(this.stack[O].length!==0){var P=this.stack[O].pop();this.stack[A].push(P),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(P[O],h.default.sources.USER),this.ignoreChange=!1;var q=x(P[O]);this.quill.setSelection(q)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,A){if(O.ops.length!==0){this.stack.redo=[];var P=this.quill.getContents().diff(A),q=Date.now();if(this.lastRecorded+this.options.delay>q&&this.stack.undo.length>0){var T=this.stack.undo.pop();P=P.compose(T.undo),O=T.redo.compose(O)}else this.lastRecorded=q;this.stack.undo.push({redo:O,undo:P}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(A){A.undo=O.transform(A.undo,!0),A.redo=O.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=O.transform(A.undo,!0),A.redo=O.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w})(p.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(j){var w=j.ops[j.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(C){return u.default.query(C,u.default.Scope.BLOCK)!=null}):!1}function x(j){var w=j.reduce(function(O,A){return O+=A.delete||0,O},0),C=j.length()-w;return E(j)&&(C-=1),C}n.default=b,n.getLastChangeIndex=x}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var s=(function(){function $(G,te){for(var ee=0;ee<te.length;ee++){var W=te[ee];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(G,W.key,W)}}return function(G,te,ee){return te&&$(G.prototype,te),ee&&$(G,ee),G}})(),a=function $(G,te,ee){G===null&&(G=Function.prototype);var W=Object.getOwnPropertyDescriptor(G,te);if(W===void 0){var Z=Object.getPrototypeOf(G);return Z===null?void 0:$(Z,te,ee)}else{if("value"in W)return W.value;var le=W.get;return le===void 0?void 0:le.call(ee)}},u=i(3),d=q(u),h=i(2),f=q(h),p=i(8),m=q(p),g=i(23),_=q(g),y=i(34),b=q(y),E=i(59),x=q(E),j=i(60),w=q(j),C=i(28),O=q(C),A=i(61),P=q(A);function q($){return $&&$.__esModule?$:{default:$}}function T($,G){if(!($ instanceof G))throw new TypeError("Cannot call a class as a function")}function D($,G){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:$}function L($,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);$.prototype=Object.create(G&&G.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf($,G):$.__proto__=G)}var B=[!1,"center","right","justify"],U=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Y=[!1,"serif","monospace"],X=["1","2","3",!1],ie=["small",!1,"large","huge"],re=(function($){L(G,$);function G(te,ee){T(this,G);var W=D(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,te,ee)),Z=function le(ce){if(!document.body.contains(te.root))return document.body.removeEventListener("click",le);W.tooltip!=null&&!W.tooltip.root.contains(ce.target)&&document.activeElement!==W.tooltip.textbox&&!W.quill.hasFocus()&&W.tooltip.hide(),W.pickers!=null&&W.pickers.forEach(function(me){me.container.contains(ce.target)||me.close()})};return te.emitter.listenDOM("click",document.body,Z),W}return s(G,[{key:"addModule",value:function(ee){var W=a(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"addModule",this).call(this,ee);return ee==="toolbar"&&this.extendToolbar(W),W}},{key:"buildButtons",value:function(ee,W){ee.forEach(function(Z){var le=Z.getAttribute("class")||"";le.split(/\s+/).forEach(function(ce){if(ce.startsWith("ql-")&&(ce=ce.slice(3),W[ce]!=null))if(ce==="direction")Z.innerHTML=W[ce][""]+W[ce].rtl;else if(typeof W[ce]=="string")Z.innerHTML=W[ce];else{var me=Z.value||"";me!=null&&W[ce][me]&&(Z.innerHTML=W[ce][me])}})})}},{key:"buildPickers",value:function(ee,W){var Z=this;this.pickers=ee.map(function(ce){if(ce.classList.contains("ql-align"))return ce.querySelector("option")==null&&M(ce,B),new w.default(ce,W.align);if(ce.classList.contains("ql-background")||ce.classList.contains("ql-color")){var me=ce.classList.contains("ql-background")?"background":"color";return ce.querySelector("option")==null&&M(ce,U,me==="background"?"#ffffff":"#000000"),new x.default(ce,W[me])}else return ce.querySelector("option")==null&&(ce.classList.contains("ql-font")?M(ce,Y):ce.classList.contains("ql-header")?M(ce,X):ce.classList.contains("ql-size")&&M(ce,ie)),new O.default(ce)});var le=function(){Z.pickers.forEach(function(me){me.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,le)}}]),G})(b.default);re.DEFAULTS=(0,d.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var G=this,te=this.container.querySelector("input.ql-image[type=file]");te==null&&(te=document.createElement("input"),te.setAttribute("type","file"),te.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),te.classList.add("ql-image"),te.addEventListener("change",function(){if(te.files!=null&&te.files[0]!=null){var ee=new FileReader;ee.onload=function(W){var Z=G.quill.getSelection(!0);G.quill.updateContents(new f.default().retain(Z.index).delete(Z.length).insert({image:W.target.result}),m.default.sources.USER),G.quill.setSelection(Z.index+1,m.default.sources.SILENT),te.value=""},ee.readAsDataURL(te.files[0])}}),this.container.appendChild(te)),te.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var K=(function($){L(G,$);function G(te,ee){T(this,G);var W=D(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,te,ee));return W.textbox=W.root.querySelector('input[type="text"]'),W.listen(),W}return s(G,[{key:"listen",value:function(){var ee=this;this.textbox.addEventListener("keydown",function(W){_.default.match(W,"enter")?(ee.save(),W.preventDefault()):_.default.match(W,"escape")&&(ee.cancel(),W.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),W!=null?this.textbox.value=W:ee!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ee)||""),this.root.setAttribute("data-mode",ee)}},{key:"restoreFocus",value:function(){var ee=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ee}},{key:"save",value:function(){var ee=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var W=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ee,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ee,m.default.sources.USER)),this.quill.root.scrollTop=W;break}case"video":ee=Q(ee);case"formula":{if(!ee)break;var Z=this.quill.getSelection(!0);if(Z!=null){var le=Z.index+Z.length;this.quill.insertEmbed(le,this.root.getAttribute("data-mode"),ee,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(le+1," ",m.default.sources.USER),this.quill.setSelection(le+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),G})(P.default);function Q($){var G=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return G?(G[1]||"https")+"://www.youtube.com/embed/"+G[2]+"?showinfo=0":(G=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(G[1]||"https")+"://player.vimeo.com/video/"+G[2]+"/":$}function M($,G){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;G.forEach(function(ee){var W=document.createElement("option");ee===te?W.setAttribute("selected","selected"):W.setAttribute("value",ee),$.appendChild(W)})}n.BaseTooltip=K,n.default=re}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.insertBefore(u[0],null),u.length>1&&this.append.apply(this,u.slice(1))},a.prototype.contains=function(u){for(var d,h=this.iterator();d=h();)if(d===u)return!0;return!1},a.prototype.insertBefore=function(u,d){u&&(u.next=d,d!=null?(u.prev=d.prev,d.prev!=null&&(d.prev.next=u),d.prev=u,d===this.head&&(this.head=u)):this.tail!=null?(this.tail.next=u,u.prev=this.tail,this.tail=u):(u.prev=null,this.head=this.tail=u),this.length+=1)},a.prototype.offset=function(u){for(var d=0,h=this.head;h!=null;){if(h===u)return d;d+=h.length(),h=h.next}return-1},a.prototype.remove=function(u){this.contains(u)&&(u.prev!=null&&(u.prev.next=u.next),u.next!=null&&(u.next.prev=u.prev),u===this.head&&(this.head=u.next),u===this.tail&&(this.tail=u.prev),this.length-=1)},a.prototype.iterator=function(u){return u===void 0&&(u=this.head),function(){var d=u;return u!=null&&(u=u.next),d}},a.prototype.find=function(u,d){d===void 0&&(d=!1);for(var h,f=this.iterator();h=f();){var p=h.length();if(u<p||d&&u===p&&(h.next==null||h.next.length()!==0))return[h,u];u-=p}return[null,0]},a.prototype.forEach=function(u){for(var d,h=this.iterator();d=h();)u(d)},a.prototype.forEachAt=function(u,d,h){if(!(d<=0))for(var f=this.find(u),p=f[0],m=f[1],g,_=u-m,y=this.iterator(p);(g=y())&&_<u+d;){var b=g.length();u>_?h(g,u-_,Math.min(d,_+b-u)):h(g,0,Math.min(b,u+d-_)),_+=b}},a.prototype.map=function(u){return this.reduce(function(d,h){return d.push(u(h)),d},[])},a.prototype.reduce=function(u,d){for(var h,f=this.iterator();h=f();)d=u(d,h);return d},a})();n.default=s}),(function(r,n,i){var s=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)g.hasOwnProperty(_)&&(m[_]=g[_])};return function(m,g){p(m,g);function _(){this.constructor=m}m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),u=i(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,f=(function(p){s(m,p);function m(g){var _=p.call(this,g)||this;return _.scroll=_,_.observer=new MutationObserver(function(y){_.update(y)}),_.observer.observe(_.domNode,d),_.attach(),_}return m.prototype.detach=function(){p.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(g,_){this.update(),g===0&&_===this.length()?this.children.forEach(function(y){y.remove()}):p.prototype.deleteAt.call(this,g,_)},m.prototype.formatAt=function(g,_,y,b){this.update(),p.prototype.formatAt.call(this,g,_,y,b)},m.prototype.insertAt=function(g,_,y){this.update(),p.prototype.insertAt.call(this,g,_,y)},m.prototype.optimize=function(g,_){var y=this;g===void 0&&(g=[]),_===void 0&&(_={}),p.prototype.optimize.call(this,_);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)g.push(b.pop());for(var E=function(C,O){O===void 0&&(O=!0),!(C==null||C===y)&&C.domNode.parentNode!=null&&(C.domNode[u.DATA_KEY].mutations==null&&(C.domNode[u.DATA_KEY].mutations=[]),O&&E(C.parent))},x=function(C){C.domNode[u.DATA_KEY]==null||C.domNode[u.DATA_KEY].mutations==null||(C instanceof a.default&&C.children.forEach(x),C.optimize(_))},j=g,w=0;j.length>0;w+=1){if(w>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(C){var O=u.find(C.target,!0);O!=null&&(O.domNode===C.target&&(C.type==="childList"?(E(u.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(A){var P=u.find(A,!1);E(P,!1),P instanceof a.default&&P.children.forEach(function(q){E(q,!1)})})):C.type==="attributes"&&E(O.prev)),E(O))}),this.children.forEach(x),j=[].slice.call(this.observer.takeRecords()),b=j.slice();b.length>0;)g.push(b.pop())}},m.prototype.update=function(g,_){var y=this;_===void 0&&(_={}),g=g||this.observer.takeRecords(),g.map(function(b){var E=u.find(b.target,!0);return E==null?null:E.domNode[u.DATA_KEY].mutations==null?(E.domNode[u.DATA_KEY].mutations=[b],E):(E.domNode[u.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===y||b.domNode[u.DATA_KEY]==null||b.update(b.domNode[u.DATA_KEY].mutations||[],_)}),this.domNode[u.DATA_KEY].mutations!=null&&p.prototype.update.call(this,this.domNode[u.DATA_KEY].mutations,_),this.optimize(g,_)},m.blotName="scroll",m.defaultChild="block",m.scope=u.Scope.BLOCK_BLOT,m.tagName="DIV",m})(a.default);n.default=f}),(function(r,n,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),u=i(1);function d(f,p){if(Object.keys(f).length!==Object.keys(p).length)return!1;for(var m in f)if(f[m]!==p[m])return!1;return!0}var h=(function(f){s(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.formats=function(m){if(m.tagName!==p.tagName)return f.formats.call(this,m)},p.prototype.format=function(m,g){var _=this;m===this.statics.blotName&&!g?(this.children.forEach(function(y){y instanceof a.default||(y=y.wrap(p.blotName,!0)),_.attributes.copy(y)}),this.unwrap()):f.prototype.format.call(this,m,g)},p.prototype.formatAt=function(m,g,_,y){if(this.formats()[_]!=null||u.query(_,u.Scope.ATTRIBUTE)){var b=this.isolate(m,g);b.format(_,y)}else f.prototype.formatAt.call(this,m,g,_,y)},p.prototype.optimize=function(m){f.prototype.optimize.call(this,m);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var _=this.next;_ instanceof p&&_.prev===this&&d(g,_.formats())&&(_.moveChildren(this),_.remove())},p.blotName="inline",p.scope=u.Scope.INLINE_BLOT,p.tagName="SPAN",p})(a.default);n.default=h}),(function(r,n,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),u=i(1),d=(function(h){s(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(p){var m=u.query(f.blotName).tagName;if(p.tagName!==m)return h.formats.call(this,p)},f.prototype.format=function(p,m){u.query(p,u.Scope.BLOCK)!=null&&(p===this.statics.blotName&&!m?this.replaceWith(f.blotName):h.prototype.format.call(this,p,m))},f.prototype.formatAt=function(p,m,g,_){u.query(g,u.Scope.BLOCK)!=null?this.format(g,_):h.prototype.formatAt.call(this,p,m,g,_)},f.prototype.insertAt=function(p,m,g){if(g==null||u.query(m,u.Scope.INLINE)!=null)h.prototype.insertAt.call(this,p,m,g);else{var _=this.split(p),y=u.create(m,g);_.parent.insertBefore(y,_)}},f.prototype.update=function(p,m){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,p,m)},f.blotName="block",f.scope=u.Scope.BLOCK_BLOT,f.tagName="P",f})(a.default);n.default=d}),(function(r,n,i){var s=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var p in f)f.hasOwnProperty(p)&&(h[p]=f[p])};return function(h,f){d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),u=(function(d){s(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){},h.prototype.format=function(f,p){d.prototype.formatAt.call(this,0,this.length(),f,p)},h.prototype.formatAt=function(f,p,m,g){f===0&&p===this.length()?this.format(m,g):d.prototype.formatAt.call(this,f,p,m,g)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h})(a.default);n.default=u}),(function(r,n,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])};return function(f,p){h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),u=i(1),d=(function(h){s(f,h);function f(p){var m=h.call(this,p)||this;return m.text=m.statics.value(m.domNode),m}return f.create=function(p){return document.createTextNode(p)},f.value=function(p){var m=p.data;return m.normalize&&(m=m.normalize()),m},f.prototype.deleteAt=function(p,m){this.domNode.data=this.text=this.text.slice(0,p)+this.text.slice(p+m)},f.prototype.index=function(p,m){return this.domNode===p?m:-1},f.prototype.insertAt=function(p,m,g){g==null?(this.text=this.text.slice(0,p)+m+this.text.slice(p),this.domNode.data=this.text):h.prototype.insertAt.call(this,p,m,g)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(p){h.prototype.optimize.call(this,p),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(p,m){return[this.domNode,p]},f.prototype.split=function(p,m){if(m===void 0&&(m=!1),!m){if(p===0)return this;if(p===this.length())return this.next}var g=u.create(this.domNode.splitText(p));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},f.prototype.update=function(p,m){var g=this;p.some(function(_){return _.type==="characterData"&&_.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=u.Scope.INLINE_BLOT,f})(a.default);n.default=d}),(function(r,n,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,d){return arguments.length>1&&!this.contains(u)==!d?d:a.call(this,u)}}String.prototype.startsWith||(String.prototype.startsWith=function(u,d){return d=d||0,this.substr(d,u.length)===u}),String.prototype.endsWith||(String.prototype.endsWith=function(u,d){var h=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>h.length)&&(d=h.length),d-=u.length;var f=h.indexOf(u,d);return f!==-1&&f===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),f=h.length>>>0,p=arguments[1],m,g=0;g<f;g++)if(m=h[g],d.call(p,m,g,h))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(r,n){var i=-1,s=1,a=0;function u(w,C,O){if(w==C)return w?[[a,w]]:[];(O<0||w.length<O)&&(O=null);var A=p(w,C),P=w.substring(0,A);w=w.substring(A),C=C.substring(A),A=m(w,C);var q=w.substring(w.length-A);w=w.substring(0,w.length-A),C=C.substring(0,C.length-A);var T=d(w,C);return P&&T.unshift([a,P]),q&&T.push([a,q]),_(T),O!=null&&(T=E(T,O)),T=x(T),T}function d(w,C){var O;if(!w)return[[s,C]];if(!C)return[[i,w]];var A=w.length>C.length?w:C,P=w.length>C.length?C:w,q=A.indexOf(P);if(q!=-1)return O=[[s,A.substring(0,q)],[a,P],[s,A.substring(q+P.length)]],w.length>C.length&&(O[0][0]=O[2][0]=i),O;if(P.length==1)return[[i,w],[s,C]];var T=g(w,C);if(T){var D=T[0],L=T[1],B=T[2],U=T[3],Y=T[4],X=u(D,B),ie=u(L,U);return X.concat([[a,Y]],ie)}return h(w,C)}function h(w,C){for(var O=w.length,A=C.length,P=Math.ceil((O+A)/2),q=P,T=2*P,D=new Array(T),L=new Array(T),B=0;B<T;B++)D[B]=-1,L[B]=-1;D[q+1]=0,L[q+1]=0;for(var U=O-A,Y=U%2!=0,X=0,ie=0,re=0,K=0,Q=0;Q<P;Q++){for(var M=-Q+X;M<=Q-ie;M+=2){var $=q+M,G;M==-Q||M!=Q&&D[$-1]<D[$+1]?G=D[$+1]:G=D[$-1]+1;for(var te=G-M;G<O&&te<A&&w.charAt(G)==C.charAt(te);)G++,te++;if(D[$]=G,G>O)ie+=2;else if(te>A)X+=2;else if(Y){var ee=q+U-M;if(ee>=0&&ee<T&&L[ee]!=-1){var W=O-L[ee];if(G>=W)return f(w,C,G,te)}}}for(var Z=-Q+re;Z<=Q-K;Z+=2){var ee=q+Z,W;Z==-Q||Z!=Q&&L[ee-1]<L[ee+1]?W=L[ee+1]:W=L[ee-1]+1;for(var le=W-Z;W<O&&le<A&&w.charAt(O-W-1)==C.charAt(A-le-1);)W++,le++;if(L[ee]=W,W>O)K+=2;else if(le>A)re+=2;else if(!Y){var $=q+U-Z;if($>=0&&$<T&&D[$]!=-1){var G=D[$],te=q+G-$;if(W=O-W,G>=W)return f(w,C,G,te)}}}}return[[i,w],[s,C]]}function f(w,C,O,A){var P=w.substring(0,O),q=C.substring(0,A),T=w.substring(O),D=C.substring(A),L=u(P,q),B=u(T,D);return L.concat(B)}function p(w,C){if(!w||!C||w.charAt(0)!=C.charAt(0))return 0;for(var O=0,A=Math.min(w.length,C.length),P=A,q=0;O<P;)w.substring(q,P)==C.substring(q,P)?(O=P,q=O):A=P,P=Math.floor((A-O)/2+O);return P}function m(w,C){if(!w||!C||w.charAt(w.length-1)!=C.charAt(C.length-1))return 0;for(var O=0,A=Math.min(w.length,C.length),P=A,q=0;O<P;)w.substring(w.length-P,w.length-q)==C.substring(C.length-P,C.length-q)?(O=P,q=O):A=P,P=Math.floor((A-O)/2+O);return P}function g(w,C){var O=w.length>C.length?w:C,A=w.length>C.length?C:w;if(O.length<4||A.length*2<O.length)return null;function P(ie,re,K){for(var Q=ie.substring(K,K+Math.floor(ie.length/4)),M=-1,$="",G,te,ee,W;(M=re.indexOf(Q,M+1))!=-1;){var Z=p(ie.substring(K),re.substring(M)),le=m(ie.substring(0,K),re.substring(0,M));$.length<le+Z&&($=re.substring(M-le,M)+re.substring(M,M+Z),G=ie.substring(0,K-le),te=ie.substring(K+Z),ee=re.substring(0,M-le),W=re.substring(M+Z))}return $.length*2>=ie.length?[G,te,ee,W,$]:null}var q=P(O,A,Math.ceil(O.length/4)),T=P(O,A,Math.ceil(O.length/2)),D;if(!q&&!T)return null;T?q?D=q[4].length>T[4].length?q:T:D=T:D=q;var L,B,U,Y;w.length>C.length?(L=D[0],B=D[1],U=D[2],Y=D[3]):(U=D[0],Y=D[1],L=D[2],B=D[3]);var X=D[4];return[L,B,U,Y,X]}function _(w){w.push([a,""]);for(var C=0,O=0,A=0,P="",q="",T;C<w.length;)switch(w[C][0]){case s:A++,q+=w[C][1],C++;break;case i:O++,P+=w[C][1],C++;break;case a:O+A>1?(O!==0&&A!==0&&(T=p(q,P),T!==0&&(C-O-A>0&&w[C-O-A-1][0]==a?w[C-O-A-1][1]+=q.substring(0,T):(w.splice(0,0,[a,q.substring(0,T)]),C++),q=q.substring(T),P=P.substring(T)),T=m(q,P),T!==0&&(w[C][1]=q.substring(q.length-T)+w[C][1],q=q.substring(0,q.length-T),P=P.substring(0,P.length-T))),O===0?w.splice(C-A,O+A,[s,q]):A===0?w.splice(C-O,O+A,[i,P]):w.splice(C-O-A,O+A,[i,P],[s,q]),C=C-O-A+(O?1:0)+(A?1:0)+1):C!==0&&w[C-1][0]==a?(w[C-1][1]+=w[C][1],w.splice(C,1)):C++,A=0,O=0,P="",q="";break}w[w.length-1][1]===""&&w.pop();var D=!1;for(C=1;C<w.length-1;)w[C-1][0]==a&&w[C+1][0]==a&&(w[C][1].substring(w[C][1].length-w[C-1][1].length)==w[C-1][1]?(w[C][1]=w[C-1][1]+w[C][1].substring(0,w[C][1].length-w[C-1][1].length),w[C+1][1]=w[C-1][1]+w[C+1][1],w.splice(C-1,1),D=!0):w[C][1].substring(0,w[C+1][1].length)==w[C+1][1]&&(w[C-1][1]+=w[C+1][1],w[C][1]=w[C][1].substring(w[C+1][1].length)+w[C+1][1],w.splice(C+1,1),D=!0)),C++;D&&_(w)}var y=u;y.INSERT=s,y.DELETE=i,y.EQUAL=a,r.exports=y;function b(w,C){if(C===0)return[a,w];for(var O=0,A=0;A<w.length;A++){var P=w[A];if(P[0]===i||P[0]===a){var q=O+P[1].length;if(C===q)return[A+1,w];if(C<q){w=w.slice();var T=C-O,D=[P[0],P[1].slice(0,T)],L=[P[0],P[1].slice(T)];return w.splice(A,1,D,L),[A+1,w]}else O=q}}throw new Error("cursor_pos is out of bounds!")}function E(w,C){var O=b(w,C),A=O[1],P=O[0],q=A[P],T=A[P+1];if(q==null)return w;if(q[0]!==a)return w;if(T!=null&&q[1]+T[1]===T[1]+q[1])return A.splice(P,2,T,q),j(A,P,2);if(T!=null&&T[1].indexOf(q[1])===0){A.splice(P,2,[T[0],q[1]],[0,q[1]]);var D=T[1].slice(q[1].length);return D.length>0&&A.splice(P+2,0,[T[0],D]),j(A,P,3)}else return w}function x(w){for(var C=!1,O=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},A=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},P=2;P<w.length;P+=1)w[P-2][0]===a&&A(w[P-2][1])&&w[P-1][0]===i&&O(w[P-1][1])&&w[P][0]===s&&O(w[P][1])&&(C=!0,w[P-1][1]=w[P-2][1].slice(-1)+w[P-1][1],w[P][1]=w[P-2][1].slice(-1)+w[P][1],w[P-2][1]=w[P-2][1].slice(0,-1));if(!C)return w;for(var q=[],P=0;P<w.length;P+=1)w[P][1].length>0&&q.push(w[P]);return q}function j(w,C,O){for(var A=C+O-1;A>=0&&A>=C-1;A--)if(A+1<w.length){var P=w[A],q=w[A+1];P[0]===q[1]&&w.splice(A,2,[P[0],P[1]+q[1]])}return w}}),(function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(s){var a=[];for(var u in s)a.push(u);return a}}),(function(r,n){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";n=r.exports=i?s:a,n.supported=s;function s(u){return Object.prototype.toString.call(u)=="[object Arguments]"}n.unsupported=a;function a(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Object.prototype.hasOwnProperty.call(u,"callee")&&!Object.prototype.propertyIsEnumerable.call(u,"callee")||!1}}),(function(r,n){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function u(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)i.call(p,m)&&f.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f,p){var m=s?s+f:f,g=this._events[m];if(p)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var _=0,y=g.length,b=new Array(y);_<y;_++)b[_]=g[_].fn;return b},d.prototype.emit=function(f,p,m,g,_,y){var b=s?s+f:f;if(!this._events[b])return!1;var E=this._events[b],x=arguments.length,j,w;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,m),!0;case 4:return E.fn.call(E.context,p,m,g),!0;case 5:return E.fn.call(E.context,p,m,g,_),!0;case 6:return E.fn.call(E.context,p,m,g,_,y),!0}for(w=1,j=new Array(x-1);w<x;w++)j[w-1]=arguments[w];E.fn.apply(E.context,j)}else{var C=E.length,O;for(w=0;w<C;w++)switch(E[w].once&&this.removeListener(f,E[w].fn,void 0,!0),x){case 1:E[w].fn.call(E[w].context);break;case 2:E[w].fn.call(E[w].context,p);break;case 3:E[w].fn.call(E[w].context,p,m);break;case 4:E[w].fn.call(E[w].context,p,m,g);break;default:if(!j)for(O=1,j=new Array(x-1);O<x;O++)j[O-1]=arguments[O];E[w].fn.apply(E[w].context,j)}}return!0},d.prototype.on=function(f,p,m){var g=new u(p,m||this),_=s?s+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],g]:this._events[_].push(g):(this._events[_]=g,this._eventsCount++),this},d.prototype.once=function(f,p,m){var g=new u(p,m||this,!0),_=s?s+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],g]:this._events[_].push(g):(this._events[_]=g,this._eventsCount++),this},d.prototype.removeListener=function(f,p,m,g){var _=s?s+f:f;if(!this._events[_])return this;if(!p)return--this._eventsCount===0?this._events=new a:delete this._events[_],this;var y=this._events[_];if(y.fn)y.fn===p&&(!g||y.once)&&(!m||y.context===m)&&(--this._eventsCount===0?this._events=new a:delete this._events[_]);else{for(var b=0,E=[],x=y.length;b<x;b++)(y[b].fn!==p||g&&!y[b].once||m&&y[b].context!==m)&&E.push(y[b]);E.length?this._events[_]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new a:delete this._events[_]}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=s?s+f:f,this._events[p]&&(--this._eventsCount===0?this._events=new a:delete this._events[p])):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=s,d.EventEmitter=d,typeof r<"u"&&(r.exports=d)}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},a=(function(){function xe(_e,J){var oe=[],ae=!0,Ee=!1,he=void 0;try{for(var ve=_e[Symbol.iterator](),Oe;!(ae=(Oe=ve.next()).done)&&(oe.push(Oe.value),!(J&&oe.length===J));ae=!0);}catch(lt){Ee=!0,he=lt}finally{try{!ae&&ve.return&&ve.return()}finally{if(Ee)throw he}}return oe}return function(_e,J){if(Array.isArray(_e))return _e;if(Symbol.iterator in Object(_e))return xe(_e,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),u=(function(){function xe(_e,J){for(var oe=0;oe<J.length;oe++){var ae=J[oe];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(_e,ae.key,ae)}}return function(_e,J,oe){return J&&xe(_e.prototype,J),oe&&xe(_e,oe),_e}})(),d=i(3),h=L(d),f=i(2),p=L(f),m=i(0),g=L(m),_=i(5),y=L(_),b=i(10),E=L(b),x=i(9),j=L(x),w=i(36),C=i(37),O=i(13),A=L(O),P=i(26),q=i(38),T=i(39),D=i(40);function L(xe){return xe&&xe.__esModule?xe:{default:xe}}function B(xe,_e,J){return _e in xe?Object.defineProperty(xe,_e,{value:J,enumerable:!0,configurable:!0,writable:!0}):xe[_e]=J,xe}function U(xe,_e){if(!(xe instanceof _e))throw new TypeError("Cannot call a class as a function")}function Y(xe,_e){if(!xe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:xe}function X(xe,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);xe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:xe,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(xe,_e):xe.__proto__=_e)}var ie=(0,E.default)("quill:clipboard"),re="__ql-matcher",K=[[Node.TEXT_NODE,xt],[Node.TEXT_NODE,Ze],["br",je],[Node.ELEMENT_NODE,Ze],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,pt],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,_t],["li",ze],["b",le.bind(le,"bold")],["i",le.bind(le,"italic")],["style",Te]],Q=[w.AlignAttribute,q.DirectionAttribute].reduce(function(xe,_e){return xe[_e.keyName]=_e,xe},{}),M=[w.AlignStyle,C.BackgroundStyle,P.ColorStyle,q.DirectionStyle,T.FontStyle,D.SizeStyle].reduce(function(xe,_e){return xe[_e.keyName]=_e,xe},{}),$=(function(xe){X(_e,xe);function _e(J,oe){U(this,_e);var ae=Y(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this,J,oe));return ae.quill.root.addEventListener("paste",ae.onPaste.bind(ae)),ae.container=ae.quill.addContainer("ql-clipboard"),ae.container.setAttribute("contenteditable",!0),ae.container.setAttribute("tabindex",-1),ae.matchers=[],K.concat(ae.options.matchers).forEach(function(Ee){var he=a(Ee,2),ve=he[0],Oe=he[1];!oe.matchVisual&&Oe===pt||ae.addMatcher(ve,Oe)}),ae}return u(_e,[{key:"addMatcher",value:function(oe,ae){this.matchers.push([oe,ae])}},{key:"convert",value:function(oe){if(typeof oe=="string")return this.container.innerHTML=oe.replace(/\>\r?\n +\</g,"><"),this.convert();var ae=this.quill.getFormat(this.quill.selection.savedRange.index);if(ae[A.default.blotName]){var Ee=this.container.innerText;return this.container.innerHTML="",new p.default().insert(Ee,B({},A.default.blotName,ae[A.default.blotName]))}var he=this.prepareMatching(),ve=a(he,2),Oe=ve[0],lt=ve[1],He=Z(this.container,Oe,lt);return ee(He,`
`)&&He.ops[He.ops.length-1].attributes==null&&(He=He.compose(new p.default().retain(He.length()-1).delete(1))),ie.log("convert",this.container.innerHTML,He),this.container.innerHTML="",He}},{key:"dangerouslyPasteHTML",value:function(oe,ae){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof oe=="string")this.quill.setContents(this.convert(oe),ae),this.quill.setSelection(0,y.default.sources.SILENT);else{var he=this.convert(ae);this.quill.updateContents(new p.default().retain(oe).concat(he),Ee),this.quill.setSelection(oe+he.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(oe){var ae=this;if(!(oe.defaultPrevented||!this.quill.isEnabled())){var Ee=this.quill.getSelection(),he=new p.default().retain(Ee.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){he=he.concat(ae.convert()).delete(Ee.length),ae.quill.updateContents(he,y.default.sources.USER),ae.quill.setSelection(he.length()-Ee.length,y.default.sources.SILENT),ae.quill.scrollingContainer.scrollTop=ve,ae.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var oe=this,ae=[],Ee=[];return this.matchers.forEach(function(he){var ve=a(he,2),Oe=ve[0],lt=ve[1];switch(Oe){case Node.TEXT_NODE:Ee.push(lt);break;case Node.ELEMENT_NODE:ae.push(lt);break;default:[].forEach.call(oe.container.querySelectorAll(Oe),function(He){He[re]=He[re]||[],He[re].push(lt)});break}}),[ae,Ee]}}]),_e})(j.default);$.DEFAULTS={matchers:[],matchVisual:!0};function G(xe,_e,J){return(typeof _e>"u"?"undefined":s(_e))==="object"?Object.keys(_e).reduce(function(oe,ae){return G(oe,ae,_e[ae])},xe):xe.reduce(function(oe,ae){return ae.attributes&&ae.attributes[_e]?oe.push(ae):oe.insert(ae.insert,(0,h.default)({},B({},_e,J),ae.attributes))},new p.default)}function te(xe){if(xe.nodeType!==Node.ELEMENT_NODE)return{};var _e="__ql-computed-style";return xe[_e]||(xe[_e]=window.getComputedStyle(xe))}function ee(xe,_e){for(var J="",oe=xe.ops.length-1;oe>=0&&J.length<_e.length;--oe){var ae=xe.ops[oe];if(typeof ae.insert!="string")break;J=ae.insert+J}return J.slice(-1*_e.length)===_e}function W(xe){if(xe.childNodes.length===0)return!1;var _e=te(xe);return["block","list-item"].indexOf(_e.display)>-1}function Z(xe,_e,J){return xe.nodeType===xe.TEXT_NODE?J.reduce(function(oe,ae){return ae(xe,oe)},new p.default):xe.nodeType===xe.ELEMENT_NODE?[].reduce.call(xe.childNodes||[],function(oe,ae){var Ee=Z(ae,_e,J);return ae.nodeType===xe.ELEMENT_NODE&&(Ee=_e.reduce(function(he,ve){return ve(ae,he)},Ee),Ee=(ae[re]||[]).reduce(function(he,ve){return ve(ae,he)},Ee)),oe.concat(Ee)},new p.default):new p.default}function le(xe,_e,J){return G(J,xe,!0)}function ce(xe,_e){var J=g.default.Attributor.Attribute.keys(xe),oe=g.default.Attributor.Class.keys(xe),ae=g.default.Attributor.Style.keys(xe),Ee={};return J.concat(oe).concat(ae).forEach(function(he){var ve=g.default.query(he,g.default.Scope.ATTRIBUTE);ve!=null&&(Ee[ve.attrName]=ve.value(xe),Ee[ve.attrName])||(ve=Q[he],ve!=null&&(ve.attrName===he||ve.keyName===he)&&(Ee[ve.attrName]=ve.value(xe)||void 0),ve=M[he],ve!=null&&(ve.attrName===he||ve.keyName===he)&&(ve=M[he],Ee[ve.attrName]=ve.value(xe)||void 0))}),Object.keys(Ee).length>0&&(_e=G(_e,Ee)),_e}function me(xe,_e){var J=g.default.query(xe);if(J==null)return _e;if(J.prototype instanceof g.default.Embed){var oe={},ae=J.value(xe);ae!=null&&(oe[J.blotName]=ae,_e=new p.default().insert(oe,J.formats(xe)))}else typeof J.formats=="function"&&(_e=G(_e,J.blotName,J.formats(xe)));return _e}function je(xe,_e){return ee(_e,`
`)||_e.insert(`
`),_e}function Te(){return new p.default}function ze(xe,_e){var J=g.default.query(xe);if(J==null||J.blotName!=="list-item"||!ee(_e,`
`))return _e;for(var oe=-1,ae=xe.parentNode;!ae.classList.contains("ql-clipboard");)(g.default.query(ae)||{}).blotName==="list"&&(oe+=1),ae=ae.parentNode;return oe<=0?_e:_e.compose(new p.default().retain(_e.length()-1).retain(1,{indent:oe}))}function Ze(xe,_e){return ee(_e,`
`)||(W(xe)||_e.length()>0&&xe.nextSibling&&W(xe.nextSibling))&&_e.insert(`
`),_e}function pt(xe,_e){if(W(xe)&&xe.nextElementSibling!=null&&!ee(_e,`

`)){var J=xe.offsetHeight+parseFloat(te(xe).marginTop)+parseFloat(te(xe).marginBottom);xe.nextElementSibling.offsetTop>xe.offsetTop+J*1.5&&_e.insert(`
`)}return _e}function _t(xe,_e){var J={},oe=xe.style||{};return oe.fontStyle&&te(xe).fontStyle==="italic"&&(J.italic=!0),oe.fontWeight&&(te(xe).fontWeight.startsWith("bold")||parseInt(te(xe).fontWeight)>=700)&&(J.bold=!0),Object.keys(J).length>0&&(_e=G(_e,J)),parseFloat(oe.textIndent||0)>0&&(_e=new p.default().insert("	").concat(_e)),_e}function xt(xe,_e){var J=xe.data;if(xe.parentNode.tagName==="O:P")return _e.insert(J.trim());if(J.trim().length===0&&xe.parentNode.classList.contains("ql-clipboard"))return _e;if(!te(xe.parentNode).whiteSpace.startsWith("pre")){var oe=function(Ee,he){return he=he.replace(/[^\u00a0]/g,""),he.length<1&&Ee?" ":he};J=J.replace(/\r\n/g," ").replace(/\n/g," "),J=J.replace(/\s\s+/g,oe.bind(oe,!0)),(xe.previousSibling==null&&W(xe.parentNode)||xe.previousSibling!=null&&W(xe.previousSibling))&&(J=J.replace(/^\s+/,oe.bind(oe,!1))),(xe.nextSibling==null&&W(xe.parentNode)||xe.nextSibling!=null&&W(xe.nextSibling))&&(J=J.replace(/\s+$/,oe.bind(oe,!1)))}return _e.insert(J)}n.default=$,n.matchAttributor=ce,n.matchBlot=me,n.matchNewline=Ze,n.matchSpacing=pt,n.matchText=xt}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function _(y,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,b,E){return b&&_(y.prototype,b),E&&_(y,E),y}})(),a=function _(y,b,E){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,b);if(x===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:_(j,b,E)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(E)}},u=i(6),d=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function p(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=(function(_){m(y,_);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(E){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y})(d.default);g.blotName="bold",g.tagName=["STRONG","B"],n.default=g}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var s=(function(){function D(L,B){var U=[],Y=!0,X=!1,ie=void 0;try{for(var re=L[Symbol.iterator](),K;!(Y=(K=re.next()).done)&&(U.push(K.value),!(B&&U.length===B));Y=!0);}catch(Q){X=!0,ie=Q}finally{try{!Y&&re.return&&re.return()}finally{if(X)throw ie}}return U}return function(L,B){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return D(L,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function D(L,B){for(var U=0;U<B.length;U++){var Y=B[U];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(L,Y.key,Y)}}return function(L,B,U){return B&&D(L.prototype,B),U&&D(L,U),L}})(),u=i(2),d=E(u),h=i(0),f=E(h),p=i(5),m=E(p),g=i(10),_=E(g),y=i(9),b=E(y);function E(D){return D&&D.__esModule?D:{default:D}}function x(D,L,B){return L in D?Object.defineProperty(D,L,{value:B,enumerable:!0,configurable:!0,writable:!0}):D[L]=B,D}function j(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function w(D,L){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:D}function C(D,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}var O=(0,_.default)("quill:toolbar"),A=(function(D){C(L,D);function L(B,U){j(this,L);var Y=w(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,B,U));if(Array.isArray(Y.options.container)){var X=document.createElement("div");q(X,Y.options.container),B.container.parentNode.insertBefore(X,B.container),Y.container=X}else typeof Y.options.container=="string"?Y.container=document.querySelector(Y.options.container):Y.container=Y.options.container;if(!(Y.container instanceof HTMLElement)){var ie;return ie=O.error("Container required for toolbar",Y.options),w(Y,ie)}return Y.container.classList.add("ql-toolbar"),Y.controls=[],Y.handlers={},Object.keys(Y.options.handlers).forEach(function(re){Y.addHandler(re,Y.options.handlers[re])}),[].forEach.call(Y.container.querySelectorAll("button, select"),function(re){Y.attach(re)}),Y.quill.on(m.default.events.EDITOR_CHANGE,function(re,K){re===m.default.events.SELECTION_CHANGE&&Y.update(K)}),Y.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var re=Y.quill.selection.getRange(),K=s(re,1),Q=K[0];Y.update(Q)}),Y}return a(L,[{key:"addHandler",value:function(U,Y){this.handlers[U]=Y}},{key:"attach",value:function(U){var Y=this,X=[].find.call(U.classList,function(re){return re.indexOf("ql-")===0});if(X){if(X=X.slice(3),U.tagName==="BUTTON"&&U.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){O.warn("ignoring attaching to disabled format",X,U);return}if(f.default.query(X)==null){O.warn("ignoring attaching to nonexistent format",X,U);return}}var ie=U.tagName==="SELECT"?"change":"click";U.addEventListener(ie,function(re){var K=void 0;if(U.tagName==="SELECT"){if(U.selectedIndex<0)return;var Q=U.options[U.selectedIndex];Q.hasAttribute("selected")?K=!1:K=Q.value||!1}else U.classList.contains("ql-active")?K=!1:K=U.value||!U.hasAttribute("value"),re.preventDefault();Y.quill.focus();var M=Y.quill.selection.getRange(),$=s(M,1),G=$[0];if(Y.handlers[X]!=null)Y.handlers[X].call(Y,K);else if(f.default.query(X).prototype instanceof f.default.Embed){if(K=prompt("Enter "+X),!K)return;Y.quill.updateContents(new d.default().retain(G.index).delete(G.length).insert(x({},X,K)),m.default.sources.USER)}else Y.quill.format(X,K,m.default.sources.USER);Y.update(G)}),this.controls.push([X,U])}}},{key:"update",value:function(U){var Y=U==null?{}:this.quill.getFormat(U);this.controls.forEach(function(X){var ie=s(X,2),re=ie[0],K=ie[1];if(K.tagName==="SELECT"){var Q=void 0;if(U==null)Q=null;else if(Y[re]==null)Q=K.querySelector("option[selected]");else if(!Array.isArray(Y[re])){var M=Y[re];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),Q=K.querySelector('option[value="'+M+'"]')}Q==null?(K.value="",K.selectedIndex=-1):Q.selected=!0}else if(U==null)K.classList.remove("ql-active");else if(K.hasAttribute("value")){var $=Y[re]===K.getAttribute("value")||Y[re]!=null&&Y[re].toString()===K.getAttribute("value")||Y[re]==null&&!K.getAttribute("value");K.classList.toggle("ql-active",$)}else K.classList.toggle("ql-active",Y[re]!=null)})}}]),L})(b.default);A.DEFAULTS={};function P(D,L,B){var U=document.createElement("button");U.setAttribute("type","button"),U.classList.add("ql-"+L),B!=null&&(U.value=B),D.appendChild(U)}function q(D,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(B){var U=document.createElement("span");U.classList.add("ql-formats"),B.forEach(function(Y){if(typeof Y=="string")P(U,Y);else{var X=Object.keys(Y)[0],ie=Y[X];Array.isArray(ie)?T(U,X,ie):P(U,X,ie)}}),D.appendChild(U)})}function T(D,L,B){var U=document.createElement("select");U.classList.add("ql-"+L),B.forEach(function(Y){var X=document.createElement("option");Y!==!1?X.setAttribute("value",Y):X.setAttribute("selected","selected"),U.appendChild(X)}),D.appendChild(U)}A.DEFAULTS={container:null,handlers:{clean:function(){var L=this,B=this.quill.getSelection();if(B!=null)if(B.length==0){var U=this.quill.getFormat();Object.keys(U).forEach(function(Y){f.default.query(Y,f.default.Scope.INLINE)!=null&&L.quill.format(Y,!1)})}else this.quill.removeFormat(B,m.default.sources.USER)},direction:function(L){var B=this.quill.getFormat().align;L==="rtl"&&B==null?this.quill.format("align","right",m.default.sources.USER):!L&&B==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",L,m.default.sources.USER)},indent:function(L){var B=this.quill.getSelection(),U=this.quill.getFormat(B),Y=parseInt(U.indent||0);if(L==="+1"||L==="-1"){var X=L==="+1"?1:-1;U.direction==="rtl"&&(X*=-1),this.quill.format("indent",Y+X,m.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,m.default.sources.USER)},list:function(L){var B=this.quill.getSelection(),U=this.quill.getFormat(B);L==="check"?U.list==="checked"||U.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",L,m.default.sources.USER)}}},n.default=A,n.addControls=q}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function _(y,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,b,E){return b&&_(y.prototype,b),E&&_(y,E),y}})(),a=function _(y,b,E){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,b);if(x===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:_(j,b,E)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(E)}},u=i(28),d=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function p(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=(function(_){m(y,_);function y(b,E){f(this,y);var x=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return x.label.innerHTML=E,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(j){j.classList.add("ql-primary")}),x}return s(y,[{key:"buildItem",value:function(E){var x=a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,E);return x.style.backgroundColor=E.getAttribute("value")||"",x}},{key:"selectItem",value:function(E,x){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,E,x);var j=this.label.querySelector(".ql-color-label"),w=E&&E.getAttribute("data-value")||"";j&&(j.tagName==="line"?j.style.stroke=w:j.style.fill=w)}}]),y})(d.default);n.default=g}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function _(y,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,b,E){return b&&_(y.prototype,b),E&&_(y,E),y}})(),a=function _(y,b,E){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,b);if(x===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:_(j,b,E)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(E)}},u=i(28),d=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function p(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=(function(_){m(y,_);function y(b,E){f(this,y);var x=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(j){j.innerHTML=E[j.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(y,[{key:"selectItem",value:function(E,x){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,E,x),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),y})(d.default);n.default=g}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function d(h,f){for(var p=0;p<f.length;p++){var m=f[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,f,p){return f&&d(h.prototype,f),p&&d(h,p),h}})();function a(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var u=(function(){function d(h,f){var p=this;a(this,d),this.quill=h,this.boundsContainer=f||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){p.root.style.marginTop=-1*p.quill.root.scrollTop+"px"}),this.hide()}return s(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var p=f.left+f.width/2-this.root.offsetWidth/2,m=f.bottom+this.quill.root.scrollTop;this.root.style.left=p+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),y=0;if(_.right>g.right&&(y=g.right-_.right,this.root.style.left=p+y+"px"),_.left<g.left&&(y=g.left-_.left,this.root.style.left=p+y+"px"),_.bottom>g.bottom){var b=_.bottom-_.top,E=f.bottom-f.top+b;this.root.style.top=m-E+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d})();n.default=u}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function T(D,L){var B=[],U=!0,Y=!1,X=void 0;try{for(var ie=D[Symbol.iterator](),re;!(U=(re=ie.next()).done)&&(B.push(re.value),!(L&&B.length===L));U=!0);}catch(K){Y=!0,X=K}finally{try{!U&&ie.return&&ie.return()}finally{if(Y)throw X}}return B}return function(D,L){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return T(D,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function T(D,L,B){D===null&&(D=Function.prototype);var U=Object.getOwnPropertyDescriptor(D,L);if(U===void 0){var Y=Object.getPrototypeOf(D);return Y===null?void 0:T(Y,L,B)}else{if("value"in U)return U.value;var X=U.get;return X===void 0?void 0:X.call(B)}},u=(function(){function T(D,L){for(var B=0;B<L.length;B++){var U=L[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,U.key,U)}}return function(D,L,B){return L&&T(D.prototype,L),B&&T(D,B),D}})(),d=i(3),h=j(d),f=i(8),p=j(f),m=i(43),g=j(m),_=i(27),y=j(_),b=i(15),E=i(41),x=j(E);function j(T){return T&&T.__esModule?T:{default:T}}function w(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function C(T,D){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:T}function O(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(T,D):T.__proto__=D)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],P=(function(T){O(D,T);function D(L,B){w(this,D),B.modules.toolbar!=null&&B.modules.toolbar.container==null&&(B.modules.toolbar.container=A);var U=C(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L,B));return U.quill.container.classList.add("ql-snow"),U}return u(D,[{key:"extendToolbar",value:function(B){B.container.classList.add("ql-snow"),this.buildButtons([].slice.call(B.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(B.container.querySelectorAll("select")),x.default),this.tooltip=new q(this.quill,this.options.bounds),B.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(U,Y){B.handlers.link.call(B,!Y.format.link)})}}]),D})(g.default);P.DEFAULTS=(0,h.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(D){if(D){var L=this.quill.getSelection();if(L==null||L.length==0)return;var B=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(B)&&B.indexOf("mailto:")!==0&&(B="mailto:"+B);var U=this.quill.theme.tooltip;U.edit("link",B)}else this.quill.format("link",!1)}}}}});var q=(function(T){O(D,T);function D(L,B){w(this,D);var U=C(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L,B));return U.preview=U.root.querySelector("a.ql-preview"),U}return u(D,[{key:"listen",value:function(){var B=this;a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(U){B.root.classList.contains("ql-editing")?B.save():B.edit("link",B.preview.textContent),U.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(U){if(B.linkRange!=null){var Y=B.linkRange;B.restoreFocus(),B.quill.formatText(Y,"link",!1,p.default.sources.USER),delete B.linkRange}U.preventDefault(),B.hide()}),this.quill.on(p.default.events.SELECTION_CHANGE,function(U,Y,X){if(U!=null){if(U.length===0&&X===p.default.sources.USER){var ie=B.quill.scroll.descendant(y.default,U.index),re=s(ie,2),K=re[0],Q=re[1];if(K!=null){B.linkRange=new b.Range(U.index-Q,K.length());var M=y.default.formats(K.domNode);B.preview.textContent=M,B.preview.setAttribute("href",M),B.show(),B.position(B.quill.getBounds(B.linkRange));return}}else delete B.linkRange;B.hide()}})}},{key:"show",value:function(){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),D})(m.BaseTooltip);q.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=P}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(29),a=ae(s),u=i(36),d=i(38),h=i(64),f=i(65),p=ae(f),m=i(66),g=ae(m),_=i(67),y=ae(_),b=i(37),E=i(26),x=i(39),j=i(40),w=i(56),C=ae(w),O=i(68),A=ae(O),P=i(27),q=ae(P),T=i(69),D=ae(T),L=i(70),B=ae(L),U=i(71),Y=ae(U),X=i(72),ie=ae(X),re=i(73),K=ae(re),Q=i(13),M=ae(Q),$=i(74),G=ae($),te=i(75),ee=ae(te),W=i(57),Z=ae(W),le=i(41),ce=ae(le),me=i(28),je=ae(me),Te=i(59),ze=ae(Te),Ze=i(60),pt=ae(Ze),_t=i(61),xt=ae(_t),xe=i(108),_e=ae(xe),J=i(62),oe=ae(J);function ae(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}a.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":u.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":j.SizeClass,"attributors/style/align":u.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":j.SizeStyle},!0),a.default.register({"formats/align":u.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":h.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":x.FontClass,"formats/size":j.SizeClass,"formats/blockquote":p.default,"formats/code-block":M.default,"formats/header":g.default,"formats/list":y.default,"formats/bold":C.default,"formats/code":Q.Code,"formats/italic":A.default,"formats/link":q.default,"formats/script":D.default,"formats/strike":B.default,"formats/underline":Y.default,"formats/image":ie.default,"formats/video":K.default,"formats/list/item":_.ListItem,"modules/formula":G.default,"modules/syntax":ee.default,"modules/toolbar":Z.default,"themes/bubble":_e.default,"themes/snow":oe.default,"ui/icons":ce.default,"ui/picker":je.default,"ui/icon-picker":pt.default,"ui/color-picker":ze.default,"ui/tooltip":xt.default},!0),n.default=a.default}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var s=(function(){function y(b,E){for(var x=0;x<E.length;x++){var j=E[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}return function(b,E,x){return E&&y(b.prototype,E),x&&y(b,x),b}})(),a=function y(b,E,x){b===null&&(b=Function.prototype);var j=Object.getOwnPropertyDescriptor(b,E);if(j===void 0){var w=Object.getPrototypeOf(b);return w===null?void 0:y(w,E,x)}else{if("value"in j)return j.value;var C=j.get;return C===void 0?void 0:C.call(x)}},u=i(0),d=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function p(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function m(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var g=(function(y){m(b,y);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"add",value:function(x,j){if(j==="+1"||j==="-1"){var w=this.value(x)||0;j=j==="+1"?w+1:w-1}return j===0?(this.remove(x),!0):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,x,j)}},{key:"canAdd",value:function(x,j){return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,x,j)||a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,x,parseInt(j))}},{key:"value",value:function(x){return parseInt(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,x))||void 0}}]),b})(d.default.Attributor.Class),_=new g("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=_}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(4),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function h(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=(function(m){f(g,m);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default);p.blotName="blockquote",p.tagName="blockquote",n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function g(_,y){for(var b=0;b<y.length;b++){var E=y[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,y,b){return y&&g(_.prototype,y),b&&g(_,b),_}})(),a=i(4),u=d(a);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function f(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function p(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var m=(function(g){p(_,g);function _(){return h(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),_})(u.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var s=(function(){function w(C,O){for(var A=0;A<O.length;A++){var P=O[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,O,A){return O&&w(C.prototype,O),A&&w(C,A),C}})(),a=function w(C,O,A){C===null&&(C=Function.prototype);var P=Object.getOwnPropertyDescriptor(C,O);if(P===void 0){var q=Object.getPrototypeOf(C);return q===null?void 0:w(q,O,A)}else{if("value"in P)return P.value;var T=P.get;return T===void 0?void 0:T.call(A)}},u=i(0),d=g(u),h=i(4),f=g(h),p=i(25),m=g(p);function g(w){return w&&w.__esModule?w:{default:w}}function _(w,C,O){return C in w?Object.defineProperty(w,C,{value:O,enumerable:!0,configurable:!0,writable:!0}):w[C]=O,w}function y(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function b(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function E(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var x=(function(w){E(C,w);function C(){return y(this,C),b(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,[{key:"format",value:function(A,P){A===j.blotName&&!P?this.replaceWith(d.default.create(this.statics.scope)):a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,A,P)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,P){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,P),this):(this.parent.unwrap(),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,A,P))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:a(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,A)}}]),C})(f.default);x.blotName="list-item",x.tagName="LI";var j=(function(w){E(C,w),s(C,null,[{key:"create",value:function(A){var P=A==="ordered"?"OL":"UL",q=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,P);return(A==="checked"||A==="unchecked")&&q.setAttribute("data-checked",A==="checked"),q}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(O){y(this,C);var A=b(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O)),P=function(T){if(T.target.parentNode===O){var D=A.statics.formats(O),L=d.default.find(T.target);D==="checked"?L.format("list","unchecked"):D==="unchecked"&&L.format("list","checked")}};return O.addEventListener("touchstart",P),O.addEventListener("mousedown",P),A}return s(C,[{key:"format",value:function(A,P){this.children.length>0&&this.children.tail.format(A,P)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,P){if(A instanceof x)a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,A,P);else{var q=P==null?this.length():P.offset(this),T=this.split(q);T.parent.insertBefore(A,T)}}},{key:"optimize",value:function(A){a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,A);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&P.domNode.tagName===this.domNode.tagName&&P.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(P.moveChildren(this),P.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var P=d.default.create(this.statics.defaultChild);A.moveChildren(P),this.appendChild(P)}a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,A)}}]),C})(m.default);j.blotName="list",j.scope=d.default.Scope.BLOCK_BLOT,j.tagName=["OL","UL"],j.defaultChild="list-item",j.allowedChildren=[x],n.ListItem=x,n.default=j}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(56),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function h(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=(function(m){f(g,m);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default);p.blotName="italic",p.tagName=["EM","I"],n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function _(y,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,b,E){return b&&_(y.prototype,b),E&&_(y,E),y}})(),a=function _(y,b,E){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,b);if(x===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:_(j,b,E)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(E)}},u=i(6),d=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function p(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var g=(function(_){m(y,_);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),y})(d.default);g.blotName="script",g.tagName=["SUB","SUP"],n.default=g}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(6),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function h(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=(function(m){f(g,m);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default);p.blotName="strike",p.tagName="S",n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(6),a=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function h(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var p=(function(m){f(g,m);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default);p.blotName="underline",p.tagName="U",n.default=p}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function b(E,x){for(var j=0;j<x.length;j++){var w=x[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,x,j){return x&&b(E.prototype,x),j&&b(E,j),E}})(),a=function b(E,x,j){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,x);if(w===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:b(C,x,j)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(j)}},u=i(0),d=f(u),h=i(27);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function m(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function g(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var _=["alt","height","width"],y=(function(b){g(E,b);function E(){return p(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"format",value:function(j,w){_.indexOf(j)>-1?w?this.domNode.setAttribute(j,w):this.domNode.removeAttribute(j):a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,j,w)}}],[{key:"create",value:function(j){var w=a(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,j);return typeof j=="string"&&w.setAttribute("src",this.sanitize(j)),w}},{key:"formats",value:function(j){return _.reduce(function(w,C){return j.hasAttribute(C)&&(w[C]=j.getAttribute(C)),w},{})}},{key:"match",value:function(j){return/\.(jpe?g|gif|png)$/.test(j)||/^data:image\/.+;base64/.test(j)}},{key:"sanitize",value:function(j){return(0,h.sanitize)(j,["http","https","data"])?j:"//:0"}},{key:"value",value:function(j){return j.getAttribute("src")}}]),E})(d.default.Embed);y.blotName="image",y.tagName="IMG",n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=(function(){function b(E,x){for(var j=0;j<x.length;j++){var w=x[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,x,j){return x&&b(E.prototype,x),j&&b(E,j),E}})(),a=function b(E,x,j){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,x);if(w===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:b(C,x,j)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(j)}},u=i(4),d=i(27),h=f(d);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function m(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function g(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var _=["height","width"],y=(function(b){g(E,b);function E(){return p(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"format",value:function(j,w){_.indexOf(j)>-1?w?this.domNode.setAttribute(j,w):this.domNode.removeAttribute(j):a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,j,w)}}],[{key:"create",value:function(j){var w=a(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,j);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(j)),w}},{key:"formats",value:function(j){return _.reduce(function(w,C){return j.hasAttribute(C)&&(w[C]=j.getAttribute(C)),w},{})}},{key:"sanitize",value:function(j){return h.default.sanitize(j)}},{key:"value",value:function(j){return j.getAttribute("src")}}]),E})(u.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",n.default=y}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var s=(function(){function j(w,C){for(var O=0;O<C.length;O++){var A=C[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,C,O){return C&&j(w.prototype,C),O&&j(w,O),w}})(),a=function j(w,C,O){w===null&&(w=Function.prototype);var A=Object.getOwnPropertyDescriptor(w,C);if(A===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:j(P,C,O)}else{if("value"in A)return A.value;var q=A.get;return q===void 0?void 0:q.call(O)}},u=i(35),d=g(u),h=i(5),f=g(h),p=i(9),m=g(p);function g(j){return j&&j.__esModule?j:{default:j}}function _(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function y(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function b(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var E=(function(j){b(w,j);function w(){return _(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,null,[{key:"create",value:function(O){var A=a(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",O)),A}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),w})(d.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var x=(function(j){b(w,j),s(w,null,[{key:"register",value:function(){f.default.register(E,!0)}}]);function w(){_(this,w);var C=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return w})(m.default);n.FormulaBlot=E,n.default=x}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var s=(function(){function O(A,P){for(var q=0;q<P.length;q++){var T=P[q];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,P,q){return P&&O(A.prototype,P),q&&O(A,q),A}})(),a=function O(A,P,q){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,P);if(T===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:O(D,P,q)}else{if("value"in T)return T.value;var L=T.get;return L===void 0?void 0:L.call(q)}},u=i(0),d=y(u),h=i(5),f=y(h),p=i(9),m=y(p),g=i(13),_=y(g);function y(O){return O&&O.__esModule?O:{default:O}}function b(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function E(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function x(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var j=(function(O){x(A,O);function A(){return b(this,A),E(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"replaceWith",value:function(q){this.domNode.textContent=this.domNode.textContent,this.attach(),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,q)}},{key:"highlight",value:function(q){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=q(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),A})(_.default);j.className="ql-syntax";var w=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),C=(function(O){x(A,O),s(A,null,[{key:"register",value:function(){f.default.register(w,!0),f.default.register(j,!0)}}]);function A(P,q){b(this,A);var T=E(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,q));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var D=null;return T.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(D),D=setTimeout(function(){T.highlight(),D=null},T.options.interval)}),T.highlight(),T}return s(A,[{key:"highlight",value:function(){var q=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(j).forEach(function(D){D.highlight(q.options.highlight)}),this.quill.update(f.default.sources.SILENT),T!=null&&this.quill.setSelection(T,f.default.sources.SILENT)}}}]),A})(m.default);C.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(O){var A=window.hljs.highlightAuto(O);return A.value}})(),interval:1e3},n.CodeBlock=j,n.CodeToken=w,n.default=C}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var s=function A(P,q,T){P===null&&(P=Function.prototype);var D=Object.getOwnPropertyDescriptor(P,q);if(D===void 0){var L=Object.getPrototypeOf(P);return L===null?void 0:A(L,q,T)}else{if("value"in D)return D.value;var B=D.get;return B===void 0?void 0:B.call(T)}},a=(function(){function A(P,q){for(var T=0;T<q.length;T++){var D=q[T];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}return function(P,q,T){return q&&A(P.prototype,q),T&&A(P,T),P}})(),u=i(3),d=b(u),h=i(8),f=b(h),p=i(43),m=b(p),g=i(15),_=i(41),y=b(_);function b(A){return A&&A.__esModule?A:{default:A}}function E(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function x(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function j(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=(function(A){j(P,A);function P(q,T){E(this,P),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=w);var D=x(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,q,T));return D.quill.container.classList.add("ql-bubble"),D}return a(P,[{key:"extendToolbar",value:function(T){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),y.default)}}]),P})(m.default);C.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){P?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=(function(A){j(P,A);function P(q,T){E(this,P);var D=x(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,q,T));return D.quill.on(f.default.events.EDITOR_CHANGE,function(L,B,U,Y){if(L===f.default.events.SELECTION_CHANGE)if(B!=null&&B.length>0&&Y===f.default.sources.USER){D.show(),D.root.style.left="0px",D.root.style.width="",D.root.style.width=D.root.offsetWidth+"px";var X=D.quill.getLines(B.index,B.length);if(X.length===1)D.position(D.quill.getBounds(B));else{var ie=X[X.length-1],re=D.quill.getIndex(ie),K=Math.min(ie.length()-1,B.index+B.length-re),Q=D.quill.getBounds(new g.Range(re,K));D.position(Q)}}else document.activeElement!==D.textbox&&D.quill.hasFocus()&&D.hide()}),D}return a(P,[{key:"listen",value:function(){var T=this;s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var D=T.quill.getSelection();D!=null&&T.position(T.quill.getBounds(D))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var D=s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"position",this).call(this,T),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",D===0)return D;L.style.marginLeft=-1*D-L.offsetWidth/2+"px"}}]),P})(p.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=C}),(function(r,n,i){r.exports=i(63)})]).default})})(jh)),jh.exports}var Ci,eC;function Mz(){if(eC)return Ci;eC=1;var t=Ci&&Ci.__extends||(function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var y in _)_.hasOwnProperty(y)&&(g[y]=_[y])},f(p,m)};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})(),e=Ci&&Ci.__assign||function(){return e=Object.assign||function(f){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(f[_]=p[_])}return f},e.apply(this,arguments)},r=Ci&&Ci.__spreadArrays||function(){for(var f=0,p=0,m=arguments.length;p<m;p++)f+=arguments[p].length;for(var g=Array(f),_=0,p=0;p<m;p++)for(var y=arguments[p],b=0,E=y.length;b<E;b++,_++)g[_]=y[b];return g},n=Ci&&Ci.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},i=n(jd()),s=n(Zb()),a=n(Pz()),u=n(Dz()),d=(function(f){t(p,f);function p(m){var g=f.call(this,m)||this;g.dirtyProps=["modules","formats","bounds","theme","children"],g.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],g.state={generation:0},g.selection=null,g.onEditorChange=function(y,b,E,x){var j,w,C,O;y==="text-change"?(w=(j=g).onEditorChangeText)===null||w===void 0||w.call(j,g.editor.root.innerHTML,b,x,g.unprivilegedEditor):y==="selection-change"&&((O=(C=g).onEditorChangeSelection)===null||O===void 0||O.call(C,b,x,g.unprivilegedEditor))};var _=g.isControlled()?m.value:m.defaultValue;return g.value=_??"",g}return p.prototype.validateProps=function(m){var g;if(i.default.Children.count(m.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(m.children)){var _=i.default.Children.only(m.children);if(((g=_)===null||g===void 0?void 0:g.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&m.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},p.prototype.shouldComponentUpdate=function(m,g){var _=this,y;if(this.validateProps(m),!this.editor||this.state.generation!==g.generation)return!0;if("value"in m){var b=this.getEditorContents(),E=(y=m.value,y??"");this.isEqualValue(E,b)||this.setEditorContents(this.editor,E)}return m.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,m.readOnly),r(this.cleanProps,this.dirtyProps).some(function(x){return!a.default(m[x],_.props[x])})},p.prototype.shouldComponentRegenerate=function(m){var g=this;return this.dirtyProps.some(function(_){return!a.default(m[_],g.props[_])})},p.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},p.prototype.componentWillUnmount=function(){this.destroyEditor()},p.prototype.componentDidUpdate=function(m,g){var _=this;if(this.editor&&this.shouldComponentRegenerate(m)){var y=this.editor.getContents(),b=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:b},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==g.generation){var E=this.regenerationSnapshot,y=E.delta,x=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var j=this.editor;j.setContents(y),h(function(){return _.setEditorSelection(j,x)})}},p.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},p.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},p.prototype.isControlled=function(){return"value"in this.props},p.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},p.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},p.prototype.createEditor=function(m,g){var _=new u.default(m,g);return g.tabIndex!=null&&this.setEditorTabIndex(_,g.tabIndex),this.hookEditor(_),_},p.prototype.hookEditor=function(m){this.unprivilegedEditor=this.makeUnprivilegedEditor(m),m.on("editor-change",this.onEditorChange)},p.prototype.unhookEditor=function(m){m.off("editor-change",this.onEditorChange)},p.prototype.getEditorContents=function(){return this.value},p.prototype.getEditorSelection=function(){return this.selection},p.prototype.isDelta=function(m){return m&&m.ops},p.prototype.isEqualValue=function(m,g){return this.isDelta(m)&&this.isDelta(g)?a.default(m.ops,g.ops):a.default(m,g)},p.prototype.setEditorContents=function(m,g){var _=this;this.value=g;var y=this.getEditorSelection();typeof g=="string"?m.setContents(m.clipboard.convert(g)):m.setContents(g),h(function(){return _.setEditorSelection(m,y)})},p.prototype.setEditorSelection=function(m,g){if(this.selection=g,g){var _=m.getLength();g.index=Math.max(0,Math.min(g.index,_-1)),g.length=Math.max(0,Math.min(g.length,_-1-g.index)),m.setSelection(g)}},p.prototype.setEditorTabIndex=function(m,g){var _,y;!((y=(_=m)===null||_===void 0?void 0:_.scroll)===null||y===void 0)&&y.domNode&&(m.scroll.domNode.tabIndex=g)},p.prototype.setEditorReadOnly=function(m,g){g?m.disable():m.enable()},p.prototype.makeUnprivilegedEditor=function(m){var g=m;return{getHTML:function(){return g.root.innerHTML},getLength:g.getLength.bind(g),getText:g.getText.bind(g),getContents:g.getContents.bind(g),getSelection:g.getSelection.bind(g),getBounds:g.getBounds.bind(g)}},p.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var m=s.default.findDOMNode(this.editingArea);if(!m)throw new Error("Cannot find element for editing area");if(m.nodeType===3)throw new Error("Editing area cannot be a text node");return m},p.prototype.renderEditingArea=function(){var m=this,g=this.props,_=g.children,y=g.preserveWhitespace,b=this.state.generation,E={key:b,ref:function(x){m.editingArea=x}};return i.default.Children.count(_)?i.default.cloneElement(i.default.Children.only(_),E):y?i.default.createElement("pre",e({},E)):i.default.createElement("div",e({},E))},p.prototype.render=function(){var m;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(m=this.props.className,m??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},p.prototype.onEditorChangeText=function(m,g,_,y){var b,E;if(this.editor){var x=this.isDelta(this.value)?y.getContents():y.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=g,this.value=x,(E=(b=this.props).onChange)===null||E===void 0||E.call(b,m,g,_,y))}},p.prototype.onEditorChangeSelection=function(m,g,_){var y,b,E,x,j,w;if(this.editor){var C=this.getEditorSelection(),O=!C&&m,A=C&&!m;a.default(m,C)||(this.selection=m,(b=(y=this.props).onChangeSelection)===null||b===void 0||b.call(y,m,g,_),O?(x=(E=this.props).onFocus)===null||x===void 0||x.call(E,m,g,_):A&&((w=(j=this.props).onBlur)===null||w===void 0||w.call(j,C,g,_)))}},p.prototype.focus=function(){this.editor&&this.editor.focus()},p.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},p.displayName="React Quill",p.Quill=u.default,p.defaultProps={theme:"snow",modules:{},readOnly:!1},p})(i.default.Component);function h(f){Promise.resolve().then(f)}return Ci=d,Ci}var Lz=Mz();const Fz=np(Lz),$z=({value:t,onChange:e,disabled:r,placeholder:n})=>{const i={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{align:[]}],["link"],["clean"]]},s=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","align"];return c.jsxs("div",{className:"relative",children:[c.jsx(Fz,{theme:"snow",value:t,onChange:e,modules:i,formats:s,readOnly:r,placeholder:n,className:"min-h-[150px] max-h-[300px] overflow-y-auto"}),r&&c.jsx("div",{className:"absolute inset-0 bg-background/50 z-10 cursor-not-allowed rounded-md"})]})},tC=Kr({name:Ge(),url:Ge()}),qz=Kr({to:Ge().email({message:"Debe ser una dirección de correo válida."}),subject:Ge().min(1,{message:"El asunto es obligatorio."}),body:Ge().min(1,{message:"El cuerpo del correo no puede estar vacío."}),fromName:Ge().optional(),attachments:Dc(tC).optional(),attachmentsForSend:Dc(tC).optional()}),MR=({isOpen:t,onOpenChange:e,initialData:r,onSend:n,isSending:i})=>{const s=yn({resolver:bn(qz),defaultValues:{to:r.to||"",subject:r.subject||"",body:r.body||"",fromName:r.fromName||"",attachments:r.attachments||[],attachmentsForSend:r.attachmentsForSend||[]},values:{to:r.to||"",subject:r.subject||"",body:r.body||"",fromName:r.fromName||"",attachments:r.attachments||[],attachmentsForSend:r.attachmentsForSend||[]}}),a=async u=>{const d={...u,attachments:u.attachmentsForSend&&u.attachmentsForSend.length>0?u.attachmentsForSend:u.attachments};await n(d),s.reset()};return z.useEffect(()=>{t||s.reset()},[t,s]),c.jsx(rr,{open:t,onOpenChange:e,children:c.jsxs(Zt,{className:"sm:max-w-[600px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Redactar Correo Electrónico"}),c.jsx(an,{children:"Este es un sistema de correo simulado. El contenido del correo se registrará en la consola."})]}),c.jsx(wn,{...s,children:c.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[c.jsx(Ve,{control:s.control,name:"to",render:({field:u})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Para"}),c.jsx(qe,{children:c.jsx(at,{type:"email",...u,disabled:i})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:s.control,name:"subject",render:({field:u})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Asunto"}),c.jsx(qe,{children:c.jsx(at,{...u,disabled:i})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:s.control,name:"body",render:({field:u})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Cuerpo"}),c.jsx(qe,{children:c.jsx($z,{value:u.value,onChange:u.onChange,disabled:i,placeholder:"Escribe el cuerpo del correo aquí..."})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:s.control,name:"fromName",render:({field:u})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre del Remitente (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{...u,disabled:i})}),c.jsx(Ue,{})]})}),s.watch("attachments")&&s.watch("attachments").length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{children:"Adjuntos (Clic para previsualizar)"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:s.watch("attachments").map((u,d)=>c.jsxs(ul,{variant:"secondary",className:"flex items-center gap-1",children:[c.jsx(Vk,{className:"h-3 w-3"}),c.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"underline",children:u.name})]},d))})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(Ce,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):"Enviar Correo"})]})]})})]})})};function rC(t,[e,r]){return Math.min(r,Math.max(e,t))}function LR(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Bz=[" ","Enter","ArrowUp","ArrowDown"],Uz=[" ","Enter"],Ya="Select",[zp,Hp,Vz]=ip(Ya),[Qc]=Xn(Ya,[Vz,Jo]),Wp=Jo(),[zz,ra]=Qc(Ya),[Hz,Wz]=Qc(Ya),FR=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:u,onValueChange:d,dir:h,name:f,autoComplete:p,disabled:m,required:g,form:_}=t,y=Wp(e),[b,E]=N.useState(null),[x,j]=N.useState(null),[w,C]=N.useState(!1),O=kp(h),[A,P]=Ps({prop:n,defaultProp:i??!1,onChange:s,caller:Ya}),[q,T]=Ps({prop:a,defaultProp:u,onChange:d,caller:Ya}),D=N.useRef(null),L=b?_||!!b.closest("form"):!0,[B,U]=N.useState(new Set),Y=Array.from(B).map(X=>X.props.value).join(";");return c.jsx(mw,{...y,children:c.jsxs(zz,{required:g,scope:e,trigger:b,onTriggerChange:E,valueNode:x,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:C,contentId:Zr(),value:q,onValueChange:T,open:A,onOpenChange:P,dir:O,triggerPointerDownPosRef:D,disabled:m,children:[c.jsx(zp.Provider,{scope:e,children:c.jsx(Hz,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(X=>{U(ie=>new Set(ie).add(X))},[]),onNativeOptionRemove:N.useCallback(X=>{U(ie=>{const re=new Set(ie);return re.delete(X),re})},[]),children:r})}),L?c.jsxs(cP,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:p,value:q,onChange:X=>T(X.target.value),disabled:m,form:_,children:[q===void 0?c.jsx("option",{value:""}):null,Array.from(B)]},Y):null]})})};FR.displayName=Ya;var $R="SelectTrigger",qR=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=Wp(r),a=ra($R,r),u=a.disabled||n,d=$t(e,a.onTriggerChange),h=Hp(r),f=N.useRef("touch"),[p,m,g]=dP(y=>{const b=h().filter(j=>!j.disabled),E=b.find(j=>j.value===a.value),x=fP(b,y,E);x!==void 0&&a.onValueChange(x.value)}),_=y=>{u||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(Ad,{asChild:!0,...s,children:c.jsx(it.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":uP(a.value)?"":void 0,...i,ref:d,onClick:Le(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&_(y)}),onPointerDown:Le(i.onPointerDown,y=>{f.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(_(y),y.preventDefault())}),onKeyDown:Le(i.onKeyDown,y=>{const b=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&Bz.includes(y.key)&&(_(),y.preventDefault())})})})});qR.displayName=$R;var BR="SelectValue",UR=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...u}=t,d=ra(BR,r),{onValueNodeHasChildrenChange:h}=d,f=s!==void 0,p=$t(e,d.onValueNodeChange);return Dr(()=>{h(f)},[h,f]),c.jsx(it.span,{...u,ref:p,style:{pointerEvents:"none"},children:uP(d.value)?c.jsx(c.Fragment,{children:a}):s})});UR.displayName=BR;var Kz="SelectIcon",VR=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(it.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});VR.displayName=Kz;var Gz="SelectPortal",zR=t=>c.jsx($c,{asChild:!0,...t});zR.displayName=Gz;var Za="SelectContent",HR=N.forwardRef((t,e)=>{const r=ra(Za,t.__scopeSelect),[n,i]=N.useState();if(Dr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Fc.createPortal(c.jsx(WR,{scope:t.__scopeSelect,children:c.jsx(zp.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),s):null}return c.jsx(KR,{...t,ref:e})});HR.displayName=Za;var Ni=10,[WR,na]=Qc(Za),Qz="SelectContentImpl",Yz=zo("SelectContent.RemoveScroll"),KR=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:b,...E}=t,x=ra(Za,r),[j,w]=N.useState(null),[C,O]=N.useState(null),A=$t(e,Z=>w(Z)),[P,q]=N.useState(null),[T,D]=N.useState(null),L=Hp(r),[B,U]=N.useState(!1),Y=N.useRef(!1);N.useEffect(()=>{if(j)return _p(j)},[j]),bp();const X=N.useCallback(Z=>{const[le,...ce]=L().map(Te=>Te.ref.current),[me]=ce.slice(-1),je=document.activeElement;for(const Te of Z)if(Te===je||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===le&&C&&(C.scrollTop=0),Te===me&&C&&(C.scrollTop=C.scrollHeight),Te==null||Te.focus(),document.activeElement!==je))return},[L,C]),ie=N.useCallback(()=>X([P,j]),[X,P,j]);N.useEffect(()=>{B&&ie()},[B,ie]);const{onOpenChange:re,triggerPointerDownPosRef:K}=x;N.useEffect(()=>{if(j){let Z={x:0,y:0};const le=me=>{var je,Te;Z={x:Math.abs(Math.round(me.pageX)-(((je=K.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(me.pageY)-(((Te=K.current)==null?void 0:Te.y)??0))}},ce=me=>{Z.x<=10&&Z.y<=10?me.preventDefault():j.contains(me.target)||re(!1),document.removeEventListener("pointermove",le),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce,{capture:!0})}}},[j,re,K]),N.useEffect(()=>{const Z=()=>re(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[re]);const[Q,M]=dP(Z=>{const le=L().filter(je=>!je.disabled),ce=le.find(je=>je.ref.current===document.activeElement),me=fP(le,Z,ce);me&&setTimeout(()=>me.ref.current.focus())}),$=N.useCallback((Z,le,ce)=>{const me=!Y.current&&!ce;(x.value!==void 0&&x.value===le||me)&&(q(Z),me&&(Y.current=!0))},[x.value]),G=N.useCallback(()=>j==null?void 0:j.focus(),[j]),te=N.useCallback((Z,le,ce)=>{const me=!Y.current&&!ce;(x.value!==void 0&&x.value===le||me)&&D(Z)},[x.value]),ee=n==="popper"?Tb:GR,W=ee===Tb?{side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(WR,{scope:r,content:j,viewport:C,onViewportChange:O,itemRefCallback:$,selectedItem:P,onItemLeave:G,itemTextRefCallback:te,focusSelectedItem:ie,selectedItemText:T,position:n,isPositioned:B,searchRef:Q,children:c.jsx(Rd,{as:Yz,allowPinchZoom:!0,children:c.jsx(Td,{asChild:!0,trapped:x.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Le(i,Z=>{var le;(le=x.trigger)==null||le.focus({preventScroll:!0}),Z.preventDefault()}),children:c.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:c.jsx(ee,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Z=>Z.preventDefault(),...E,...W,onPlaced:()=>U(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Le(E.onKeyDown,Z=>{const le=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!le&&Z.key.length===1&&M(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let me=L().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const je=Z.target,Te=me.indexOf(je);me=me.slice(Te+1)}setTimeout(()=>X(me)),Z.preventDefault()}})})})})})})});KR.displayName=Qz;var Zz="SelectItemAlignedPosition",GR=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=ra(Za,r),a=na(Za,r),[u,d]=N.useState(null),[h,f]=N.useState(null),p=$t(e,A=>f(A)),m=Hp(r),g=N.useRef(!1),_=N.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:E,focusSelectedItem:x}=a,j=N.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&h&&y&&b&&E){const A=s.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),q=s.valueNode.getBoundingClientRect(),T=E.getBoundingClientRect();if(s.dir!=="rtl"){const je=T.left-P.left,Te=q.left-je,ze=A.left-Te,Ze=A.width+ze,pt=Math.max(Ze,P.width),_t=window.innerWidth-Ni,xt=rC(Te,[Ni,Math.max(Ni,_t-pt)]);u.style.minWidth=Ze+"px",u.style.left=xt+"px"}else{const je=P.right-T.right,Te=window.innerWidth-q.right-je,ze=window.innerWidth-A.right-Te,Ze=A.width+ze,pt=Math.max(Ze,P.width),_t=window.innerWidth-Ni,xt=rC(Te,[Ni,Math.max(Ni,_t-pt)]);u.style.minWidth=Ze+"px",u.style.right=xt+"px"}const D=m(),L=window.innerHeight-Ni*2,B=y.scrollHeight,U=window.getComputedStyle(h),Y=parseInt(U.borderTopWidth,10),X=parseInt(U.paddingTop,10),ie=parseInt(U.borderBottomWidth,10),re=parseInt(U.paddingBottom,10),K=Y+X+B+re+ie,Q=Math.min(b.offsetHeight*5,K),M=window.getComputedStyle(y),$=parseInt(M.paddingTop,10),G=parseInt(M.paddingBottom,10),te=A.top+A.height/2-Ni,ee=L-te,W=b.offsetHeight/2,Z=b.offsetTop+W,le=Y+X+Z,ce=K-le;if(le<=te){const je=D.length>0&&b===D[D.length-1].ref.current;u.style.bottom="0px";const Te=h.clientHeight-y.offsetTop-y.offsetHeight,ze=Math.max(ee,W+(je?G:0)+Te+ie),Ze=le+ze;u.style.height=Ze+"px"}else{const je=D.length>0&&b===D[0].ref.current;u.style.top="0px";const ze=Math.max(te,Y+y.offsetTop+(je?$:0)+W)+ce;u.style.height=ze+"px",y.scrollTop=le-te+y.offsetTop}u.style.margin=`${Ni}px 0`,u.style.minHeight=Q+"px",u.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,u,h,y,b,E,s.dir,n]);Dr(()=>j(),[j]);const[w,C]=N.useState();Dr(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const O=N.useCallback(A=>{A&&_.current===!0&&(j(),x==null||x(),_.current=!1)},[j,x]);return c.jsx(Xz,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:c.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:c.jsx(it.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GR.displayName=Zz;var Jz="SelectPopperPosition",Tb=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ni,...s}=t,a=Wp(r);return c.jsx(fp,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tb.displayName=Jz;var[Xz,o1]=Qc(Za,{}),Rb="SelectViewport",QR=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=na(Rb,r),a=o1(Rb,r),u=$t(e,s.onViewportChange),d=N.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(zp.Slot,{scope:r,children:c.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&p){const g=Math.abs(d.current-f.scrollTop);if(g>0){const _=window.innerHeight-Ni*2,y=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),E=Math.max(y,b);if(E<_){const x=E+g,j=Math.min(_,x),w=x-j;p.style.height=j+"px",p.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,p.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});QR.displayName=Rb;var YR="SelectGroup",[eH,tH]=Qc(YR),ZR=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Zr();return c.jsx(eH,{scope:r,id:i,children:c.jsx(it.div,{role:"group","aria-labelledby":i,...n,ref:e})})});ZR.displayName=YR;var JR="SelectLabel",XR=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=tH(JR,r);return c.jsx(it.div,{id:i.id,...n,ref:e})});XR.displayName=JR;var ep="SelectItem",[rH,eP]=Qc(ep),tP=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,u=ra(ep,r),d=na(ep,r),h=u.value===n,[f,p]=N.useState(s??""),[m,g]=N.useState(!1),_=$t(e,x=>{var j;return(j=d.itemRefCallback)==null?void 0:j.call(d,x,n,i)}),y=Zr(),b=N.useRef("touch"),E=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(rH,{scope:r,value:n,disabled:i,textId:y,isSelected:h,onItemTextChange:N.useCallback(x=>{p(j=>j||((x==null?void 0:x.textContent)??"").trim())},[]),children:c.jsx(zp.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:c.jsx(it.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":h&&m,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:_,onFocus:Le(a.onFocus,()=>g(!0)),onBlur:Le(a.onBlur,()=>g(!1)),onClick:Le(a.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:Le(a.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:Le(a.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Le(a.onPointerMove,x=>{var j;b.current=x.pointerType,i?(j=d.onItemLeave)==null||j.call(d):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(a.onPointerLeave,x=>{var j;x.currentTarget===document.activeElement&&((j=d.onItemLeave)==null||j.call(d))}),onKeyDown:Le(a.onKeyDown,x=>{var w;((w=d.searchRef)==null?void 0:w.current)!==""&&x.key===" "||(Uz.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})})})})});tP.displayName=ep;var Wu="SelectItemText",rP=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=ra(Wu,r),u=na(Wu,r),d=eP(Wu,r),h=Wz(Wu,r),[f,p]=N.useState(null),m=$t(e,E=>p(E),d.onItemTextChange,E=>{var x;return(x=u.itemTextRefCallback)==null?void 0:x.call(u,E,d.value,d.disabled)}),g=f==null?void 0:f.textContent,_=N.useMemo(()=>c.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=h;return Dr(()=>(y(_),()=>b(_)),[y,b,_]),c.jsxs(c.Fragment,{children:[c.jsx(it.span,{id:d.textId,...s,ref:m}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Fc.createPortal(s.children,a.valueNode):null]})});rP.displayName=Wu;var nP="SelectItemIndicator",iP=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return eP(nP,r).isSelected?c.jsx(it.span,{"aria-hidden":!0,...n,ref:e}):null});iP.displayName=nP;var Pb="SelectScrollUpButton",sP=N.forwardRef((t,e)=>{const r=na(Pb,t.__scopeSelect),n=o1(Pb,t.__scopeSelect),[i,s]=N.useState(!1),a=$t(e,n.onScrollButtonChange);return Dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=d.scrollTop>0;s(h)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?c.jsx(aP,{...t,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});sP.displayName=Pb;var Ib="SelectScrollDownButton",oP=N.forwardRef((t,e)=>{const r=na(Ib,t.__scopeSelect),n=o1(Ib,t.__scopeSelect),[i,s]=N.useState(!1),a=$t(e,n.onScrollButtonChange);return Dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;s(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?c.jsx(aP,{...t,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});oP.displayName=Ib;var aP=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=na("SelectScrollButton",r),a=N.useRef(null),u=Hp(r),d=N.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return N.useEffect(()=>()=>d(),[d]),Dr(()=>{var f;const h=u().find(p=>p.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[u]),c.jsx(it.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Le(i.onPointerMove,()=>{var h;(h=s.onItemLeave)==null||h.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{d()})})}),nH="SelectSeparator",lP=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(it.div,{"aria-hidden":!0,...n,ref:e})});lP.displayName=nH;var Db="SelectArrow",iH=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Wp(r),s=ra(Db,r),a=na(Db,r);return s.open&&a.position==="popper"?c.jsx(hp,{...i,...n,ref:e}):null});iH.displayName=Db;var sH="SelectBubbleInput",cP=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=N.useRef(null),s=$t(n,i),a=LR(e);return N.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==e&&f){const p=new Event("change",{bubbles:!0});f.call(u,e),u.dispatchEvent(p)}},[a,e]),c.jsx(it.select,{...r,style:{...gk,...r.style},ref:s,defaultValue:e})});cP.displayName=sH;function uP(t){return t===""||t===void 0}function dP(t){const e=gn(t),r=N.useRef(""),n=N.useRef(0),i=N.useCallback(a=>{const u=r.current+a;e(u),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[e]),s=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function fP(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=oH(t,Math.max(s,0));i.length===1&&(a=a.filter(h=>h!==r));const d=a.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function oH(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var aH=FR,hP=qR,lH=UR,cH=VR,uH=zR,pP=HR,dH=QR,fH=ZR,mP=XR,gP=tP,hH=rP,pH=iP,vP=sP,yP=oP,bP=lP;const Br=aH,nC=fH,Ur=lH,Rr=N.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(hP,{ref:n,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(cH,{asChild:!0,children:c.jsx(qk,{className:"h-4 w-4 opacity-50"})})]}));Rr.displayName=hP.displayName;const wP=N.forwardRef(({className:t,...e},r)=>c.jsx(vP,{ref:r,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(uD,{className:"h-4 w-4"})}));wP.displayName=vP.displayName;const xP=N.forwardRef(({className:t,...e},r)=>c.jsx(yP,{ref:r,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(qk,{className:"h-4 w-4"})}));xP.displayName=yP.displayName;const Pr=N.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>c.jsx(uH,{children:c.jsxs(pP,{ref:i,className:Be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(wP,{}),c.jsx(dH,{className:Be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(xP,{})]})}));Pr.displayName=pP.displayName;const Mb=N.forwardRef(({className:t,...e},r)=>c.jsx(mP,{ref:r,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Mb.displayName=mP.displayName;const Qt=N.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(gP,{ref:n,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(pH,{children:c.jsx(Nd,{className:"h-4 w-4"})})}),c.jsx(hH,{children:e})]}));Qt.displayName=gP.displayName;const mH=N.forwardRef(({className:t,...e},r)=>c.jsx(bP,{ref:r,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));mH.displayName=bP.displayName;const gH=({searchTerm:t,onSearchChange:e,filterStatus:r,onStatusChange:n})=>c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx(at,{placeholder:"Buscar solicitudes (producto, catálogo, marca, proveedor, solicitante, gerente, cotización, PO)...",value:t,onChange:i=>e(i.target.value),className:"flex-1"}),c.jsxs(Br,{value:r,onValueChange:n,children:[c.jsx(Rr,{className:"w-full sm:w-[180px]",children:c.jsx(Ur,{placeholder:"Filtrar por Estado"})}),c.jsxs(Pr,{children:[c.jsx(Qt,{value:"All",children:"Todos los Estados"}),c.jsx(Qt,{value:"Pending",children:"Pendiente"}),c.jsx(Qt,{value:"Quote Requested",children:"Cotización Solicitada"}),c.jsx(Qt,{value:"PO Requested",children:"PO Solicitado (Cómprame)"}),c.jsx(Qt,{value:"Ordered",children:"Pedido"}),c.jsx(Qt,{value:"Received",children:"Recibido"}),c.jsx(Qt,{value:"Denied",children:"Denegada"}),c.jsx(Qt,{value:"Cancelled",children:"Cancelada"})]})]})]}),Fi=N.forwardRef(({className:t,...e},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:Be("w-full caption-bottom text-sm",t),...e})}));Fi.displayName="Table";const $i=N.forwardRef(({className:t,...e},r)=>c.jsx("thead",{ref:r,className:Be("[&_tr]:border-b",t),...e}));$i.displayName="TableHeader";const qi=N.forwardRef(({className:t,...e},r)=>c.jsx("tbody",{ref:r,className:Be("[&_tr:last-child]:border-0",t),...e}));qi.displayName="TableBody";const vH=N.forwardRef(({className:t,...e},r)=>c.jsx("tfoot",{ref:r,className:Be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));vH.displayName="TableFooter";const sr=N.forwardRef(({className:t,...e},r)=>c.jsx("tr",{ref:r,className:Be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));sr.displayName="TableRow";const ht=N.forwardRef(({className:t,...e},r)=>c.jsx("th",{ref:r,className:Be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ht.displayName="TableHead";const rt=N.forwardRef(({className:t,...e},r)=>c.jsx("td",{ref:r,className:Be("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));rt.displayName="TableCell";const yH=N.forwardRef(({className:t,...e},r)=>c.jsx("caption",{ref:r,className:Be("mt-4 text-sm text-muted-foreground",t),...e}));yH.displayName="TableCaption";function Bi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ja(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const _P=6048e5,bH=864e5;let wH={};function Kp(){return wH}function pd(t,e){var u,d,h,f;const r=Kp(),n=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,i=Bi(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function tp(t){return pd(t,{weekStartsOn:1})}function EP(t){const e=Bi(t),r=e.getFullYear(),n=Ja(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=tp(n),s=Ja(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=tp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function iC(t){const e=Bi(t);return e.setHours(0,0,0,0),e}function sC(t){const e=Bi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function xH(t,e){const r=iC(t),n=iC(e),i=+r-sC(r),s=+n-sC(n);return Math.round((i-s)/bH)}function _H(t){const e=EP(t),r=Ja(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),tp(r)}function EH(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SH(t){if(!EH(t)&&typeof t!="number")return!1;const e=Bi(t);return!isNaN(Number(e))}function jH(t){const e=Bi(t),r=Ja(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const CH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kH=(t,e,r)=>{let n;const i=CH[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function c0(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const NH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TH={date:c0({formats:NH,defaultWidth:"full"}),time:c0({formats:OH,defaultWidth:"full"}),dateTime:c0({formats:AH,defaultWidth:"full"})},RH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PH=(t,e,r,n)=>RH[t];function Mu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=r!=null&&r.width?String(r.width):a;i=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const IH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$H={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qH=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},BH={ordinalNumber:qH,era:Mu({values:IH,defaultWidth:"wide"}),quarter:Mu({values:DH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mu({values:MH,defaultWidth:"wide"}),day:Mu({values:LH,defaultWidth:"wide"}),dayPeriod:Mu({values:FH,defaultWidth:"wide",formattingValues:$H,defaultFormattingWidth:"wide"})};function Lu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?VH(u,p=>p.test(a)):UH(u,p=>p.test(a));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const f=e.slice(a.length);return{value:h,rest:f}}}function UH(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function VH(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function zH(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const u=e.slice(i.length);return{value:a,rest:u}}}const HH=/^(\d+)(th|st|nd|rd)?/i,WH=/\d+/i,KH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GH={any:[/^b/i,/^(a|c)/i]},QH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YH={any:[/1/i,/2/i,/3/i,/4/i]},ZH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nW={ordinalNumber:zH({matchPattern:HH,parsePattern:WH,valueCallback:t=>parseInt(t,10)}),era:Lu({matchPatterns:KH,defaultMatchWidth:"wide",parsePatterns:GH,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:QH,defaultMatchWidth:"wide",parsePatterns:YH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lu({matchPatterns:ZH,defaultMatchWidth:"wide",parsePatterns:JH,defaultParseWidth:"any"}),day:Lu({matchPatterns:XH,defaultMatchWidth:"wide",parsePatterns:eW,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:tW,defaultMatchWidth:"any",parsePatterns:rW,defaultParseWidth:"any"})},iW={code:"en-US",formatDistance:kH,formatLong:TH,formatRelative:PH,localize:BH,match:nW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sW(t){const e=Bi(t);return xH(e,jH(e))+1}function oW(t){const e=Bi(t),r=+tp(e)-+_H(e);return Math.round(r/_P)+1}function SP(t,e){var f,p,m,g;const r=Bi(t),n=r.getFullYear(),i=Kp(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=Ja(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const u=pd(a,e),d=Ja(t,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const h=pd(d,e);return r.getTime()>=u.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function aW(t,e){var u,d,h,f;const r=Kp(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=SP(t,e),s=Ja(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),pd(s,e)}function lW(t,e){const r=Bi(t),n=+pd(r,e)-+aW(r,e);return Math.round(n/_P)+1}function tr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const vo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return tr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):tr(r+1,2)},d(t,e){return tr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return tr(t.getHours()%12||12,e.length)},H(t,e){return tr(t.getHours(),e.length)},m(t,e){return tr(t.getMinutes(),e.length)},s(t,e){return tr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return tr(i,e.length)}},Wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oC={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return vo.y(t,e)},Y:function(t,e,r,n){const i=SP(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return tr(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):tr(s,e.length)},R:function(t,e){const r=EP(t);return tr(r,e.length)},u:function(t,e){const r=t.getFullYear();return tr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return tr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return tr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return vo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return tr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=lW(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):tr(i,e.length)},I:function(t,e,r){const n=oW(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):tr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):vo.d(t,e)},D:function(t,e,r){const n=sW(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):tr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return tr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return tr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return tr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Wl.noon:n===0?i=Wl.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Wl.evening:n>=12?i=Wl.afternoon:n>=4?i=Wl.morning:i=Wl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):vo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):vo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):vo.s(t,e)},S:function(t,e){return vo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return lC(n);case"XXXX":case"XX":return xa(n);case"XXXXX":case"XXX":default:return xa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return lC(n);case"xxxx":case"xx":return xa(n);case"xxxxx":case"xxx":default:return xa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aC(n,":");case"OOOO":default:return"GMT"+xa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aC(n,":");case"zzzz":default:return"GMT"+xa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return tr(n,e.length)},T:function(t,e,r){const n=t.getTime();return tr(n,e.length)}};function aC(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+tr(s,2)}function lC(t,e){return t%60===0?(t>0?"-":"+")+tr(Math.abs(t)/60,2):xa(t,e)}function xa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=tr(Math.trunc(n/60),2),s=tr(n%60,2);return r+i+e+s}const cC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cW=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return cC(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",cC(n,e)).replace("{{time}}",jP(i,e))},uW={p:jP,P:cW},dW=/^D+$/,fW=/^Y+$/,hW=["D","DD","YY","YYYY"];function pW(t){return dW.test(t)}function mW(t){return fW.test(t)}function gW(t,e,r){const n=vW(t,e,r);if(console.warn(n),hW.includes(t))throw new RangeError(n)}function vW(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wW=/^'([^]*?)'?$/,xW=/''/g,_W=/[a-zA-Z]/;function Mc(t,e,r){var f,p,m,g;const n=Kp(),i=n.locale??iW,s=n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,u=Bi(t);if(!SH(u))throw new RangeError("Invalid time value");let d=e.match(bW).map(_=>{const y=_[0];if(y==="p"||y==="P"){const b=uW[y];return b(_,i.formatLong)}return _}).join("").match(yW).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const y=_[0];if(y==="'")return{isToken:!1,value:EW(_)};if(oC[y])return{isToken:!0,value:_};if(y.match(_W))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const h={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return d.map(_=>{if(!_.isToken)return _.value;const y=_.value;(mW(y)||pW(y))&&gW(y,e,String(t));const b=oC[y[0]];return b(u,y,i.localize,h)}).join("")}function EW(t){const e=t.match(wW);return e?e[1].replace(xW,"'"):t}const CP=({request:t,isUpdatingStatus:e,onViewDetails:r,onApprove:n,onEnterQuoteDetails:i,onSendPORequest:s,onMarkAsOrdered:a,onMarkAsReceived:u,onDeny:d,onCancel:h,onMerge:f,onSendQuoteRequest:p})=>{const m=t.status==="Pending";return c.jsxs("div",{className:"text-right flex justify-end space-x-2",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>r(t.id),title:"Ver Detalles",children:c.jsx(gD,{className:"h-4 w-4"})}),m&&c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>f(t),title:"Fusionar con otra solicitud",disabled:e,children:c.jsx(hD,{className:"h-4 w-4 text-purple-600"})}),t.status==="Pending"&&c.jsxs(c.Fragment,{children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>p(t),title:"Solicitar Cotización (Correo)",disabled:e,children:c.jsx(ic,{className:"h-4 w-4 text-blue-500"})}),c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>n(t),title:"Aprobar Solicitud",disabled:e,children:c.jsx(nw,{className:"h-4 w-4 text-green-600"})}),c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>d(t),title:"Denegar Solicitud",disabled:e,children:c.jsx(kh,{className:"h-4 w-4 text-red-600"})})]}),t.status==="Quote Requested"&&!t.quote_url&&c.jsxs(c.Fragment,{children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>i(t),title:"Subir Archivo de Cotización",disabled:e,children:c.jsx(Uk,{className:"h-4 w-4 text-blue-600"})}),c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>d(t),title:"Denegar Solicitud",disabled:e,children:c.jsx(kh,{className:"h-4 w-4 text-red-600"})})]}),t.status==="Quote Requested"&&t.quote_url&&t.account_manager_id&&c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>s(t),title:"Enviar Solicitud de PO al Gerente de Cuenta",disabled:e,children:c.jsx(ic,{className:"h-4 w-4 text-orange-600"})}),t.status==="PO Requested"&&c.jsxs(c.Fragment,{children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>a(t),title:"Subir PO y Marcar como Pedido",disabled:e,children:c.jsx(iw,{className:"h-4 w-4 text-green-700"})}),c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>h(t),title:"Cancelar Solicitud",disabled:e,children:c.jsx(Nh,{className:"h-4 w-4 text-red-600"})})]}),t.status==="Ordered"&&c.jsxs(c.Fragment,{children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>u(t),title:"Marcar como Recibido",disabled:e,children:c.jsx(zk,{className:"h-4 w-4 text-purple-600"})}),c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>h(t),title:"Cancelar Solicitud",disabled:e,children:c.jsx(Nh,{className:"h-4 w-4 text-red-600"})})]})]})},zn=N.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));zn.displayName="Card";const Hn=N.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Be("flex flex-col space-y-1.5 p-6",t),...e}));Hn.displayName="CardHeader";const Wn=N.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:Be("text-2xl font-semibold leading-none tracking-tight",t),...e}));Wn.displayName="CardTitle";const SW=N.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:Be("text-sm text-muted-foreground",t),...e}));SW.displayName="CardDescription";const Kn=N.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Be("p-6 pt-0",t),...e}));Kn.displayName="CardContent";const jW=N.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Be("flex items-center p-6 pt-0",t),...e}));jW.displayName="CardFooter";var CW="Separator",uC="horizontal",kW=["horizontal","vertical"],kP=N.forwardRef((t,e)=>{const{decorative:r,orientation:n=uC,...i}=t,s=NW(n)?n:uC,u=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return c.jsx(it.div,{"data-orientation":s,...u,...i,ref:e})});kP.displayName=CW;function NW(t){return kW.includes(t)}var NP=kP;const fc=N.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>c.jsx(NP,{ref:i,decorative:r,orientation:e,className:Be("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));fc.displayName=NP.displayName;const OP=t=>{switch(t){case"Pending":return"secondary";case"Quote Requested":case"PO Requested":return"destructive";case"Ordered":return"default";case"Received":return"success";case"Denied":case"Cancelled":return"destructive";default:return"secondary"}},OW=({request:t,vendor:e,requesterName:r,date:n,actionProps:i})=>{var u,d,h;const s=((u=t.items)==null?void 0:u.reduce((f,p)=>f+p.quantity,0))||0,a=t.request_number||t.id.substring(0,8);return c.jsxs(zn,{className:"w-full shadow-md",children:[c.jsxs(Hn,{className:"p-4 pb-2 flex flex-row items-start justify-between",children:[c.jsxs(Wn,{className:"text-lg font-bold flex flex-col",children:[c.jsxs(Ba,{to:`/requests/${t.id}`,className:"text-sm text-primary hover:underline",children:["Solicitud ",a]}),c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:(e==null?void 0:e.name)||"N/A"})]}),c.jsxs(ul,{variant:OP(t.status),className:"text-xs",children:[t.status==="Pending"&&"Pendiente",t.status==="Quote Requested"&&"Cot. Solicitada",t.status==="PO Requested"&&"PO Solicitado",t.status==="Ordered"&&"Pedido",t.status==="Received"&&"Recibido",t.status==="Denied"&&"Denegada",t.status==="Cancelled"&&"Cancelada"]})]}),c.jsxs(Kn,{className:"p-4 pt-2 space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground",children:"Solicitante"}),c.jsx("p",{className:"font-medium",children:r})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-muted-foreground",children:"Fecha"}),c.jsx("p",{className:"font-medium",children:n})]})]}),c.jsx(fc,{}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-muted-foreground text-sm mb-1",children:["Artículos (",((d=t.items)==null?void 0:d.length)||0," tipos, ",s," uds)"]}),c.jsxs("ul",{className:"text-xs space-y-0.5 max-h-12 overflow-hidden",children:[(h=t.items)==null?void 0:h.slice(0,2).map(f=>c.jsxs("li",{className:"truncate",children:[f.quantity,"x ",f.product_name," (",f.catalog_number,")"]},f.id)),t.items&&t.items.length>2&&c.jsxs("li",{className:"text-primary font-medium",children:["... y ",t.items.length-2," más"]})]})]}),c.jsx("div",{className:"flex justify-end pt-2",children:c.jsx(CP,{request:t,...i})})]})]})},AW=({requests:t,vendors:e,profiles:r,onSendQuoteRequest:n,...i})=>{const{data:s}=cl(),a=IA(),u=f=>{const p=r==null?void 0:r.find(m=>m.id===f);return Mi(p)};return a?c.jsx("div",{className:"space-y-4",children:t.length===0?c.jsx("div",{className:"h-24 text-center text-muted-foreground flex items-center justify-center border rounded-md",children:"No se encontraron solicitudes que coincidan con tus criterios."}):t.map(f=>{const p=e==null?void 0:e.find(_=>_.id===f.vendor_id),m=u(f.requester_id),g=Mc(new Date(f.created_at),"yyyy-MM-dd");return c.jsx(OW,{request:f,vendor:p,requesterName:m,date:g,actionProps:{...i,onSendQuoteRequest:n}},f.id)})}):c.jsx("div",{className:"rounded-md border overflow-x-auto",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{className:"min-w-[150px]",children:"Solicitud"}),c.jsx(ht,{children:"Solicitante"}),c.jsx(ht,{className:"min-w-[120px]",children:"Artículos"}),c.jsx(ht,{children:"Estado"}),c.jsx(ht,{children:"Fecha"}),c.jsx(ht,{className:"text-right min-w-[100px]",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No se encontraron solicitudes que coincidan con tus criterios."})}):t.map(f=>{var E,x;const p=e==null?void 0:e.find(j=>j.id===f.vendor_id),m=u(f.requester_id),g=Mc(new Date(f.created_at),"yyyy-MM-dd"),_=f.request_number||f.id.substring(0,8),y=((E=f.items)==null?void 0:E.reduce((j,w)=>j+w.quantity,0))||0,b=(x=f.items)==null?void 0:x.slice(0,2).map(j=>c.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.quantity,"x ",j.product_name]},j.id));return c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:c.jsxs(Ba,{to:`/requests/${f.id}`,className:"flex flex-col hover:underline",children:[c.jsx("span",{className:"font-bold text-primary",children:_}),c.jsx("span",{className:"text-xs text-muted-foreground",children:(p==null?void 0:p.name)||"N/A"})]})}),c.jsx(rt,{children:m}),c.jsx(rt,{className:"max-w-[250px]",children:c.jsxs("div",{className:"space-y-1",children:[b,f.items&&f.items.length>2&&c.jsxs("div",{className:"text-xs font-medium text-primary",children:["(+",f.items.length-2," más, ",y," unidades)"]}),f.items&&f.items.length<=2&&c.jsxs("div",{className:"text-xs font-medium text-primary",children:["(",y," unidades)"]})]})}),c.jsx(rt,{children:c.jsxs(ul,{variant:OP(f.status),children:[f.status==="Pending"&&"Pendiente",f.status==="Quote Requested"&&"Cot. Solicitada",f.status==="PO Requested"&&"PO Solicitado",f.status==="Ordered"&&"Pedido",f.status==="Received"&&"Recibido",f.status==="Denied"&&"Denegada",f.status==="Cancelled"&&"Cancelada"]})}),c.jsx(rt,{children:g}),c.jsx(rt,{children:c.jsx(CP,{request:f,onSendQuoteRequest:n,...i})})]},f.id)})})]})})},TW="LabFlow",RW=60,hc=async t=>{if(!t)return null;console.log(`[Storage] Attempting to generate signed URL for path: ${t}`);try{const{data:e,error:r}=await Xe.storage.from(TW).createSignedUrl(t,RW);return r?(console.error("[Storage] Error generating signed URL:",r),ke.error("Failed to generate secure file link.",{description:r.message}),null):(console.log(`[Storage] Successfully generated signed URL for path: ${t}`),e.signedUrl)}catch(e){return console.error("[Storage] Unexpected error during signed URL generation:",e),ke.error("An unexpected error occurred while securing the file link."),null}},Hs=()=>ei({queryKey:["projects"],queryFn:async()=>{const{data:t,error:e}=await Xe.from("projects").select("*");if(e)throw new Error(e.message);return t||[]}}),PW=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{data:r,error:n}=await Xe.from("projects").insert([e]).select().single();if(n)throw new Error(n.message);return r},onSuccess:()=>{ke.success("Proyecto añadido exitosamente!"),t.invalidateQueries({queryKey:["projects"]})},onError:e=>{ke.error("Fallo al añadir proyecto.",{description:e.message})}})},IW=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const{data:n,error:i}=await Xe.from("projects").update(r).eq("id",e).select().single();if(i)throw new Error(i.message);return n},onSuccess:()=>{ke.success("Proyecto actualizado exitosamente!"),t.invalidateQueries({queryKey:["projects"]})},onError:e=>{ke.error("Fallo al actualizar proyecto.",{description:e.message})}})},DW=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{error:r}=await Xe.from("projects").delete().eq("id",e);if(r)throw new Error(`Fallo al eliminar proyecto: ${r.message}`)},onSuccess:()=>{ke.success("Proyecto eliminado exitosamente!"),t.invalidateQueries({queryKey:["projects"]})},onError:e=>{ke.error(e.message)}})},a1=()=>ei({queryKey:["email_templates"],queryFn:async()=>{const{data:t,error:e}=await Xe.from("email_templates").select("*");if(e)throw new Error(e.message);return t||[]}}),MW=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const{data:n,error:i}=await Xe.from("email_templates").update(r).eq("id",e).select().single();if(i)throw new Error(`Fallo al actualizar plantilla: ${i.message}`);return n},onSuccess:e=>{ke.success(`Plantilla "${e.template_name}" actualizada exitosamente!`),t.invalidateQueries({queryKey:["email_templates"]})},onError:e=>{ke.error(e.message)}})},LW=t=>!t||t.length===0?"<p>No items listed.</p>":`<ul>${t.map(r=>`<li>${r.quantity}x <strong>${r.product_name}</strong> (Catalog #: ${r.catalog_number})</li>`).join("")}</ul>`,dC=t=>t?`
    <p style="margin: 0;"><strong>${t.name}</strong></p>
    <p style="margin: 0;">${t.address_line_1}</p>
    ${t.address_line_2?`<p style="margin: 0;">${t.address_line_2}</p>`:""}
    <p style="margin: 0;">${t.city}, ${t.state} ${t.zip_code}</p>
    <p style="margin: 0;">${t.country}</p>
  `:"N/A",Ft=(t,e,r)=>{const n=new RegExp(`{{${e}(?:\\s*\\|\\s*"(.*?)")?}}`,"g");return t.replace(n,(i,s)=>r!=null&&String(r).trim()!==""?String(r):s||"N/A")},Ku=(t,e)=>{var m;let r=t;const{request:n,vendor:i,requesterProfile:s,accountManager:a,projects:u,actorProfile:d,message:h,order:f}=e;r=Ft(r,"request.id",n.request_number||n.id.substring(0,8)),r=Ft(r,"request.status",n.status),r=Ft(r,"request.notes",n.notes),r=Ft(r,"request.po_number",n.po_number),r=Ft(r,"requester.full_name",Mi(s)),r=Ft(r,"requester.email",s==null?void 0:s.email),r=Ft(r,"vendor.name",i==null?void 0:i.name),r=Ft(r,"vendor.contact_person",i==null?void 0:i.contact_person),r=Ft(r,"vendor.email",i==null?void 0:i.email),r=Ft(r,"account_manager.full_name",a?`${a.first_name} ${a.last_name}`:null),r=Ft(r,"account_manager.email",a==null?void 0:a.email);const p=(m=n.project_codes)==null?void 0:m.map(g=>{const _=u==null?void 0:u.find(y=>y.id===g);return _?_.code:g}).join(", ");return r=Ft(r,"request.project_codes",p),r=Ft(r,"message",h),r=Ft(r,"actor.full_name",Mi(d)),r=Ft(r,"order.itemName",f==null?void 0:f.itemName),r=Ft(r,"order.id",f==null?void 0:f.id),r.replace(/<[^>]*>?/gm,"").trim()},Gu=(t,e)=>{var y;let r=t;const{request:n,vendor:i,requesterProfile:s,accountManager:a,projects:u,actorProfile:d,shippingAddress:h,billingAddress:f,message:p,order:m}=e;r=Ft(r,"request.id",n.request_number||n.id.substring(0,8)),r=Ft(r,"request.status",n.status),r=Ft(r,"request.notes",n.notes),r=Ft(r,"request.quote_url",n.quote_url),r=Ft(r,"request.po_number",n.po_number),r=Ft(r,"request.po_url",n.po_url),r=Ft(r,"request.slip_url",n.slip_url),r=Ft(r,"requester.full_name",Mi(s)),r=Ft(r,"requester.email",s==null?void 0:s.email),r=Ft(r,"vendor.name",i==null?void 0:i.name),r=Ft(r,"vendor.contact_person",i==null?void 0:i.contact_person),r=Ft(r,"vendor.email",i==null?void 0:i.email),r=Ft(r,"account_manager.full_name",a?`${a.first_name} ${a.last_name}`:null),r=Ft(r,"account_manager.email",a==null?void 0:a.email);const g=(y=n.project_codes)==null?void 0:y.map(b=>{const E=u==null?void 0:u.find(x=>x.id===b);return E?E.code:b}).join(", ");return r=Ft(r,"request.project_codes",g),r=r.replace(/{{shipping_address}}/g,dC(h)),r=r.replace(/{{billing_address}}/g,dC(f)),r=r.replace(/{{items_list}}/g,LW(n.items)),r=Ft(r,"message",p),r=Ft(r,"actor.full_name",Mi(d)),r=Ft(r,"order.itemName",m==null?void 0:m.itemName),r=Ft(r,"order.id",m==null?void 0:m.id),r=r.replace(/{{cta_button}}/g,"[Call to Action Button]"),`
    <div style="font-family: sans-serif; line-height: 1.6;">
      ${r.replace(/\n/g,"<br />")}
      <br /><br />
      <p style="font-size: 0.8em; color: #888;">This is an automated message from the LabFlow system.</p>
    </div>
  `},AP=t=>ei({queryKey:["aggregatedReceivedItems",t],queryFn:async()=>{const{data:e,error:r}=await Xe.from("received_items").select(`
          quantity_received,
          request_item_id,
          slip_id!inner (request_id)
        `).eq("slip_id.request_id",t);if(r)throw new Error(r.message);const n=e.reduce((i,s)=>{const a=s.request_item_id;return i[a]=(i[a]||0)+s.quantity_received,i},{});return Object.entries(n).map(([i,s])=>({request_item_id:i,total_received:s}))},enabled:!!t}),FW=()=>{const t=Mt(),{session:e}=ti();return Ut({mutationFn:async r=>{var C;const{requestId:n,slipNumber:i,slipFile:s,items:a}=r,u=(C=e==null?void 0:e.user)==null?void 0:C.id;if(!u)throw new Error("El usuario debe iniciar sesión para recibir artículos.");let d=i.trim();d||(d=`AUTO-${Date.now()}`);let h=null;if(s){const O=new FormData;O.append("file",s),O.append("fileType","slip"),O.append("requestId",n);const{data:A,error:P}=await Xe.functions.invoke("upload-file",{body:O,method:"POST"});if(P)throw console.error("Error uploading slip file:",P),new Error(`Fallo al subir el archivo de albarán: ${P.message}`);h=A.filePath}const{data:f,error:p}=await Xe.from("packing_slips").insert({request_id:n,slip_number:d,received_by:u,slip_url:h}).select().single();if(p)throw new Error(`Fallo al crear el albarán: ${p.message}`);const m=f.id,g=a.map(O=>({slip_id:m,request_item_id:O.requestItemId,quantity_received:O.quantityReceived})),{error:_}=await Xe.from("received_items").insert(g);if(_)throw new Error(`Fallo al insertar artículos recibidos: ${_.message}`);for(const O of a)if(O.quantityReceived>0){const{error:A}=await Xe.rpc("add_or_update_inventory_item",{product_name_in:O.itemDetails.product_name,catalog_number_in:O.itemDetails.catalog_number,brand_in:O.itemDetails.brand,quantity_in:O.quantityReceived,unit_price_in:O.itemDetails.unit_price,format_in:O.itemDetails.format});if(A)throw new Error(`Fallo al actualizar el inventario para ${O.itemDetails.product_name}: ${A.message}`)}const{data:y,error:b}=await Xe.from("requests").select(`
          id,
          status,
          items:request_items (id, quantity)
        `).eq("id",n).single();if(b)throw new Error(`Fallo al obtener detalles de la solicitud para la verificación de estado: ${b.message}`);const{data:E,error:x}=await Xe.from("received_items").select(`
          quantity_received,
          request_item_id,
          slip_id!inner (request_id)
        `).eq("slip_id.request_id",n);if(x)throw new Error(`Fallo al obtener artículos recibidos agregados para la verificación de estado: ${x.message}`);const j=E.reduce((O,A)=>{const P=A.request_item_id;return O[P]=(O[P]||0)+A.quantity_received,O},{});if(y.items.every(O=>{const A=O.quantity;return(j[O.id]||0)>=A})&&y.status!=="Received"){const{error:O}=await Xe.from("requests").update({status:"Received"}).eq("id",n);O?console.error("Error updating request status to Received:",O):ke.info(`Solicitud ${n} recibida completamente! Estado actualizado.`)}return t.invalidateQueries({queryKey:["requests"]}),t.invalidateQueries({queryKey:["aggregatedReceivedItems",n]}),t.invalidateQueries({queryKey:["packingSlips",n]}),t.invalidateQueries({queryKey:["inventory"]}),f},onSuccess:r=>{ke.success("Artículos recibidos exitosamente!",{description:`Albarán #${r.slip_number} registrado.`})},onError:r=>{ke.error("Fallo al registrar la recepción del artículo.",{description:r.message})}})},$W=Kr({requestItemId:Ge(),productName:Ge(),quantityOrdered:is(),quantityPreviouslyReceived:is(),quantityReceived:Qo(t=>Number(t),is().min(0,{message:"La cantidad debe ser no negativa."}))}),qW=Kr({slipNumber:Ge().optional(),slipFile:wR().optional(),items:Dc($W).min(1)}),TP=({isOpen:t,onOpenChange:e,requestId:r,requestItems:n})=>{const{data:i,isLoading:s}=AP(r),a=FW(),u=z.useMemo(()=>!n||!i?[]:n.map(b=>{var j;const E=((j=i.find(w=>w.request_item_id===b.id))==null?void 0:j.total_received)||0,x=b.quantity-E;return{requestItemId:b.id,productName:b.product_name,quantityOrdered:b.quantity,quantityPreviouslyReceived:E,quantityReceived:x>0?x:0}}),[n,i]),d=yn({resolver:bn(qW),defaultValues:{slipNumber:"",slipFile:void 0,items:u},values:{slipNumber:"",slipFile:void 0,items:u}}),{fields:h}=mR({control:d.control,name:"items"}),f=async b=>{var j;const E=b.items.filter(w=>w.quantityReceived>0).map(w=>{const C=n.find(A=>A.id===w.requestItemId);if(!C)throw new Error(`Item ${w.requestItemId} not found.`);if(w.quantityPreviouslyReceived+w.quantityReceived>w.quantityOrdered)throw ke.error(`Error: La cantidad recibida para ${w.productName} excede la cantidad pedida.`),new Error("Quantity received exceeds quantity ordered.");return{requestItemId:w.requestItemId,quantityReceived:w.quantityReceived,itemDetails:C}});if(E.length===0){ke.error("Por favor, especifica al menos una cantidad de artículo mayor a cero para recibir.");return}const x=((j=b.slipFile)==null?void 0:j[0])||null;await a.mutateAsync({requestId:r,slipNumber:b.slipNumber||"",slipFile:x,items:E}),e(!1)},p=()=>{const E=d.getValues("items").map(x=>{const j=x.quantityOrdered-x.quantityPreviouslyReceived;return{...x,quantityReceived:j>0?j:0}});d.setValue("items",E,{shouldDirty:!0})},m=()=>{if(y){ke.info("Todos los artículos ya han sido recibidos completamente.");return}p(),setTimeout(()=>{d.handleSubmit(f)()},0)},g=b=>{const E=d.getValues(`items.${b}`),x=E.quantityOrdered-E.quantityPreviouslyReceived;x>0&&(d.setValue(`items.${b}.quantityReceived`,x,{shouldDirty:!0}),ke.info(`Recibidas ${x} unidades restantes de ${E.productName}.`))};if(s)return c.jsx(rr,{open:t,onOpenChange:e,children:c.jsx(Zt,{className:"sm:max-w-[800px]",children:c.jsxs("div",{className:"flex justify-center items-center h-40",children:[c.jsx(wt,{className:"h-6 w-6 animate-spin mr-2"})," Cargando estado de recepción..."]})})});const _=a.isPending,y=u.every(b=>b.quantityOrdered-b.quantityPreviouslyReceived<=0);return c.jsx(rr,{open:t,onOpenChange:e,children:c.jsxs(Zt,{className:"sm:max-w-[800px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Recibir Artículos y Registrar Albarán"}),c.jsx(an,{children:"Introduce los detalles del albarán y la cantidad recibida para cada artículo."})]}),c.jsx(wn,{...d,children:c.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ve,{control:d.control,name:"slipNumber",render:({field:b})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Número de Albarán (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. SLIP-12345",...b,disabled:_})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:d.control,name:"slipFile",render:({field:b})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Subir Archivo de Albarán (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{type:"file",onChange:E=>b.onChange(E.target.files),disabled:_,accept:"image/*,application/pdf"})}),c.jsx(Ue,{})]})})]}),c.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto p-2 border rounded-md",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Artículos a Recibir"}),h.map((b,E)=>{const x=d.watch(`items.${E}.quantityOrdered`),j=d.watch(`items.${E}.quantityPreviouslyReceived`),w=x-j,C=w<=0,O=d.watch(`items.${E}.quantityReceived`);return c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 items-center border-b pb-3 last:border-b-0",children:[c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("p",{className:"font-medium truncate",title:b.productName,children:b.productName}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pedido: ",x," | Recibido: ",j]})]}),c.jsxs("div",{className:"sm:col-span-1",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Restante:"}),c.jsx("p",{className:`font-bold ${C?"text-green-600":"text-orange-600"}`,children:w})]}),c.jsx(Ve,{control:d.control,name:`items.${E}.quantityReceived`,render:({field:A})=>c.jsxs($e,{className:"sm:col-span-2 flex items-end space-y-0 gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Fe,{children:"Cantidad a Recibir"}),c.jsx(qe,{children:c.jsx(at,{type:"number",min:0,max:w,...A,onChange:P=>{const q=Number(P.target.value);A.onChange(q)},disabled:_||C,className:C?"bg-green-50/50":""})}),c.jsx(Ue,{})]}),w>0&&c.jsx(Ce,{type:"button",variant:"outline",size:"icon",onClick:()=>g(E),disabled:_||O===w,title:"Recibir Cantidad Restante",children:c.jsx(wD,{className:"h-4 w-4"})})]})})]},b.id)})]}),c.jsxs(Rn,{className:"flex flex-col sm:flex-row sm:justify-end sm:space-x-2 pt-4",children:[c.jsx(Ce,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:_,children:"Cancelar"}),c.jsx(Ce,{type:"button",variant:"secondary",onClick:m,disabled:_||y,children:_?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Registrando Todo..."]}):c.jsxs(c.Fragment,{children:[c.jsx($k,{className:"mr-2 h-4 w-4"})," Recibir Todo y Registrar"]})}),c.jsx(Ce,{type:"submit",disabled:_,children:_?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Registrando..."]}):"Registrar Recepción"})]})]})})]})})},BW=Kr({targetRequestId:Ge().min(1,{message:"La solicitud de destino es obligatoria."})}),UW=()=>{const t=Mt(),e=eR();return Ut({mutationFn:async({sourceId:r,targetId:n})=>{const{error:i}=await Xe.from("request_items").update({request_id:n}).eq("request_id",r);if(i)throw new Error(`Fallo al mover ítems: ${i.message}`);return await e.mutateAsync(r),{targetId:n}},onSuccess:({targetId:r})=>{t.invalidateQueries({queryKey:["requests"]}),ke.success("Solicitudes fusionadas exitosamente!",{description:`Los ítems se movieron a la Solicitud ${r.substring(0,8)}.`})},onError:r=>{ke.error("Fallo al fusionar solicitudes.",{description:r.message})}})},VW=({isOpen:t,onOpenChange:e,sourceRequest:r,mergeableRequests:n})=>{const i=UW(),s=i.isPending,a=yn({resolver:bn(BW),defaultValues:{targetRequestId:""}}),u=async h=>{await i.mutateAsync({sourceId:r.id,targetId:h.targetRequestId}),e(!1)},d=r.request_number||r.id.substring(0,8);return c.jsx(rr,{open:t,onOpenChange:e,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Fusionar Solicitudes"}),c.jsxs(an,{children:["Mover todos los artículos de la Solicitud ",c.jsx("span",{className:"font-bold text-primary",children:d})," a otra solicitud del mismo proveedor."]})]}),c.jsx(wn,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(u),className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("span",{className:"font-medium text-sm",children:d}),c.jsx(aD,{className:"h-4 w-4 text-muted-foreground"}),c.jsx(Ve,{control:a.control,name:"targetRequestId",render:({field:h})=>c.jsxs($e,{className:"flex-1",children:[c.jsx(Fe,{children:"Solicitud de Destino"}),c.jsxs(Br,{onValueChange:h.onChange,value:h.value,disabled:s,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:"Selecciona solicitud de destino"})})}),c.jsx(Pr,{children:n.map(f=>c.jsxs(Qt,{value:f.id,children:[f.request_number||f.id.substring(0,8)," (",f.status,")"]},f.id))})]}),c.jsx(Ue,{})]})})]}),c.jsxs("p",{className:"text-sm text-red-500",children:["Advertencia: La Solicitud ",d," será eliminada después de mover sus artículos."]}),c.jsxs(Rn,{children:[c.jsx(Ce,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:s,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:s||n.length===0,children:s?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Fusionando..."]}):"Confirmar Fusión"})]})]})})]})})},dl=()=>ei({queryKey:["shippingAddresses"],queryFn:async()=>{const{data:t,error:e}=await Xe.from("shipping_addresses").select("*");if(e)throw new Error(e.message);return t||[]}}),fl=()=>ei({queryKey:["billingAddresses"],queryFn:async()=>{const{data:t,error:e}=await Xe.from("billing_addresses").select("*");if(e)throw new Error(e.message);return t||[]}}),RP=(t,e)=>({useAddAddress:()=>{const s=Mt(),a=t==="shipping_addresses"?"Dirección de Envío":"Dirección de Facturación";return Ut({mutationFn:async u=>{const{data:d,error:h}=await Xe.from(t).insert([u]).select().single();if(h)throw new Error(h.message);return d},onSuccess:()=>{ke.success(`${a} añadida exitosamente!`),s.invalidateQueries({queryKey:[e]})},onError:u=>{ke.error(`Fallo al añadir ${a.toLowerCase()}.`,{description:u.message})}})},useUpdateAddress:()=>{const s=Mt(),a=t==="shipping_addresses"?"Dirección de Envío":"Dirección de Facturación";return Ut({mutationFn:async({id:u,data:d})=>{const{data:h,error:f}=await Xe.from(t).update(d).eq("id",u).select().single();if(f)throw new Error(f.message);return h},onSuccess:()=>{ke.success(`${a} actualizada exitosamente!`),s.invalidateQueries({queryKey:[e]})},onError:u=>{ke.error(`Fallo al actualizar ${a.toLowerCase()}.`,{description:u.message})}})},useDeleteAddress:()=>{const s=Mt(),a=t==="shipping_addresses"?"Dirección de Envío":"Dirección de Facturación";return Ut({mutationFn:async u=>{const{error:d}=await Xe.from(t).delete().eq("id",u);if(d)throw new Error(`Fallo al eliminar ${a.toLowerCase()}: ${d.message}`)},onSuccess:()=>{ke.success(`${a} eliminada exitosamente!`),s.invalidateQueries({queryKey:[e]})},onError:u=>{ke.error(u.message)}})}}),{useAddAddress:zW,useUpdateAddress:HW,useDeleteAddress:WW}=RP("shipping_addresses","shippingAddresses"),{useAddAddress:KW,useUpdateAddress:GW,useDeleteAddress:QW}=RP("billing_addresses","billingAddresses"),YW=t=>{if(!t)return"Archivo";try{const e=t.split("/"),r=e[e.length-1],n=decodeURIComponent(r);return n.substring(n.indexOf("_")+1)||n||"Archivo"}catch(e){return console.error("Could not parse filename from path",e),"Archivo"}},ZW=()=>{const t=Xo(),{session:e,profile:r}=ti(),{data:n,isLoading:i,error:s}=$d(),{data:a,isLoading:u}=Kc(),{data:d,isLoading:h}=Qw(),{data:f,isLoading:p}=cl(),{data:m,isLoading:g}=Hs(),{data:_,isLoading:y}=a1(),{data:b,isLoading:E}=dl(),{data:x,isLoading:j}=fl(),w=Yw(),C=tR(),[O,A]=z.useState(""),[P,q]=z.useState("All"),[T,D]=z.useState(!1),[L,B]=z.useState({}),[U,Y]=z.useState(!1),[X,ie]=z.useState(null),[re,K]=z.useState(!1),[Q,M]=z.useState(!1),[$,G]=z.useState(null),[te,ee]=z.useState(!1),[W,Z]=z.useState(null),le=he=>{const ve=d==null?void 0:d.find(Oe=>Oe.id===he);return Mi(ve)},ce=he=>{if(!he)return"N/A";const ve=f==null?void 0:f.find(Oe=>Oe.id===he);return ve?`${ve.first_name} ${ve.last_name}`:"N/A"},me=he=>{var ve;return((ve=f==null?void 0:f.find(Oe=>Oe.id===he))==null?void 0:ve.email)||""},je=async he=>{const ve=he.attachmentsForSend||he.attachments;await C.mutateAsync({to:he.to,subject:he.subject,body:he.body,attachments:ve}),D(!1)},Te=async he=>{if(!he.account_manager_id){ke.error("No se puede enviar la solicitud de PO.",{description:"No hay un gerente de cuenta asignado a esta solicitud."});return}if(!he.quote_url){ke.error("No se puede enviar la solicitud de PO.",{description:"El archivo de cotización no está disponible."});return}const ve=_==null?void 0:_.find(Et=>Et.template_name==="PO Request");if(!ve){ke.error("Plantilla de correo electrónico 'PO Request' no encontrada. Por favor, crea una en el panel de Admin.");return}const Oe={request:he,vendor:a==null?void 0:a.find(Et=>Et.id===he.vendor_id),requesterProfile:d==null?void 0:d.find(Et=>Et.id===he.requester_id),accountManager:f==null?void 0:f.find(Et=>Et.id===he.account_manager_id),projects:m,actorProfile:r,shippingAddress:b==null?void 0:b.find(Et=>Et.id===he.shipping_address_id),billingAddress:x==null?void 0:x.find(Et=>Et.id===he.billing_address_id)};let lt=[],He=[];if(he.quote_url){const Et=YW(he.quote_url),V=await hc(he.quote_url);V?lt.push({name:Et,url:V}):ke.warning("No se pudo generar la URL firmada para el archivo de cotización. El enlace adjunto en el diálogo podría estar roto."),He.push({name:Et,url:he.quote_url})}B({to:me(he.account_manager_id),subject:Ku(ve.subject_template,Oe),body:Gu(ve.body_template,Oe),attachments:lt,attachmentsForSend:He}),D(!0)},ze=async he=>{await w.mutateAsync({id:he.id,status:"Quote Requested"})},Ze=he=>{t(`/requests/${he.id}`)},pt=he=>{t(`/requests/${he.id}`)},_t=he=>{if(!he.items||he.items.length===0){ke.error("No se pueden recibir artículos.",{description:"La solicitud no tiene artículos."});return}ie(he),Y(!0)},xt=he=>{G(he),K(!0)},xe=he=>{G(he),M(!0)},_e=async()=>{$&&(await w.mutateAsync({id:$.id,status:"Denied"}),K(!1),G(null))},J=async()=>{$&&(await w.mutateAsync({id:$.id,status:"Cancelled"}),M(!1),G(null))},oe=he=>{Z(he),ee(!0)},ae=z.useMemo(()=>!W||!n?[]:n.filter(he=>he.id!==W.id&&he.vendor_id===W.vendor_id&&(he.status==="Pending"||he.status==="Quote Requested"||he.status==="PO Requested")),[W,n]),Ee=(n||[]).filter(he=>{var V,R;const ve=((V=a==null?void 0:a.find(F=>F.id===he.vendor_id))==null?void 0:V.name)||"",Oe=le(he.requester_id),lt=ce(he.account_manager_id),He=O.toLowerCase()===""||((R=he.items)==null?void 0:R.some(F=>F.product_name.toLowerCase().includes(O.toLowerCase())||F.catalog_number.toLowerCase().includes(O.toLowerCase())||F.brand&&F.brand.toLowerCase().includes(O.toLowerCase())))||ve.toLowerCase().includes(O.toLowerCase())||Oe.toLowerCase().includes(O.toLowerCase())||lt.toLowerCase().includes(O.toLowerCase())||he.quote_url&&he.quote_url.toLowerCase().includes(O.toLowerCase())||he.po_number&&he.po_number.toLowerCase().includes(O.toLowerCase()),Et=P==="All"||he.status===P;return He&&Et});return i||u||h||p||g||y||E||j?c.jsxs("div",{className:"flex justify-center items-center h-40",children:[c.jsx(wt,{className:"h-6 w-6 animate-spin mr-2"})," Cargando Solicitudes..."]}):s?c.jsxs("div",{className:"text-red-500",children:["Error al cargar solicitudes: ",s.message]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(gH,{searchTerm:O,onSearchChange:A,filterStatus:P,onStatusChange:q}),c.jsx(AW,{requests:Ee,vendors:a,profiles:d,isUpdatingStatus:w.isPending,onViewDetails:he=>t(`/requests/${he}`),onApprove:ze,onEnterQuoteDetails:Ze,onSendPORequest:Te,onMarkAsOrdered:pt,onMarkAsReceived:_t,onDeny:xt,onCancel:xe,onMerge:oe}),c.jsx(MR,{isOpen:T,onOpenChange:D,initialData:L,onSend:je,isSending:C.isPending}),X&&X.items&&c.jsx(TP,{isOpen:U,onOpenChange:Y,requestId:X.id,requestItems:X.items}),W&&c.jsx(VW,{isOpen:te,onOpenChange:ee,sourceRequest:W,mergeableRequests:ae}),c.jsx(rr,{open:re,onOpenChange:K,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Denegar Solicitud"}),c.jsxs(an,{children:["¿Estás seguro de que deseas denegar la Solicitud ",($==null?void 0:$.request_number)||($==null?void 0:$.id.substring(0,8)),'? Esta acción cambiará su estado a "Denegada".']})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>K(!1),disabled:w.isPending,children:"Cancelar"}),c.jsx(Ce,{variant:"destructive",onClick:_e,disabled:w.isPending,children:w.isPending?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirmar Denegación"})]})]})}),c.jsx(rr,{open:Q,onOpenChange:M,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Cancelar Solicitud"}),c.jsxs(an,{children:["¿Estás seguro de que deseas cancelar la Solicitud ",($==null?void 0:$.request_number)||($==null?void 0:$.id.substring(0,8)),'? Esta acción cambiará su estado a "Cancelada".']})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>M(!1),disabled:w.isPending,children:"No, Mantener"}),c.jsx(Ce,{variant:"destructive",onClick:J,disabled:w.isPending,children:w.isPending?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):"Sí, Cancelar Solicitud"})]})]})})]})},u0=({title:t,count:e,icon:r,colorClass:n})=>c.jsxs(zn,{className:"shadow-lg transition-all duration-300 hover:shadow-xl border-l-4",style:{borderColor:`var(--${n})`},children:[c.jsxs(Hn,{className:"flex flex-row items-center justify-between space-y-0 p-3 pb-1",children:[c.jsx(Wn,{className:"text-xs font-medium text-muted-foreground truncate",children:t}),c.jsx("div",{className:Be("h-4 w-4",n),children:r})]}),c.jsx(Kn,{className:"p-3 pt-0",children:c.jsx("div",{className:"text-xl font-bold",children:e})})]}),fC=()=>{const t=Xo(),{data:e,isLoading:r,error:n}=$d(),i=e||[],s=i.filter(d=>d.status==="Pending").length,a=i.filter(d=>d.status==="Ordered").reduce((d,h)=>{var f;return d+(((f=h.items)==null?void 0:f.length)||0)},0),u=i.filter(d=>d.status==="Received").reduce((d,h)=>{var f;return d+(((f=h.items)==null?void 0:f.length)||0)},0);return r?c.jsxs("div",{className:"container mx-auto py-8 flex justify-center items-center",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando Panel de Control..."]}):n?c.jsxs("div",{className:"container mx-auto py-8 text-red-600",children:["Error al cargar los datos del panel: ",n.message]}):c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Panel de Control"}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs(Ce,{onClick:()=>t("/new-request"),children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Nueva Solicitud"]})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[c.jsx(u0,{title:"Pendientes",count:s,icon:c.jsx(fD,{className:"text-orange-500"}),colorClass:"orange-500"}),c.jsx(u0,{title:"Pedidos",count:a,icon:c.jsx(iw,{className:"text-primary"}),colorClass:"primary"}),c.jsx(u0,{title:"Recibidos",count:u,icon:c.jsx(nw,{className:"text-green-600"}),colorClass:"green-600"})]}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Solicitudes Recientes"}),c.jsx(ZW,{})]})]})},Ls=N.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Ls.displayName="Textarea";var Gp="Popover",[PP]=Xn(Gp,[Jo]),Ud=Jo(),[JW,ia]=PP(Gp),IP=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,u=Ud(e),d=N.useRef(null),[h,f]=N.useState(!1),[p,m]=Ps({prop:n,defaultProp:i??!1,onChange:s,caller:Gp});return c.jsx(mw,{...u,children:c.jsx(JW,{scope:e,contentId:Zr(),triggerRef:d,open:p,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>f(!0),[]),onCustomAnchorRemove:N.useCallback(()=>f(!1),[]),modal:a,children:r})})};IP.displayName=Gp;var DP="PopoverAnchor",XW=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=ia(DP,r),s=Ud(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:u}=i;return N.useEffect(()=>(a(),()=>u()),[a,u]),c.jsx(Ad,{...s,...n,ref:e})});XW.displayName=DP;var MP="PopoverTrigger",LP=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=ia(MP,r),s=Ud(r),a=$t(e,i.triggerRef),u=c.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":UP(i.open),...n,ref:a,onClick:Le(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:c.jsx(Ad,{asChild:!0,...s,children:u})});LP.displayName=MP;var l1="PopoverPortal",[eK,tK]=PP(l1,{forceMount:void 0}),FP=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=ia(l1,e);return c.jsx(eK,{scope:e,forceMount:r,children:c.jsx(In,{present:r||s.open,children:c.jsx($c,{asChild:!0,container:i,children:n})})})};FP.displayName=l1;var Lc="PopoverContent",$P=N.forwardRef((t,e)=>{const r=tK(Lc,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=ia(Lc,t.__scopePopover);return c.jsx(In,{present:n||s.open,children:s.modal?c.jsx(nK,{...i,ref:e}):c.jsx(iK,{...i,ref:e})})});$P.displayName=Lc;var rK=zo("PopoverContent.RemoveScroll"),nK=N.forwardRef((t,e)=>{const r=ia(Lc,t.__scopePopover),n=N.useRef(null),i=$t(e,n),s=N.useRef(!1);return N.useEffect(()=>{const a=n.current;if(a)return _p(a)},[]),c.jsx(Rd,{as:rK,allowPinchZoom:!0,children:c.jsx(qP,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,a=>{var u;a.preventDefault(),s.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;s.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Le(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),iK=N.forwardRef((t,e)=>{const r=ia(Lc,t.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return c.jsx(qP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,u;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((h=r.triggerRef.current)==null?void 0:h.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),qP=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,...p}=t,m=ia(Lc,r),g=Ud(r);return bp(),c.jsx(Td,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(nl,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>m.onOpenChange(!1),children:c.jsx(fp,{"data-state":UP(m.open),role:"dialog",id:m.contentId,...g,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),BP="PopoverClose",sK=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=ia(BP,r);return c.jsx(it.button,{type:"button",...n,ref:e,onClick:Le(t.onClick,()=>i.onOpenChange(!1))})});sK.displayName=BP;var oK="PopoverArrow",aK=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ud(r);return c.jsx(hp,{...i,...n,ref:e})});aK.displayName=oK;function UP(t){return t?"open":"closed"}var lK=IP,cK=LP,uK=FP,VP=$P;const c1=lK,u1=cK,Qp=N.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>c.jsx(uK,{children:c.jsx(VP,{ref:i,align:e,sideOffset:r,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Qp.displayName=VP.displayName;var hC=1,dK=.9,fK=.8,hK=.17,d0=.1,f0=.999,pK=.9999,mK=.99,gK=/[\\\/_+.#"@\[\(\{&]/,vK=/[\\\/_+.#"@\[\(\{&]/g,yK=/[\s-]/,zP=/[\s-]/g;function Lb(t,e,r,n,i,s,a){if(s===e.length)return i===t.length?hC:mK;var u=`${i},${s}`;if(a[u]!==void 0)return a[u];for(var d=n.charAt(s),h=r.indexOf(d,i),f=0,p,m,g,_;h>=0;)p=Lb(t,e,r,n,h+1,s+1,a),p>f&&(h===i?p*=hC:gK.test(t.charAt(h-1))?(p*=fK,g=t.slice(i,h-1).match(vK),g&&i>0&&(p*=Math.pow(f0,g.length))):yK.test(t.charAt(h-1))?(p*=dK,_=t.slice(i,h-1).match(zP),_&&i>0&&(p*=Math.pow(f0,_.length))):(p*=hK,i>0&&(p*=Math.pow(f0,h-i))),t.charAt(h)!==e.charAt(s)&&(p*=pK)),(p<d0&&r.charAt(h-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(h-1)!==n.charAt(s))&&(m=Lb(t,e,r,n,h+1,s+2,a),m*d0>p&&(p=m*d0)),p>f&&(f=p),h=r.indexOf(d,h+1);return a[u]=f,f}function pC(t){return t.toLowerCase().replace(zP," ")}function bK(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Lb(t,e,pC(t),pC(e),0,0,{})}var Fu='[cmdk-group=""]',h0='[cmdk-group-items=""]',wK='[cmdk-group-heading=""]',HP='[cmdk-item=""]',mC=`${HP}:not([aria-disabled="true"])`,Fb="cmdk-item-select",Jl="data-value",xK=(t,e,r)=>bK(t,e,r),WP=N.createContext(void 0),Vd=()=>N.useContext(WP),KP=N.createContext(void 0),d1=()=>N.useContext(KP),GP=N.createContext(void 0),QP=N.forwardRef((t,e)=>{let r=Xl(()=>{var $,G;return{search:"",value:(G=($=t.value)!=null?$:t.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Xl(()=>new Set),i=Xl(()=>new Map),s=Xl(()=>new Map),a=Xl(()=>new Set),u=YP(t),{label:d,children:h,value:f,onValueChange:p,filter:m,shouldFilter:g,loop:_,disablePointerSelection:y=!1,vimBindings:b=!0,...E}=t,x=Zr(),j=Zr(),w=Zr(),C=N.useRef(null),O=RK();Xa(()=>{if(f!==void 0){let $=f.trim();r.current.value=$,A.emit()}},[f]),Xa(()=>{O(6,B)},[]);let A=N.useMemo(()=>({subscribe:$=>(a.current.add($),()=>a.current.delete($)),snapshot:()=>r.current,setState:($,G,te)=>{var ee,W,Z,le;if(!Object.is(r.current[$],G)){if(r.current[$]=G,$==="search")L(),T(),O(1,D);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ce=document.getElementById(w);ce?ce.focus():(ee=document.getElementById(x))==null||ee.focus()}if(O(7,()=>{var ce;r.current.selectedItemId=(ce=U())==null?void 0:ce.id,A.emit()}),te||O(5,B),((W=u.current)==null?void 0:W.value)!==void 0){let ce=G??"";(le=(Z=u.current).onValueChange)==null||le.call(Z,ce);return}}A.emit()}},emit:()=>{a.current.forEach($=>$())}}),[]),P=N.useMemo(()=>({value:($,G,te)=>{var ee;G!==((ee=s.current.get($))==null?void 0:ee.value)&&(s.current.set($,{value:G,keywords:te}),r.current.filtered.items.set($,q(G,te)),O(2,()=>{T(),A.emit()}))},item:($,G)=>(n.current.add($),G&&(i.current.has(G)?i.current.get(G).add($):i.current.set(G,new Set([$]))),O(3,()=>{L(),T(),r.current.value||D(),A.emit()}),()=>{s.current.delete($),n.current.delete($),r.current.filtered.items.delete($);let te=U();O(4,()=>{L(),(te==null?void 0:te.getAttribute("id"))===$&&D(),A.emit()})}),group:$=>(i.current.has($)||i.current.set($,new Set),()=>{s.current.delete($),i.current.delete($)}),filter:()=>u.current.shouldFilter,label:d||t["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:x,inputId:w,labelId:j,listInnerRef:C}),[]);function q($,G){var te,ee;let W=(ee=(te=u.current)==null?void 0:te.filter)!=null?ee:xK;return $?W($,r.current.search,G):0}function T(){if(!r.current.search||u.current.shouldFilter===!1)return;let $=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(ee=>{let W=i.current.get(ee),Z=0;W.forEach(le=>{let ce=$.get(le);Z=Math.max(ce,Z)}),G.push([ee,Z])});let te=C.current;Y().sort((ee,W)=>{var Z,le;let ce=ee.getAttribute("id"),me=W.getAttribute("id");return((Z=$.get(me))!=null?Z:0)-((le=$.get(ce))!=null?le:0)}).forEach(ee=>{let W=ee.closest(h0);W?W.appendChild(ee.parentElement===W?ee:ee.closest(`${h0} > *`)):te.appendChild(ee.parentElement===te?ee:ee.closest(`${h0} > *`))}),G.sort((ee,W)=>W[1]-ee[1]).forEach(ee=>{var W;let Z=(W=C.current)==null?void 0:W.querySelector(`${Fu}[${Jl}="${encodeURIComponent(ee[0])}"]`);Z==null||Z.parentElement.appendChild(Z)})}function D(){let $=Y().find(te=>te.getAttribute("aria-disabled")!=="true"),G=$==null?void 0:$.getAttribute(Jl);A.setState("value",G||void 0)}function L(){var $,G,te,ee;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let W=0;for(let Z of n.current){let le=(G=($=s.current.get(Z))==null?void 0:$.value)!=null?G:"",ce=(ee=(te=s.current.get(Z))==null?void 0:te.keywords)!=null?ee:[],me=q(le,ce);r.current.filtered.items.set(Z,me),me>0&&W++}for(let[Z,le]of i.current)for(let ce of le)if(r.current.filtered.items.get(ce)>0){r.current.filtered.groups.add(Z);break}r.current.filtered.count=W}function B(){var $,G,te;let ee=U();ee&&((($=ee.parentElement)==null?void 0:$.firstChild)===ee&&((te=(G=ee.closest(Fu))==null?void 0:G.querySelector(wK))==null||te.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function U(){var $;return($=C.current)==null?void 0:$.querySelector(`${HP}[aria-selected="true"]`)}function Y(){var $;return Array.from((($=C.current)==null?void 0:$.querySelectorAll(mC))||[])}function X($){let G=Y()[$];G&&A.setState("value",G.getAttribute(Jl))}function ie($){var G;let te=U(),ee=Y(),W=ee.findIndex(le=>le===te),Z=ee[W+$];(G=u.current)!=null&&G.loop&&(Z=W+$<0?ee[ee.length-1]:W+$===ee.length?ee[0]:ee[W+$]),Z&&A.setState("value",Z.getAttribute(Jl))}function re($){let G=U(),te=G==null?void 0:G.closest(Fu),ee;for(;te&&!ee;)te=$>0?AK(te,Fu):TK(te,Fu),ee=te==null?void 0:te.querySelector(mC);ee?A.setState("value",ee.getAttribute(Jl)):ie($)}let K=()=>X(Y().length-1),Q=$=>{$.preventDefault(),$.metaKey?K():$.altKey?re(1):ie(1)},M=$=>{$.preventDefault(),$.metaKey?X(0):$.altKey?re(-1):ie(-1)};return N.createElement(it.div,{ref:e,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:$=>{var G;(G=E.onKeyDown)==null||G.call(E,$);let te=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||te))switch($.key){case"n":case"j":{b&&$.ctrlKey&&Q($);break}case"ArrowDown":{Q($);break}case"p":case"k":{b&&$.ctrlKey&&M($);break}case"ArrowUp":{M($);break}case"Home":{$.preventDefault(),X(0);break}case"End":{$.preventDefault(),K();break}case"Enter":{$.preventDefault();let ee=U();if(ee){let W=new Event(Fb);ee.dispatchEvent(W)}}}}},N.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:IK},d),Yp(t,$=>N.createElement(KP.Provider,{value:A},N.createElement(WP.Provider,{value:P},$))))}),_K=N.forwardRef((t,e)=>{var r,n;let i=Zr(),s=N.useRef(null),a=N.useContext(GP),u=Vd(),d=YP(t),h=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;Xa(()=>{if(!h)return u.item(i,a==null?void 0:a.id)},[h]);let f=ZP(i,s,[t.value,t.children,s],t.keywords),p=d1(),m=Yo(O=>O.value&&O.value===f.current),g=Yo(O=>h||u.filter()===!1?!0:O.search?O.filtered.items.get(i)>0:!0);N.useEffect(()=>{let O=s.current;if(!(!O||t.disabled))return O.addEventListener(Fb,_),()=>O.removeEventListener(Fb,_)},[g,t.onSelect,t.disabled]);function _(){var O,A;y(),(A=(O=d.current).onSelect)==null||A.call(O,f.current)}function y(){p.setState("value",f.current,!0)}if(!g)return null;let{disabled:b,value:E,onSelect:x,forceMount:j,keywords:w,...C}=t;return N.createElement(it.div,{ref:Rs(s,e),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!m,"data-disabled":!!b,"data-selected":!!m,onPointerMove:b||u.getDisablePointerSelection()?void 0:y,onClick:b?void 0:_},t.children)}),EK=N.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:i,...s}=t,a=Zr(),u=N.useRef(null),d=N.useRef(null),h=Zr(),f=Vd(),p=Yo(g=>i||f.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);Xa(()=>f.group(a),[]),ZP(a,u,[t.value,t.heading,d]);let m=N.useMemo(()=>({id:a,forceMount:i}),[i]);return N.createElement(it.div,{ref:Rs(u,e),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&N.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:h},r),Yp(t,g=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?h:void 0},N.createElement(GP.Provider,{value:m},g))))}),SK=N.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,i=N.useRef(null),s=Yo(a=>!a.search);return!r&&!s?null:N.createElement(it.div,{ref:Rs(i,e),...n,"cmdk-separator":"",role:"separator"})}),jK=N.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,i=t.value!=null,s=d1(),a=Yo(h=>h.search),u=Yo(h=>h.selectedItemId),d=Vd();return N.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),N.createElement(it.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:i?t.value:a,onChange:h=>{i||s.setState("search",h.target.value),r==null||r(h.target.value)}})}),CK=N.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...i}=t,s=N.useRef(null),a=N.useRef(null),u=Yo(h=>h.selectedItemId),d=Vd();return N.useEffect(()=>{if(a.current&&s.current){let h=a.current,f=s.current,p,m=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let g=h.offsetHeight;f.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(h),()=>{cancelAnimationFrame(p),m.unobserve(h)}}},[]),N.createElement(it.div,{ref:Rs(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:d.listId},Yp(t,h=>N.createElement("div",{ref:Rs(a,d.listInnerRef),"cmdk-list-sizer":""},h)))}),kK=N.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:s,container:a,...u}=t;return N.createElement(Ow,{open:r,onOpenChange:n},N.createElement(Aw,{container:a},N.createElement(Pd,{"cmdk-overlay":"",className:i}),N.createElement(Id,{"aria-label":t.label,"cmdk-dialog":"",className:s},N.createElement(QP,{ref:e,...u}))))}),NK=N.forwardRef((t,e)=>Yo(r=>r.filtered.count===0)?N.createElement(it.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),OK=N.forwardRef((t,e)=>{let{progress:r,children:n,label:i="Loading...",...s}=t;return N.createElement(it.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Yp(t,a=>N.createElement("div",{"aria-hidden":!0},a)))}),Dn=Object.assign(QP,{List:CK,Item:_K,Input:jK,Group:EK,Separator:SK,Dialog:kK,Empty:NK,Loading:OK});function AK(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function TK(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function YP(t){let e=N.useRef(t);return Xa(()=>{e.current=t}),e}var Xa=typeof window>"u"?N.useEffect:N.useLayoutEffect;function Xl(t){let e=N.useRef();return e.current===void 0&&(e.current=t()),e}function Yo(t){let e=d1(),r=()=>t(e.snapshot());return N.useSyncExternalStore(e.subscribe,r,r)}function ZP(t,e,r,n=[]){let i=N.useRef(),s=Vd();return Xa(()=>{var a;let u=(()=>{var h;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(h=f.current.textContent)==null?void 0:h.trim():i.current}})(),d=n.map(h=>h.trim());s.value(t,u,d),(a=e.current)==null||a.setAttribute(Jl,u),i.current=u}),i}var RK=()=>{let[t,e]=N.useState(),r=Xl(()=>new Map);return Xa(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,i)=>{r.current.set(n,i),e({})}};function PK(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Yp({asChild:t,children:e},r){return t&&N.isValidElement(e)?N.cloneElement(PK(e),{ref:e.ref},r(e.props.children)):r(e)}var IK={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Zp=N.forwardRef(({className:t,...e},r)=>c.jsx(Dn,{ref:r,className:Be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));Zp.displayName=Dn.displayName;const f1=N.forwardRef(({className:t,...e},r)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(Hk,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(Dn.Input,{ref:r,className:Be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));f1.displayName=Dn.Input.displayName;const DK=N.forwardRef(({className:t,...e},r)=>c.jsx(Dn.List,{ref:r,className:Be("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));DK.displayName=Dn.List.displayName;const md=N.forwardRef((t,e)=>c.jsx(Dn.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));md.displayName=Dn.Empty.displayName;const Jp=N.forwardRef(({className:t,...e},r)=>c.jsx(Dn.Group,{ref:r,className:Be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Jp.displayName=Dn.Group.displayName;const MK=N.forwardRef(({className:t,...e},r)=>c.jsx(Dn.Separator,{ref:r,className:Be("-mx-1 h-px bg-border",t),...e}));MK.displayName=Dn.Separator.displayName;const Xp=N.forwardRef(({className:t,...e},r)=>c.jsx(Dn.Item,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Xp.displayName=Dn.Item.displayName;const gC=t=>{ke.error(t)},LK=async(t,e,r)=>{const n=[];if(t&&e){const{data:i}=await Xe.from("inventory").select("*").eq("catalog_number",t).ilike("brand",e).limit(1);i&&i.length>0&&n.push({...i[0],source:"Inventory",link:null});const{data:s}=await Xe.from("request_items").select("product_name, catalog_number, brand, unit_price, format, link").eq("catalog_number",t).ilike("brand",e).order("id",{ascending:!1}).limit(1);s&&s.length>0&&(n.length===0||!n.some(a=>a.source==="Inventory"))&&n.push({...s[0],source:"Request Item"})}if(r&&r.length>3&&n.length===0){const{data:s,error:a}=await Xe.from("inventory").select(`*, similarity(product_name, '${r}') as score`).gte("similarity(product_name, '"+r+"')",.3).order("score",{ascending:!1}).limit(5);if(a&&console.error("Error fetching fuzzy inventory:",a),s&&s.length>0&&s.forEach(u=>{n.some(d=>d.catalog_number===u.catalog_number&&d.brand===u.brand)||n.push({...u,source:"Inventory",link:null})}),n.length<5){const{data:u,error:d}=await Xe.from("request_items").select(`product_name, catalog_number, brand, unit_price, format, link, similarity(product_name, '${r}') as score`).gte("similarity(product_name, '"+r+"')",.3).order("score",{ascending:!1}).limit(5);d&&console.error("Error fetching fuzzy request items:",d),u&&u.length>0&&u.forEach(h=>{n.some(f=>f.catalog_number===h.catalog_number&&f.brand===h.brand)||n.push({...h,source:"Request Item"})})}}return n.slice(0,5)},FK=(t,e,r)=>{const n=t||null,i=e||null,s=r||null,a=!!n&&!!i||!!s&&s.length>3;return ei({queryKey:["productSearch",n,i,s],queryFn:()=>LK(n,i,s),enabled:a,staleTime:1e3*60*5})},$K=Kr({productName:Ge().min(1,{message:"El nombre del producto es obligatorio."}),catalogNumber:Ge().min(1,{message:"El número de catálogo es obligatorio."}),quantity:Qo(t=>Number(t),is().min(1,{message:"La cantidad debe ser al menos 1."})),unitPrice:Qo(t=>t===""?void 0:Number(t),is().min(0,{message:"El precio unitario no puede ser negativo."}).optional()),format:Ge().optional(),link:Ge().url({message:"Debe ser una URL válida."}).optional().or(Mp("")),notes:Ge().optional(),brand:Ge().optional()}),qK=Kr({vendorId:Ge().min(1,{message:"El proveedor es obligatorio."}),requesterId:Ge().min(1,{message:"El ID del solicitante es obligatorio."}),accountManagerId:Ge().optional(),shippingAddressId:Ge().min(1,{message:"La dirección de envío es obligatoria."}),billingAddressId:Ge().min(1,{message:"La dirección de facturación es obligatoria."}),items:Dc($K).min(1,{message:"Se requiere al menos un artículo."}),quoteFile:wR().optional(),projectCodes:Dc(Ge()).optional(),notes:Ge().optional()}),BK=({index:t,form:e})=>{const{control:r,watch:n,setValue:i}=e,s=n(`items.${t}.productName`),a=n(`items.${t}.catalogNumber`),u=n(`items.${t}.brand`),{data:d,isLoading:h}=FK(a||null,u||null,s||null),f=g=>{i(`items.${t}.productName`,g.product_name,{shouldDirty:!0}),i(`items.${t}.catalogNumber`,g.catalog_number,{shouldDirty:!0}),i(`items.${t}.brand`,g.brand||"",{shouldDirty:!0}),i(`items.${t}.unitPrice`,g.unit_price||void 0,{shouldDirty:!0}),i(`items.${t}.format`,g.format||"",{shouldDirty:!0}),i(`items.${t}.link`,g.link||"",{shouldDirty:!0}),ke.info("Autocompletado aplicado.",{description:`Datos cargados desde ${g.source}.`})},p=d&&d.length>0,m=!!a&&!!u||!!s&&s.length>3;return c.jsx("div",{className:"absolute top-4 right-4",children:c.jsxs(c1,{children:[c.jsx(u1,{asChild:!0,children:c.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 px-3 text-xs",disabled:h||!m,children:[h?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Hk,{className:"mr-2 h-4 w-4"}),p?`Sugerencias (${d.length})`:"Buscar Sugerencias"]})}),c.jsx(Qp,{className:"w-80 p-0",children:c.jsxs(Zp,{children:[h&&c.jsx(md,{children:"Buscando..."}),!h&&!p&&c.jsx(md,{children:"No se encontraron sugerencias."}),c.jsx(Jp,{heading:"Sugerencias de Productos",children:d==null?void 0:d.map((g,_)=>c.jsx(Xp,{onSelect:()=>f(g),className:"cursor-pointer",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("span",{className:"font-medium",children:g.product_name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.catalog_number," | ",g.brand||"Sin Marca"," (",g.source,")"]})]})},_))})]})})]})})},UK=()=>{var A;const{session:t,profile:e}=ti(),{data:r,isLoading:n}=Kc(),{data:i,isLoading:s}=cl(),{data:a,isLoading:u}=Hs(),{data:d,isLoading:h}=dl(),{data:f,isLoading:p}=fl(),m=JT(),g=XT(),_=Yw(),y=yn({resolver:bn(qK),defaultValues:{vendorId:"",requesterId:((A=t==null?void 0:t.user)==null?void 0:A.id)||"",accountManagerId:"unassigned",shippingAddressId:"",billingAddressId:"",items:[{productName:"",catalogNumber:"",quantity:1,unitPrice:void 0,format:"",link:"",notes:"",brand:""}],quoteFile:void 0,projectCodes:[],notes:""}});z.useEffect(()=>{var P;(P=t==null?void 0:t.user)!=null&&P.id&&y.setValue("requesterId",t.user.id)},[t,y]),z.useEffect(()=>{d&&d.length>0&&!y.getValues("shippingAddressId")&&y.setValue("shippingAddressId",d[0].id)},[d,y]),z.useEffect(()=>{f&&f.length>0&&!y.getValues("billingAddressId")&&y.setValue("billingAddressId",f[0].id)},[f,y]);const{fields:b,append:E,remove:x}=mR({control:y.control,name:"items"}),j=async P=>{var B,U,Y,X,ie;if(!((B=t==null?void 0:t.user)!=null&&B.id)){gC("Debes iniciar sesión para enviar una solicitud.");return}const q=P.accountManagerId==="unassigned"||!P.accountManagerId?null:P.accountManagerId,T=((U=P.quoteFile)==null?void 0:U[0])||null,D=P.items.map(re=>({productName:re.productName,catalogNumber:re.catalogNumber,quantity:re.quantity,unitPrice:re.unitPrice,format:re.format,link:re.link,notes:re.notes,brand:re.brand})),L=await m.mutateAsync({vendorId:P.vendorId,requesterId:t.user.id,accountManagerId:q,shippingAddressId:P.shippingAddressId,billingAddressId:P.billingAddressId,notes:P.notes,projectCodes:P.projectCodes,items:D});if(T)try{const{filePath:re}=await g.mutateAsync({id:L.id,fileType:"quote",file:T});re&&(await _.mutateAsync({id:L.id,status:"Quote Requested",quoteUrl:re}),ke.success("Cotización adjunta. Solicitud marcada como 'Cotización Solicitada'."))}catch(re){gC("La solicitud fue creada, pero falló la subida del archivo de cotización."),console.error("Error uploading quote file on request creation:",re)}y.reset({vendorId:"",requesterId:t.user.id,accountManagerId:((Y=d==null?void 0:d[0])==null?void 0:Y.id)||"",shippingAddressId:((X=d==null?void 0:d[0])==null?void 0:X.id)||"",billingAddressId:((ie=f==null?void 0:f[0])==null?void 0:ie.id)||"",items:[{productName:"",catalogNumber:"",quantity:1,unitPrice:void 0,format:"",link:"",notes:"",brand:""}],quoteFile:void 0,projectCodes:[],notes:""})},w=e?Mi(e):"Cargando...",C=h||p,O=m.isPending||g.isPending;return c.jsx(wn,{...y,children:c.jsxs("form",{onSubmit:y.handleSubmit(j),className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs($e,{children:[c.jsx(Fe,{children:"Solicitante"}),c.jsx(qe,{children:c.jsx(at,{value:w,readOnly:!0,disabled:!0})}),c.jsx(Ue,{})]}),c.jsx(Ve,{control:y.control,name:"vendorId",render:({field:P})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Proveedor"}),c.jsxs(Br,{onValueChange:P.onChange,value:P.value,disabled:n||O,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:n?"Cargando proveedores...":"Selecciona un proveedor"})})}),c.jsx(Pr,{children:r==null?void 0:r.map(q=>c.jsx(Qt,{value:q.id,children:q.name},q.id))})]}),c.jsx(Ue,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ve,{control:y.control,name:"shippingAddressId",render:({field:P})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Dirección de Envío"}),c.jsxs(Br,{onValueChange:P.onChange,value:P.value,disabled:C||O,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:C?"Cargando direcciones...":"Selecciona dirección de envío"})})}),c.jsx(Pr,{children:d==null?void 0:d.map(q=>c.jsx(Qt,{value:q.id,children:q.name},q.id))})]}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:"billingAddressId",render:({field:P})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Dirección de Facturación"}),c.jsxs(Br,{onValueChange:P.onChange,value:P.value,disabled:C||O,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:C?"Cargando direcciones...":"Selecciona dirección de facturación"})})}),c.jsx(Pr,{children:f==null?void 0:f.map(q=>c.jsx(Qt,{value:q.id,children:q.name},q.id))})]}),c.jsx(Ue,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ve,{control:y.control,name:"accountManagerId",render:({field:P})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Gerente de Cuenta (Opcional)"}),c.jsxs(Br,{onValueChange:P.onChange,value:P.value||"unassigned",disabled:s||O,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:s?"Cargando gerentes...":"Selecciona un gerente de cuenta"})})}),c.jsxs(Pr,{children:[c.jsx(Qt,{value:"unassigned",children:"Sin Asignar"}),i==null?void 0:i.map(q=>c.jsx(Qt,{value:q.id,children:`${q.first_name} ${q.last_name}`},q.id))]})]}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:"projectCodes",render:({field:P})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Códigos de Proyecto (Opcional)"}),c.jsxs(c1,{children:[c.jsx(u1,{asChild:!0,children:c.jsx(qe,{children:c.jsxs(Ce,{variant:"outline",role:"combobox",className:Be("w-full justify-between",!P.value||P.value.length===0&&"text-muted-foreground"),disabled:u||O,children:[P.value&&P.value.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:P.value.map(q=>{const T=a==null?void 0:a.find(D=>D.id===q);return T?c.jsx(ul,{variant:"secondary",children:T.code},q):null})}):"Seleccionar proyectos...",c.jsx(Bk,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),c.jsx(Qp,{className:"w-[--radix-popover-trigger-width] p-0",children:c.jsxs(Zp,{children:[c.jsx(f1,{placeholder:"Buscar proyectos..."}),c.jsx(md,{children:"No se encontró ningún proyecto."}),c.jsx(Jp,{children:a==null?void 0:a.map(q=>{var T;return c.jsxs(Xp,{value:q.name,onSelect:()=>{const D=P.value||[];D.includes(q.id)?P.onChange(D.filter(L=>L!==q.id)):P.onChange([...D,q.id])},children:[c.jsx(Nd,{className:Be("mr-2 h-4 w-4",(T=P.value)!=null&&T.includes(q.id)?"opacity-100":"opacity-0")}),q.name," (",q.code,")"]},q.id)})})]})})]}),c.jsx(Ue,{})]})})]}),c.jsx("h2",{className:"text-xl font-semibold mt-8 mb-4",children:"Archivos Adjuntos (Opcional)"}),c.jsx(Ve,{control:y.control,name:"quoteFile",render:({field:P})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Adjuntar Cotización (Si ya la tienes)"}),c.jsx(qe,{children:c.jsx(at,{type:"file",onChange:q=>P.onChange(q.target.files),disabled:O})}),c.jsx(Ue,{}),c.jsx("p",{className:"text-sm text-muted-foreground",children:'Si adjuntas una cotización, la solicitud se creará directamente en estado "Cotización Solicitada".'})]})}),c.jsx(Ve,{control:y.control,name:"notes",render:({field:P})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Notas Generales de la Solicitud (Opcional)"}),c.jsx(qe,{children:c.jsx(Ls,{placeholder:"Cualquier detalle general sobre esta solicitud...",...P})}),c.jsx(Ue,{})]})}),c.jsx("h2",{className:"text-xl font-semibold",children:"Artículos"}),c.jsx("div",{className:"space-y-6",children:b.map((P,q)=>c.jsxs("div",{className:"border p-4 rounded-md relative bg-muted/20 pt-16 sm:pt-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 absolute top-4 left-4 right-4 sm:relative sm:top-0 sm:left-0 sm:right-0 sm:mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-primary",children:["Artículo #",q+1]}),b.length>1&&c.jsx(Ce,{type:"button",variant:"destructive",size:"icon",onClick:()=>x(q),className:"h-8 w-8",children:c.jsx(ls,{className:"h-4 w-4"})})]}),c.jsx(BK,{index:q,form:y}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(Ve,{control:y.control,name:`items.${q}.brand`,render:({field:T})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Marca"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Invitrogen",...T})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:`items.${q}.catalogNumber`,render:({field:T})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Número de Catálogo"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. 18265017",...T})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:`items.${q}.productName`,render:({field:T})=>c.jsxs($e,{className:"sm:col-span-2 lg:col-span-2",children:[c.jsx(Fe,{children:"Nombre del Producto"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Células Competentes E. coli DH5a",...T})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:`items.${q}.quantity`,render:({field:T})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Cantidad"}),c.jsx(qe,{children:c.jsx(at,{type:"number",...T})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:`items.${q}.unitPrice`,render:({field:T})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Precio Unitario (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{type:"number",step:"0.01",placeholder:"ej. 120.50 €",...T})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:`items.${q}.format`,render:({field:T})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Formato (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. 500 mL",...T})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:`items.${q}.link`,render:({field:T})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Enlace del Producto (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{type:"url",placeholder:"ej. https://www.vendor.com/product",...T})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:y.control,name:`items.${q}.notes`,render:({field:T})=>c.jsxs($e,{className:"sm:col-span-2 lg:col-span-4",children:[c.jsx(Fe,{children:"Notas (Opcional)"}),c.jsx(qe,{children:c.jsx(Ls,{placeholder:"Cualquier requisito o detalle específico...",...T})}),c.jsx(Ue,{})]})})]})]},P.id))}),c.jsxs(Ce,{type:"button",variant:"outline",onClick:()=>E({productName:"",catalogNumber:"",quantity:1,unitPrice:void 0,format:"",link:"",notes:"",brand:""}),className:"w-full",children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Añadir Otro Artículo"]}),c.jsx(Ce,{type:"submit",className:"w-full",disabled:O,children:O?c.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):"Enviar Solicitud"})]})})},VK=()=>c.jsxs("div",{className:"container mx-auto py-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Crear Nueva Solicitud"}),c.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Rellena el siguiente formulario para enviar una nueva solicitud de productos de laboratorio. Puedes añadir múltiples artículos a una sola solicitud."}),c.jsx(UK,{})]}),zK=({vendors:t,onEdit:e,onDelete:r})=>c.jsx("div",{className:"rounded-md border",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{children:"Nombre del Proveedor"}),c.jsx(ht,{children:"Persona de Contacto"}),c.jsx(ht,{children:"Email"}),c.jsx(ht,{children:"Teléfono"}),c.jsx(ht,{children:"Marcas"}),c.jsx(ht,{className:"text-right",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No se encontraron proveedores."})}):t.map(n=>c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:n.name}),c.jsx(rt,{children:n.contact_person||"N/A"}),c.jsx(rt,{children:n.email||"N/A"}),c.jsx(rt,{children:n.phone||"N/A"}),c.jsx(rt,{children:n.brands&&n.brands.length>0?n.brands.join(", "):"N/A"}),c.jsxs(rt,{className:"text-right",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>e(n),className:"mr-2",title:"Editar Proveedor",children:c.jsx(qs,{className:"h-4 w-4"})}),c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>r(n.id),title:"Eliminar Proveedor",children:c.jsx(ls,{className:"h-4 w-4"})})]})]},n.id))})]})}),HK=Kr({name:Ge().min(1,{message:"El nombre del proveedor es obligatorio."}),contact_person:Ge().optional().nullable(),email:Ge().email({message:"Debe ser una dirección de correo válida."}).optional().or(Mp("")).nullable(),phone:Ge().optional().nullable(),notes:Ge().optional().nullable(),brands:Ge().optional().nullable()}),vC=({initialData:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{const i=yn({resolver:bn(HK),defaultValues:t||{name:"",contact_person:null,email:null,phone:null,notes:null,brands:null}}),s=a=>{const u={name:a.name,contact_person:a.contact_person||null,email:a.email||null,phone:a.phone||null,notes:a.notes||null,brands:a.brands||null};e(u)};return c.jsx(wn,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[c.jsx(Ve,{control:i.control,name:"name",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre del Proveedor"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Thermo Fisher Scientific",...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"contact_person",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Persona de Contacto (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Jane Doe",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"email",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Email (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{type:"email",placeholder:"ej. jane.doe@example.com",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"phone",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Teléfono (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. 1-800-123-4567",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"brands",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Marcas (Opcional)"}),c.jsx(qe,{children:c.jsx(Ls,{placeholder:"ej. Invitrogen, Applied Biosystems, Gibco (separadas por comas)",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"notes",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Notas (Opcional)"}),c.jsx(qe,{children:c.jsx(Ls,{placeholder:"Cualquier detalle específico sobre este proveedor...",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r&&c.jsx(Ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):t?"Guardar Cambios":"Añadir Proveedor"})]})]})})},WK=()=>{const{data:t,isLoading:e,error:r}=Kc(),n=fU(),i=hU(),s=pU(),[a,u]=z.useState(!1),[d,h]=z.useState(!1),[f,p]=z.useState(void 0),m=E=>E?E.split(",").map(x=>x.trim()).filter(Boolean):[],g=async E=>{await n.mutateAsync({...E,brands:m(E.brands)}),u(!1)},_=async(E,x)=>{await i.mutateAsync({id:E,data:{...x,brands:m(x.brands)}}),h(!1),p(void 0)},y=async E=>{await s.mutateAsync(E)},b=E=>{p({...E,brands:E.brands&&Array.isArray(E.brands)?E.brands.join(", "):"",contact_person:E.contact_person||null}),h(!0)};return e?c.jsxs("div",{className:"container mx-auto py-8 flex justify-center items-center",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando Proveedores..."]}):r?c.jsxs("div",{className:"container mx-auto py-8 text-red-600",children:["Error al cargar proveedores: ",r.message]}):c.jsxs("div",{className:"container mx-auto py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Directorio de Proveedores"}),c.jsxs(rr,{open:a,onOpenChange:u,children:[c.jsx(dc,{asChild:!0,children:c.jsxs(Ce,{children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Añadir Nuevo Proveedor"]})}),c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Añadir Nuevo Proveedor"})}),c.jsx(vC,{onSubmit:g,onCancel:()=>u(!1),isSubmitting:n.isPending})]})]})]}),c.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Esta página permite a los gerentes de cuenta ver y gestionar la información de los proveedores."}),c.jsx(zK,{vendors:t||[],onEdit:b,onDelete:y}),c.jsx(rr,{open:d,onOpenChange:h,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Editar Proveedor"})}),f&&c.jsx(vC,{initialData:{...f,brands:f.brands&&Array.isArray(f.brands)?f.brands.join(", "):"",contact_person:f.contact_person||null},onSubmit:E=>_(f.id,E),onCancel:()=>h(!1),isSubmitting:i.isPending})]})})]})},KK=t=>{switch(t){case"Pending":return"secondary";case"Quote Requested":return"outline";case"PO Requested":return"destructive";case"Ordered":return"default";case"Received":return"success";default:return"secondary"}},yC=t=>t?c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-medium",children:t.name}),c.jsx("p",{children:t.address_line_1}),t.address_line_2&&c.jsx("p",{children:t.address_line_2}),c.jsxs("p",{children:[t.city,", ",t.state," ",t.zip_code]}),c.jsx("p",{children:t.country})]}):"N/A",GK=({request:t,vendor:e,profiles:r,onEditDetails:n,isEditable:i})=>{var C;const{data:s}=cl(),{data:a}=Hs(),{data:u}=dl(),{data:d}=fl(),[h,f]=z.useState(!1),p=O=>{const A=r==null?void 0:r.find(P=>P.id===O);return Mi(A)},m=O=>{if(!O)return"N/A";const A=s==null?void 0:s.find(P=>P.id===O);return A?`${A.first_name} ${A.last_name}`:"N/A"},g=async()=>{if(!t.quote_url)return;f(!0);const O=await hc(t.quote_url);f(!1),O?window.open(O,"_blank"):ke.error("No se pudo generar la URL firmada para la cotización.")},_=p(t.requester_id),y=m(t.account_manager_id),b=((C=t.project_codes)==null?void 0:C.map(O=>{const A=a==null?void 0:a.find(P=>P.id===O);return A?A.code:O}).join(", "))||"N/A",E=Mc(new Date(t.created_at),"yyyy-MM-dd HH:mm"),x=u==null?void 0:u.find(O=>O.id===t.shipping_address_id),j=d==null?void 0:d.find(O=>O.id===t.billing_address_id),w=t.request_number||`ID: ${t.id.substring(0,8)}`;return c.jsxs(zn,{children:[c.jsxs(Hn,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[c.jsxs(Wn,{className:"text-xl sm:text-2xl font-bold flex flex-col items-start",children:[c.jsxs("span",{className:"text-base font-semibold text-muted-foreground",children:["Solicitud ",w]}),c.jsx("span",{children:(e==null?void 0:e.name)||"N/A"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ul,{variant:KK(t.status),children:t.status}),i&&c.jsx(Ce,{variant:"outline",size:"icon",onClick:n,title:"Editar Detalles de la Solicitud",children:c.jsx(qs,{className:"h-4 w-4"})})]})]}),c.jsxs(Kn,{className:"space-y-6 pt-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitante"}),c.jsx("p",{className:"font-medium",children:_})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerente de Cuenta"}),c.jsx("p",{className:"font-medium",children:y})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Códigos de Proyecto"}),c.jsx("p",{className:"font-medium",children:b})]})]}),c.jsx(fc,{}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Dirección de Envío"}),yC(x)]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Dirección de Facturación"}),yC(j)]})]}),c.jsx(fc,{}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha de Envío"}),c.jsx("p",{className:"font-medium",children:E})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Detalles de Cotización"}),c.jsx("p",{className:"font-medium",children:t.quote_url?c.jsx(Ce,{variant:"link",size:"sm",onClick:g,disabled:h,className:"p-0 h-auto text-blue-500",children:h?c.jsx(wt,{className:"h-4 w-4 animate-spin mr-1"}):"Ver Cotización"}):"N/A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Número de PO"}),c.jsx("p",{className:"font-medium",children:t.po_number||"N/A"})]})]}),t.notes&&c.jsxs(c.Fragment,{children:[c.jsx(fc,{}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Notas"}),c.jsx("p",{className:"text-sm italic text-gray-700",children:t.notes})]})]})]})]})},QK=Kr({product_name:Ge().min(1,{message:"El nombre del producto es obligatorio."}),catalog_number:Ge().min(1,{message:"El número de catálogo es obligatorio."}),brand:Ge().optional().nullable(),quantity:Qo(t=>Number(t),is().min(1,{message:"La cantidad debe ser al menos 1."})),unit_price:Qo(t=>t===null||t===""?null:Number(t),is().min(0,{message:"El precio unitario no puede ser negativo."}).nullable().optional()),format:Ge().optional().nullable(),link:Ge().url({message:"Debe ser una URL válida."}).optional().or(Mp("")).nullable(),notes:Ge().optional().nullable()}),YK=({initialData:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{const i=yn({resolver:bn(QK),defaultValues:{product_name:t.product_name,catalog_number:t.catalog_number,brand:t.brand||null,quantity:t.quantity,unit_price:t.unit_price,format:t.format||null,link:t.link||null,notes:t.notes||null}}),s=a=>{e(a)};return c.jsx(wn,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ve,{control:i.control,name:"product_name",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre del Producto"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"catalog_number",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Número de Catálogo"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"brand",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Marca (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"quantity",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Cantidad"}),c.jsx(qe,{children:c.jsx(at,{type:"number",...a,onChange:u=>a.onChange(u.target.value),disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"unit_price",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Precio Unitario (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{type:"number",step:"0.01",placeholder:"ej. 120.50 €",...a,value:a.value===null?"":a.value,onChange:u=>a.onChange(u.target.value===""?null:Number(u.target.value)),disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"format",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Formato (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"link",render:({field:a})=>c.jsxs($e,{className:"md:col-span-2",children:[c.jsx(Fe,{children:"Enlace del Producto (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{type:"url",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})})]}),c.jsx(Ve,{control:i.control,name:"notes",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Notas (Opcional)"}),c.jsx(qe,{children:c.jsx(Ls,{...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(Ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):"Guardar Cambios del Artículo"})]})]})})},ZK=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const n={...r,brand:r.brand||null,format:r.format||null,link:r.link||null,notes:r.notes||null,unit_price:r.unit_price===void 0?null:r.unit_price},{data:i,error:s}=await Xe.from("request_items").update(n).eq("id",e).select().single();if(s)throw new Error(s.message);return i},onSuccess:e=>{t.invalidateQueries({queryKey:["requests"]}),ke.success(`Artículo "${e.product_name}" actualizado exitosamente!`)},onError:e=>{ke.error("Fallo al actualizar el artículo de solicitud.",{description:e.message})}})},JK=()=>{const t=Mt();return Ut({mutationFn:async e=>{const{error:r}=await Xe.from("request_items").delete().eq("id",e);if(r)throw new Error(r.message)},onSuccess:()=>{t.invalidateQueries({queryKey:["requests"]}),ke.success("Artículo de solicitud eliminado exitosamente!")},onError:e=>{ke.error("Fallo al eliminar el artículo de solicitud.",{description:e.message})}})},XK=({items:t,isEditable:e})=>{const r=ZK(),n=JK(),[i,s]=z.useState(!1),[a,u]=z.useState(void 0),d=p=>{u(p),s(!0)},h=async p=>{a&&(await r.mutateAsync({id:a.id,data:p}),s(!1),u(void 0))},f=async p=>{if(t&&t.length<=1){ke.error("No se puede eliminar el último artículo.",{description:"Una solicitud debe tener al menos un artículo. Considere eliminar la solicitud completa en su lugar."});return}await n.mutateAsync(p)};return!t||t.length===0?c.jsx("div",{className:"text-muted-foreground text-center py-4",children:"No se encontraron artículos para esta solicitud."}):c.jsxs(c.Fragment,{children:[c.jsx(fc,{}),c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Artículos Solicitados"}),c.jsx("div",{className:"rounded-md border",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{children:"Nombre del Producto"}),c.jsx(ht,{children:"Marca"}),c.jsx(ht,{children:"Catálogo #"}),c.jsx(ht,{children:"Cantidad"}),c.jsx(ht,{children:"Precio Unitario"}),c.jsx(ht,{children:"Formato"}),c.jsx(ht,{children:"Enlace"}),e&&c.jsx(ht,{className:"text-right",children:"Acciones"})]})}),c.jsx(qi,{children:t.map(p=>c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:p.product_name}),c.jsx(rt,{children:p.brand||"N/A"}),c.jsx(rt,{children:p.catalog_number||"N/A"}),c.jsx(rt,{children:p.quantity}),c.jsx(rt,{children:p.unit_price?`€${Number(p.unit_price).toFixed(2)}`:"N/A"}),c.jsx(rt,{children:p.format||"N/A"}),c.jsx(rt,{children:p.link?c.jsx("a",{href:p.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Ver Producto"}):"N/A"}),e&&c.jsxs(rt,{className:"text-right",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>d(p),className:"mr-2",title:"Editar Artículo",disabled:r.isPending||n.isPending,children:c.jsx(qs,{className:"h-4 w-4"})}),c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>f(p.id),title:"Eliminar Artículo",disabled:r.isPending||n.isPending,children:n.isPending&&n.variables===p.id?c.jsx(wt,{className:"h-4 w-4 animate-spin"}):c.jsx(ls,{className:"h-4 w-4"})})]})]},p.id))})]})}),c.jsx(rr,{open:i,onOpenChange:s,children:c.jsxs(Zt,{className:"sm:max-w-[600px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Editar Artículo de Solicitud"})}),a&&c.jsx(YK,{initialData:a,onSubmit:h,onCancel:()=>s(!1),isSubmitting:r.isPending})]})})]})},eG=({request:t,isUpdatingStatus:e,openApproveRequestDialog:r,handleSendPORequest:n,handleUploadQuote:i,handleUploadPOAndOrder:s,handleMarkAsReceived:a,handleMarkAsOrderedAndSendEmail:u,openDenyRequestDialog:d,openCancelRequestDialog:h,onSendQuoteRequest:f})=>c.jsxs("div",{className:"flex flex-col space-y-2",children:[" ",t.status==="Pending"&&c.jsxs(c.Fragment,{children:[c.jsxs(Ce,{onClick:()=>f(t),disabled:e,variant:"outline",children:[c.jsx(ic,{className:"mr-2 h-4 w-4"})," Solicitar Cotización (Correo)"]}),c.jsxs(Ce,{onClick:()=>r(t),disabled:e,children:[c.jsx(nw,{className:"mr-2 h-4 w-4"})," Aprobar Solicitud"]}),c.jsxs(Ce,{onClick:()=>d(t),disabled:e,variant:"destructive",children:[c.jsx(kh,{className:"mr-2 h-4 w-4"})," Denegar Solicitud"]})]}),t.status==="Quote Requested"&&c.jsxs(c.Fragment,{children:[t.quote_url?c.jsxs(Ce,{onClick:()=>n(t),disabled:e,variant:"outline",children:[c.jsx(ic,{className:"mr-2 h-4 w-4"})," Solicitar PO (Correo)"]}):c.jsxs(Ce,{onClick:i,disabled:e,children:[c.jsx(Oh,{className:"mr-2 h-4 w-4"})," Subir Cotización"]}),c.jsxs(Ce,{onClick:()=>d(t),disabled:e,variant:"destructive",children:[c.jsx(kh,{className:"mr-2 h-4 w-4"})," Denegar Solicitud"]})]}),t.status==="PO Requested"&&c.jsxs(c.Fragment,{children:[c.jsxs(Ce,{onClick:()=>s(t),disabled:e,children:[c.jsx(Oh,{className:"mr-2 h-4 w-4"})," Subir PO y Marcar como Pedido"]}),c.jsxs(Ce,{onClick:()=>h(t),disabled:e,variant:"destructive",children:[c.jsx(Nh,{className:"mr-2 h-4 w-4"})," Cancelar Solicitud"]})]}),t.status==="Ordered"&&c.jsxs(c.Fragment,{children:[t.po_url&&c.jsxs(Ce,{onClick:()=>u(t),disabled:e,variant:"outline",children:[c.jsx(ic,{className:"mr-2 h-4 w-4"})," Enviar Correo de Pedido"]}),c.jsxs(Ce,{onClick:()=>a(t),disabled:e,children:[c.jsx(zk,{className:"mr-2 h-4 w-4"})," Recibir Artículos"]}),c.jsxs(Ce,{onClick:()=>h(t),disabled:e,variant:"destructive",children:[c.jsx(Nh,{className:"mr-2 h-4 w-4"})," Cancelar Solicitud"]})]})]}),bC=t=>{if(!t)return"File";try{const e=t.split("/"),r=e[e.length-1],n=decodeURIComponent(r),i=n.split("_");return i.length>1&&!isNaN(Number(i[0]))?i.slice(1).join("_"):n.substring(n.indexOf("_")+1)||n||"Archivo"}catch(e){return console.error("Could not parse filename from path",e),"Archivo"}},p0=({label:t,filePath:e,onUpload:r})=>{const[n,i]=z.useState(!1),s=async()=>{if(!e)return;i(!0);const a=await hc(e);i(!1),a?window.open(a,"_blank"):ke.error(`No se pudo generar la URL firmada para ${t}.`)};return c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md hover:bg-muted/50 border-b last:border-b-0",children:[c.jsxs("div",{className:"flex items-center min-w-0 flex-shrink-0",children:[c.jsx(Uk,{className:"h-5 w-5 mr-3 text-muted-foreground"}),c.jsx("span",{className:"font-medium text-sm",children:t})]}),c.jsx("div",{className:"flex items-center space-x-2 min-w-0 flex-grow justify-end",children:e?c.jsxs(c.Fragment,{children:[c.jsxs(Ce,{variant:"link",size:"sm",onClick:s,disabled:n,className:"text-xs text-blue-600 hover:underline flex items-center p-0 h-auto truncate max-w-[150px] sm:max-w-[200px]",title:bC(e),children:[n?c.jsx(wt,{className:"h-4 w-4 animate-spin mr-1"}):c.jsx(Vk,{className:"h-4 w-4 mr-1 flex-shrink-0"}),c.jsx("span",{className:"truncate",children:bC(e)})]}),c.jsx(Ce,{variant:"outline",size:"icon",onClick:r,title:"Reemplazar Archivo",className:"h-8 w-8 flex-shrink-0",children:c.jsx(Oh,{className:"h-4 w-4"})})]}):c.jsxs(Ce,{variant:"outline",size:"sm",onClick:r,title:"Subir Archivo",className:"h-8 px-3 text-sm",children:[c.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Subir"]})})]})},tG=({request:t,onUploadClick:e})=>c.jsxs(zn,{children:[c.jsx(Hn,{children:c.jsx(Wn,{className:"text-lg",children:"Archivos Adjuntos"})}),c.jsxs(Kn,{className:"p-0",children:[c.jsx(p0,{label:"Cotización",filePath:t.quote_url,onUpload:()=>e("quote")}),c.jsx(p0,{label:"Orden de Compra (PO)",filePath:t.po_url,onUpload:()=>e("po")}),c.jsx(p0,{label:"Último Albarán",filePath:t.slip_url,onUpload:()=>e("slip")})]})]}),rG=({isOpen:t,onOpenChange:e,onUpload:r,isUploading:n,fileType:i})=>{const[s,a]=z.useState(null),[u,d]=z.useState("");z.useEffect(()=>{t||(a(null),d(""))},[t]);const h=g=>{g.target.files&&g.target.files[0]?a(g.target.files[0]):a(null)},f=async()=>{if(i==="po"){if(!u.trim()){ke.error("El número de PO es obligatorio.",{description:"Por favor, introduce un número de Orden de Compra."});return}await r(s,u.trim())}else if(s)await r(s);else{ke.error("El archivo es obligatorio.",{description:"Por favor, selecciona un archivo para subir."});return}},p=()=>{switch(i){case"quote":return"Subir Archivo de Cotización (Obligatorio)";case"po":return"Subir Archivo de Orden de Compra (Opcional)";case"slip":return"Subir Albarán (Opcional)";default:return"Subir Archivo"}},m=n||i!=="po"&&i!=="slip"&&!s;return c.jsx(rr,{open:t,onOpenChange:e,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:p()}),c.jsx(an,{children:"Selecciona un archivo para subir."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[i==="po"&&c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsxs(Do,{htmlFor:"poNumber",className:"text-right",children:["Número de PO ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(at,{id:"poNumber",value:u,onChange:g=>d(g.target.value),className:"col-span-3",placeholder:"ej. PO-12345",disabled:n})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsxs(Do,{htmlFor:"file",className:"text-right",children:["Archivo ",i==="po"||i==="slip"?"(Opcional)":"(Obligatorio)"]}),c.jsx(at,{id:"file",type:"file",onChange:h,className:"col-span-3",disabled:n})]})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>e(!1),disabled:n,children:"Cancelar"}),c.jsx(Ce,{onClick:f,disabled:m,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Subiendo..."]}):i==="po"?"Guardar Detalles de PO":"Subir"})]})]})})},nG=Kr({vendorId:Ge().min(1,{message:"El proveedor es obligatorio."}),shippingAddressId:Ge().min(1,{message:"La dirección de envío es obligatoria."}),billingAddressId:Ge().min(1,{message:"La dirección de facturación es obligatoria."}),accountManagerId:pV([Ge().uuid({message:"ID de gerente no válido."}),Mp("unassigned")]).optional(),notes:Ge().optional(),projectCodes:Dc(Ge()).optional()}),iG=({request:t,profiles:e,onSubmit:r,isSubmitting:n})=>{const{data:i,isLoading:s}=Kc(),{data:a,isLoading:u}=cl(),{data:d,isLoading:h}=Hs(),{data:f,isLoading:p}=dl(),{data:m,isLoading:g}=fl(),_=t.project_codes||[],y=e.find(j=>j.id===t.requester_id),b=yn({resolver:bn(nG),defaultValues:{vendorId:t.vendor_id,shippingAddressId:t.shipping_address_id||"",billingAddressId:t.billing_address_id||"",accountManagerId:t.account_manager_id||"unassigned",notes:t.notes||"",projectCodes:_},values:{vendorId:t.vendor_id,shippingAddressId:t.shipping_address_id||"",billingAddressId:t.billing_address_id||"",accountManagerId:t.account_manager_id||"unassigned",notes:t.notes||"",projectCodes:_}}),E=j=>{r(j)},x=s||u||h||p||g;return c.jsx(wn,{...b,children:c.jsxs("form",{onSubmit:b.handleSubmit(E),className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs($e,{children:[c.jsx(Fe,{children:"Solicitante"}),c.jsx(qe,{children:c.jsx(at,{value:Mi(y),readOnly:!0,disabled:!0})})]}),c.jsx(Ve,{control:b.control,name:"vendorId",render:({field:j})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Proveedor"}),c.jsxs(Br,{onValueChange:j.onChange,value:j.value,disabled:s||n,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:s?"Cargando proveedores...":"Selecciona un proveedor"})})}),c.jsx(Pr,{children:i==null?void 0:i.map(w=>c.jsx(Qt,{value:w.id,children:w.name},w.id))})]}),c.jsx(Ue,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ve,{control:b.control,name:"shippingAddressId",render:({field:j})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Dirección de Envío"}),c.jsxs(Br,{onValueChange:j.onChange,value:j.value,disabled:p||n,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:p?"Cargando direcciones...":"Selecciona dirección de envío"})})}),c.jsx(Pr,{children:f==null?void 0:f.map(w=>c.jsx(Qt,{value:w.id,children:w.name},w.id))})]}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:b.control,name:"billingAddressId",render:({field:j})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Dirección de Facturación"}),c.jsxs(Br,{onValueChange:j.onChange,value:j.value,disabled:g||n,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:g?"Cargando direcciones...":"Selecciona dirección de facturación"})})}),c.jsx(Pr,{children:m==null?void 0:m.map(w=>c.jsx(Qt,{value:w.id,children:w.name},w.id))})]}),c.jsx(Ue,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ve,{control:b.control,name:"accountManagerId",render:({field:j})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Gerente de Cuenta Asignado"}),c.jsxs(Br,{onValueChange:j.onChange,value:j.value||"unassigned",disabled:u||n,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:u?"Cargando gerentes...":"Selecciona un gerente de cuenta"})})}),c.jsxs(Pr,{children:[c.jsx(Qt,{value:"unassigned",children:"Sin Gerente"}),a==null?void 0:a.map(w=>c.jsx(Qt,{value:w.id,children:`${w.first_name} ${w.last_name}`},w.id))]})]}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:b.control,name:"projectCodes",render:({field:j})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Códigos de Proyecto"}),c.jsxs(c1,{children:[c.jsx(u1,{asChild:!0,children:c.jsx(qe,{children:c.jsxs(Ce,{variant:"outline",role:"combobox",className:Be("w-full justify-between",!j.value||j.value.length===0&&"text-muted-foreground"),disabled:h||n,children:[j.value&&j.value.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:j.value.map(w=>{const C=d==null?void 0:d.find(O=>O.id===w);return C?c.jsx(ul,{variant:"secondary",children:C.code},w):null})}):"Seleccionar proyectos...",c.jsx(Bk,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),c.jsx(Qp,{className:"w-[--radix-popover-trigger-width] p-0",children:c.jsxs(Zp,{children:[c.jsx(f1,{placeholder:"Buscar proyectos..."}),c.jsx(md,{children:"No se encontró ningún proyecto."}),c.jsx(Jp,{children:d==null?void 0:d.map(w=>{var C;return c.jsxs(Xp,{value:w.name,onSelect:()=>{const O=j.value||[];O.includes(w.id)?j.onChange(O.filter(A=>A!==w.id)):j.onChange([...O,w.id])},children:[c.jsx(Nd,{className:Be("mr-2 h-4 w-4",(C=j.value)!=null&&C.includes(w.id)?"opacity-100":"opacity-0")}),w.name," (",w.code,")"]},w.id)})})]})})]}),c.jsx(Ue,{})]})})]}),c.jsx(Ve,{control:b.control,name:"notes",render:({field:j})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Notas"}),c.jsx(qe,{children:c.jsx(Ls,{placeholder:"Cualquier detalle específico sobre esta solicitud...",...j,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx(Ce,{type:"submit",disabled:n||x,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):"Guardar Todos los Cambios"})})]})})},m0=t=>{if(!t)return"Archivo";try{const e=t.split("/"),r=e[e.length-1],n=decodeURIComponent(r);return n.substring(n.indexOf("_")+1)||n||"Archivo"}catch(e){return console.error("Could not parse filename from path",e),"Archivo"}},sG=()=>{const{id:t}=O8(),e=Xo(),{profile:r,session:n}=ti(),{data:i,isLoading:s}=$d(),{data:a,isLoading:u}=Kc(),{data:d,isLoading:h}=Qw(),{data:f,isLoading:p}=cl(),{data:m,isLoading:g}=Hs(),{data:_,isLoading:y}=a1(),{data:b,isLoading:E}=dl(),{data:x,isLoading:j}=fl(),w=Yw(),C=XT();uU();const O=cU(),A=dU(),P=eR(),q=tR(),T=i==null?void 0:i.find(Pe=>Pe.id===t),{data:D,isLoading:L}=AP(t||""),[B,U]=z.useState(!1),[Y,X]=z.useState({}),[ie,re]=z.useState(!1),[K,Q]=z.useState(null),[M,$]=z.useState(!1),[G,te]=z.useState("quote"),[ee,W]=z.useState(!1),[Z,le]=z.useState(!1),[ce,me]=z.useState(!1),[je,Te]=z.useState(!1),[ze,Ze]=z.useState(!1),[pt,_t]=z.useState(!1),[xt,xe]=z.useState(!1),[_e,J]=z.useState((T==null?void 0:T.status)||"Pending"),oe=Pe=>{var Xt;return((Xt=a==null?void 0:a.find(ar=>ar.id===Pe))==null?void 0:Xt.email)||""},ae=Pe=>{if(!Pe)return"";const Xt=f==null?void 0:f.find(ar=>ar.id===Pe);return(Xt==null?void 0:Xt.email)||""},Ee=async Pe=>{await q.mutateAsync({to:Pe.to,subject:Pe.subject,body:Pe.body,attachments:Pe.attachmentsForSend||Pe.attachments}),U(!1)},he=async Pe=>{if(!Pe.account_manager_id){ke.error("No se puede enviar la solicitud de PO.",{description:"No hay un gerente de cuenta asignado a esta solicitud."});return}if(!Pe.quote_url){ke.error("No se puede enviar la solicitud de PO.",{description:"El archivo de cotización no está disponible."});return}const Xt=_==null?void 0:_.find(Bt=>Bt.template_name==="PO Request");if(!Xt){ke.error("Plantilla de correo electrónico 'PO Request' no encontrada. Por favor, crea una en el panel de Admin.");return}const ar={request:Pe,vendor:a==null?void 0:a.find(Bt=>Bt.id===Pe.vendor_id),requesterProfile:d==null?void 0:d.find(Bt=>Bt.id===Pe.requester_id),accountManager:f==null?void 0:f.find(Bt=>Bt.id===Pe.account_manager_id),projects:m,actorProfile:r,shippingAddress:b==null?void 0:b.find(Bt=>Bt.id===Pe.shipping_address_id),billingAddress:x==null?void 0:x.find(Bt=>Bt.id===Pe.billing_address_id)};let Pt=[],vi=[];if(Pe.quote_url){const Bt=m0(Pe.quote_url),Ui=await hc(Pe.quote_url);Ui?Pt.push({name:Bt,url:Ui}):ke.warning("No se pudo generar la URL firmada para el archivo de cotización. El enlace adjunto en el diálogo podría estar roto."),vi.push({name:Bt,url:Pe.quote_url})}X({to:ae(Pe.account_manager_id),subject:Ku(Xt.subject_template,ar),body:Gu(Xt.body_template,ar),attachments:Pt,attachmentsForSend:vi}),U(!0)},ve=Pe=>{Q(Pe),re(!0)},Oe=async()=>{if(K){const Pe=K.quote_url?"PO Requested":"Quote Requested";await w.mutateAsync({id:K.id,status:Pe}),re(!1)}},lt=async()=>{if(K){const Pe=K.quote_url?"PO Requested":"Quote Requested";if(await w.mutateAsync({id:K.id,status:Pe}),Pe==="Quote Requested"){const Xt=_==null?void 0:_.find(Pt=>Pt.template_name==="Quote Request");if(!Xt){ke.error("Plantilla de correo electrónico 'Quote Request' no encontrada. Por favor, crea una en el panel de Admin.");return}const ar={request:K,vendor:a==null?void 0:a.find(Pt=>Pt.id===K.vendor_id),requesterProfile:d==null?void 0:d.find(Pt=>Pt.id===K.requester_id),accountManager:f==null?void 0:f.find(Pt=>Pt.id===K.account_manager_id),projects:m,actorProfile:r,shippingAddress:b==null?void 0:b.find(Pt=>Pt.id===K.shipping_address_id),billingAddress:x==null?void 0:x.find(Pt=>Pt.id===K.billing_address_id)};X({to:oe(K.vendor_id),subject:Ku(Xt.subject_template,ar),body:Gu(Xt.body_template,ar)}),re(!1),U(!0)}else re(!1)}},He=()=>{T!=null&&T.items&&T.items.length>0?me(!0):ke.error("No se pueden recibir artículos.",{description:"La solicitud no tiene artículos."})},Et=Pe=>{te(Pe),$(!0)},V=()=>Et("quote"),R=()=>Et("po"),F=async(Pe,Xt)=>{if(T)try{const{filePath:ar,poNumber:Pt}=await C.mutateAsync({id:T.id,fileType:G,file:Pe,poNumber:Xt});if(G==="quote"&&ar){await w.mutateAsync({id:T.id,status:"PO Requested",quoteUrl:ar});const vi={...T,quote_url:ar,status:"PO Requested"};vi.account_manager_id?he(vi):ke.info("Cotización subida. Por favor, asigna un Gerente de Cuenta para solicitar un PO.")}else G==="po"&&Pt&&T.status==="PO Requested"&&await w.mutateAsync({id:T.id,status:"Ordered",poNumber:Pt,quoteUrl:T.quote_url});$(!1)}catch(ar){console.error("File upload orchestration failed:",ar)}},ne=async Pe=>{if(!Pe.po_url){ke.error("No se puede enviar el correo de pedido.",{description:"El archivo PO no está disponible. Por favor, sube el archivo PO primero."});return}const Xt=_==null?void 0:_.find(Bt=>Bt.template_name==="Order Confirmation");if(!Xt){ke.error("Plantilla de correo electrónico 'Order Confirmation' no encontrada. Por favor, crea una en el panel de Admin.");return}const ar={request:Pe,vendor:a==null?void 0:a.find(Bt=>Bt.id===Pe.vendor_id),requesterProfile:d==null?void 0:d.find(Bt=>Bt.id===Pe.requester_id),accountManager:f==null?void 0:f.find(Bt=>Bt.id===Pe.account_manager_id),projects:m,actorProfile:r,shippingAddress:b==null?void 0:b.find(Bt=>Bt.id===Pe.shipping_address_id),billingAddress:x==null?void 0:x.find(Bt=>Bt.id===Pe.billing_address_id)};let Pt=[],vi=[];if(Pe.quote_url){const Bt=m0(Pe.quote_url),Ui=await hc(Pe.quote_url);Ui&&Pt.push({name:Bt,url:Ui}),vi.push({name:Bt,url:Pe.quote_url})}if(Pe.po_url){const Bt=m0(Pe.po_url),Ui=await hc(Pe.po_url);Ui&&Pt.push({name:Bt,url:Ui}),vi.push({name:Bt,url:Pe.po_url})}X({to:oe(Pe.vendor_id),subject:Ku(Xt.subject_template,ar),body:Gu(Xt.body_template,ar),attachments:Pt,attachmentsForSend:vi}),U(!0)},fe=async Pe=>{T&&(await O.mutateAsync({id:T.id,data:{vendorId:Pe.vendorId,shippingAddressId:Pe.shippingAddressId,billingAddressId:Pe.billingAddressId,accountManagerId:Pe.accountManagerId==="unassigned"?null:Pe.accountManagerId,notes:Pe.notes,projectCodes:Pe.projectCodes}}),W(!1))},be=async()=>{if(!T||!_e)return;if(!["Pending","Quote Requested","PO Requested","Ordered","Received","Denied","Cancelled"].includes(_e)){ke.error("Estado no válido seleccionado.");return}if(_e==="Received"&&T.status!=="Received"){ke.error("Usa el botón 'Recibir Artículos'.",{description:"El estado 'Recibido' debe registrarse a través del diálogo de recepción para actualizar el inventario y los albaranes correctamente."}),le(!1);return}if(T.status==="Received"&&_e!=="Received"){le(!1),Te(!0);return}await w.mutateAsync({id:T.id,status:_e}),le(!1)},Se=async()=>{T&&(await A.mutateAsync(T.id),Te(!1))},yt=()=>Ze(!0),It=()=>_t(!0),Dt=()=>xe(!0),Vt=async()=>{T&&(await w.mutateAsync({id:T.id,status:"Denied"}),Ze(!1))},Ot=async()=>{T&&(await w.mutateAsync({id:T.id,status:"Cancelled"}),_t(!1))},xn=async()=>{T&&(await P.mutateAsync(T.id),xe(!1),e("/dashboard"))},Xr=async Pe=>{await w.mutateAsync({id:Pe.id,status:"Quote Requested"});const Xt=_==null?void 0:_.find(Pt=>Pt.template_name==="Quote Request");if(!Xt){ke.error("Plantilla de correo electrónico 'Quote Request' no encontrada. Por favor, crea una en el panel de Admin.");return}const ar={request:{...Pe,status:"Quote Requested"},vendor:a==null?void 0:a.find(Pt=>Pt.id===Pe.vendor_id),requesterProfile:d==null?void 0:d.find(Pt=>Pt.id===Pe.requester_id),accountManager:f==null?void 0:f.find(Pt=>Pt.id===Pe.account_manager_id),projects:m,actorProfile:r,shippingAddress:b==null?void 0:b.find(Pt=>Pt.id===Pe.shipping_address_id),billingAddress:x==null?void 0:x.find(Pt=>Pt.id===Pe.billing_address_id)};X({to:oe(Pe.vendor_id),subject:Ku(Xt.subject_template,ar),body:Gu(Xt.body_template,ar)}),U(!0)};if(s||u||h||p||g||y||E||j||L)return c.jsxs("div",{className:"container mx-auto py-8 flex justify-center items-center",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando Detalles de la Solicitud..."]});if(!T)return c.jsxs("div",{className:"container mx-auto py-8 text-center",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Solicitud No Encontrada"}),c.jsxs(Ce,{onClick:()=>e("/dashboard"),className:"mt-6",children:[c.jsx(xE,{className:"mr-2 h-4 w-4"})," Volver al Panel de Control"]})]});const We=!0,nt=(r==null?void 0:r.role)==="Admin"||(r==null?void 0:r.role)==="Account Manager",qt=nt,Yt=nt,Gr=nt,en=a==null?void 0:a.find(Pe=>Pe.id===T.vendor_id),Er=T.request_number||`#${T.id.substring(0,8)}`,Mn=T.quote_url?"Aprobar y Solicitar PO (Cómprame)":"Aprobar y Solicitar Cotización (Correo)",Mr=T.quote_url?"Aprobar Solicitud y Generar PO":"Aprobar Solicitud",ri=T.quote_url?"Aprobar Solamente (a PO Solicitado)":"Aprobar Solamente (a Cotización Solicitada)";return c.jsxs("div",{className:"max-w-7xl mx-auto py-8 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs(Ce,{variant:"outline",onClick:()=>e("/dashboard"),children:[c.jsx(xE,{className:"mr-2 h-4 w-4"})," Volver al Panel de Control"]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-100",children:["Solicitud ",Er]}),c.jsxs(WT,{children:[c.jsx(KT,{asChild:!0,children:c.jsx(Ce,{variant:"outline",size:"icon",disabled:w.isPending||P.isPending,children:c.jsx(mD,{className:"h-4 w-4"})})}),c.jsxs(Gw,{align:"end",children:[Yt&&c.jsxs(dd,{onClick:()=>{J(T.status),le(!0)},children:[c.jsx(qs,{className:"mr-2 h-4 w-4"})," Cambiar Estado Manualmente"]}),Gr&&c.jsxs(c.Fragment,{children:[Yt&&c.jsx(Hh,{}),c.jsxs(dd,{onClick:Dt,className:"text-red-600",children:[c.jsx(ls,{className:"mr-2 h-4 w-4"})," Eliminar Solicitud"]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsx(GK,{request:T,vendor:en,profiles:d,onEditDetails:()=>W(!0),isEditable:qt}),c.jsx(XK,{items:T.items,isEditable:We})]}),c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-card shadow-lg",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Acciones"}),c.jsx(eG,{request:T,isUpdatingStatus:w.isPending||C.isPending||A.isPending,openApproveRequestDialog:ve,handleSendPORequest:he,handleUploadQuote:V,handleUploadPOAndOrder:R,handleMarkAsReceived:He,handleMarkAsOrderedAndSendEmail:ne,openDenyRequestDialog:yt,openCancelRequestDialog:It,onSendQuoteRequest:Xr})]}),c.jsx(tG,{request:T,onUploadClick:Et})]})]}),c.jsx(rr,{open:ee,onOpenChange:W,children:c.jsxs(Zt,{className:"sm:max-w-[600px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Editar Detalles de la Solicitud"}),c.jsx(an,{children:"Actualiza proveedor, direcciones, gerente, proyectos y notas. (Disponible en todos los estados para Administradores y Gerentes de Cuenta)"})]}),T&&qt?c.jsx(iG,{request:T,profiles:d||[],onSubmit:fe,isSubmitting:O.isPending}):c.jsx("p",{className:"text-muted-foreground p-4",children:"No tienes permiso para editar los detalles de esta solicitud."})]})}),c.jsx(rr,{open:ie,onOpenChange:re,children:c.jsxs(Zt,{children:[c.jsx(nr,{children:c.jsx(ir,{children:Mr})}),c.jsx(an,{children:"Elige cómo proceder con esta solicitud."}),c.jsxs(Rn,{className:"flex flex-col sm:flex-row sm:justify-end sm:space-x-2",children:[c.jsx(Ce,{variant:"outline",onClick:Oe,disabled:w.isPending,children:ri}),c.jsx(Ce,{onClick:lt,disabled:w.isPending,children:Mn})]})]})}),c.jsx(rr,{open:Z,onOpenChange:le,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Anular Estado de Solicitud"}),c.jsxs(an,{children:["Cambia manualmente el estado de la Solicitud ",Er,". Úsalo con precaución."]})]}),c.jsx("div",{className:"grid gap-4 py-4",children:c.jsxs(Br,{value:_e,onValueChange:Pe=>J(Pe),disabled:w.isPending,children:[c.jsx(Rr,{children:c.jsx(Ur,{placeholder:"Seleccionar nuevo estado"})}),c.jsx(Pr,{children:["Pending","Quote Requested","PO Requested","Ordered","Received","Denied","Cancelled"].map(Pe=>c.jsxs(Qt,{value:Pe,children:[Pe==="Pending"&&"Pendiente",Pe==="Quote Requested"&&"Cotización Solicitada",Pe==="PO Requested"&&"PO Solicitado (Cómprame)",Pe==="Ordered"&&"Pedido",Pe==="Received"&&"Recibido",Pe==="Denied"&&"Denegada",Pe==="Cancelled"&&"Cancelada"]},Pe))})]})}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>le(!1),disabled:w.isPending,children:"Cancelar"}),c.jsx(Ce,{onClick:be,disabled:w.isPending||_e===(T==null?void 0:T.status),children:w.isPending?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirmar Cambio"})]})]})}),c.jsx(rr,{open:ze,onOpenChange:Ze,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Denegar Solicitud"}),c.jsxs(an,{children:["¿Estás seguro de que deseas denegar la Solicitud ",Er,'? Esta acción cambiará su estado a "Denegada".']})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>Ze(!1),disabled:w.isPending,children:"Cancelar"}),c.jsx(Ce,{variant:"destructive",onClick:Vt,disabled:w.isPending,children:w.isPending?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirmar Denegación"})]})]})}),c.jsx(rr,{open:pt,onOpenChange:_t,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Cancelar Solicitud"}),c.jsxs(an,{children:["¿Estás seguro de que deseas cancelar la Solicitud ",Er,'? Esta acción cambiará su estado a "Cancelada".']})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>_t(!1),disabled:w.isPending,children:"No, Mantener"}),c.jsx(Ce,{variant:"destructive",onClick:Ot,disabled:w.isPending,children:w.isPending?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):"Sí, Cancelar Solicitud"})]})]})}),c.jsx(rr,{open:xt,onOpenChange:xe,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Eliminar Solicitud Permanentemente"}),c.jsxs(an,{children:["Esta acción es irreversible. ¿Estás seguro de que deseas eliminar la Solicitud ",Er,' en estado "',T==null?void 0:T.status,'"?']})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>xe(!1),disabled:P.isPending,children:"Cancelar"}),c.jsx(Ce,{variant:"destructive",onClick:xn,disabled:P.isPending,children:P.isPending?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):"Eliminar Permanentemente"})]})]})}),c.jsx(rr,{open:je,onOpenChange:Te,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Revertir Recepción e Inventario"}),c.jsxs(an,{children:["¿Estás seguro de que deseas revertir la Solicitud ",Er,' de "Recibido" a "Pedido"? Esta acción eliminará permanentemente todos los albaranes asociados y disminuirá las cantidades correspondientes del Inventario.']})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{variant:"outline",onClick:()=>Te(!1),disabled:A.isPending,children:"Cancelar"}),c.jsx(Ce,{variant:"destructive",onClick:Se,disabled:A.isPending,children:A.isPending?c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirmar Reversión y Quitar del Inventario"})]})]})}),c.jsx(MR,{isOpen:B,onOpenChange:U,initialData:Y,onSend:Ee,isSending:q.isPending}),c.jsx(rG,{isOpen:M,onOpenChange:$,onUpload:F,isUploading:C.isPending,fileType:G}),T&&T.items&&c.jsx(TP,{isOpen:ce,onOpenChange:me,requestId:T.id,requestItems:T.items})]})},oG=()=>{const{session:t,profile:e,loading:r,logout:n,login:i}=ti(),s=ZT(),a=Xo(),[u,d]=z.useState((e==null?void 0:e.first_name)||""),[h,f]=z.useState((e==null?void 0:e.last_name)||""),[p,m]=z.useState((e==null?void 0:e.role)||"");z.useEffect(()=>{e&&(d(e.first_name||""),f(e.last_name||""),m(e.role||""))},[e]);const g=async y=>{var b;if(y.preventDefault(),!((b=t==null?void 0:t.user)!=null&&b.id)){ke.error("Usuario no autenticado.");return}s.mutate({id:t.user.id,data:{first_name:u,last_name:h,role:(e==null?void 0:e.role)||"Requester"}})},_=async()=>{await n(),a("/login")};return r?c.jsxs("div",{className:"container mx-auto py-8 flex justify-center items-center",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando Perfil..."]}):t?c.jsx("div",{className:"container mx-auto py-8",children:c.jsxs(zn,{className:"max-w-lg mx-auto",children:[c.jsx(Hn,{children:c.jsx(Wn,{className:"text-2xl font-bold",children:"Tu Perfil"})}),c.jsxs(Kn,{className:"space-y-6",children:[c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Do,{htmlFor:"email",children:"Email"}),c.jsx(at,{id:"email",type:"email",value:t.user.email||"",disabled:!0})]}),c.jsxs("div",{children:[c.jsx(Do,{htmlFor:"firstName",children:"Nombre"}),c.jsx(at,{id:"firstName",value:u,onChange:y=>d(y.target.value),disabled:s.isPending})]}),c.jsxs("div",{children:[c.jsx(Do,{htmlFor:"lastName",children:"Apellido"}),c.jsx(at,{id:"lastName",value:h,onChange:y=>f(y.target.value),disabled:s.isPending})]}),c.jsxs("div",{children:[c.jsx(Do,{htmlFor:"role",children:"Rol"}),c.jsx(at,{id:"role",value:p,disabled:!0})]}),c.jsx(Ce,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):"Actualizar Perfil"})]}),c.jsx(Ce,{variant:"outline",onClick:_,className:"w-full mt-4",children:"Cerrar Sesión"})]})]})}):c.jsxs("div",{className:"container mx-auto py-8 text-center",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"No Has Iniciado Sesión"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Por favor, inicia sesión para ver tu perfil."}),c.jsx(Ce,{onClick:()=>a("/login"),className:"mt-4",children:"Ir a Iniciar Sesión"})]})};var em="Tabs",[aG]=Xn(em,[Np]),JP=Np(),[lG,h1]=aG(em),XP=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:u,activationMode:d="automatic",...h}=t,f=kp(u),[p,m]=Ps({prop:n,onChange:i,defaultProp:s??"",caller:em});return c.jsx(lG,{scope:r,baseId:Zr(),value:p,onValueChange:m,orientation:a,dir:f,activationMode:d,children:c.jsx(it.div,{dir:f,"data-orientation":a,...h,ref:e})})});XP.displayName=em;var e4="TabsList",t4=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=h1(e4,r),a=JP(r);return c.jsx(ZA,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:c.jsx(it.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});t4.displayName=e4;var r4="TabsTrigger",n4=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=h1(r4,r),u=JP(r),d=o4(a.baseId,n),h=a4(a.baseId,n),f=n===a.value;return c.jsx(JA,{asChild:!0,...u,focusable:!i,active:f,children:c.jsx(it.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:e,onMouseDown:Le(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?a.onValueChange(n):p.preventDefault()}),onKeyDown:Le(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(n)}),onFocus:Le(t.onFocus,()=>{const p=a.activationMode!=="manual";!f&&!i&&p&&a.onValueChange(n)})})})});n4.displayName=r4;var i4="TabsContent",s4=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,u=h1(i4,r),d=o4(u.baseId,n),h=a4(u.baseId,n),f=n===u.value,p=N.useRef(f);return N.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),c.jsx(In,{present:i||f,children:({present:m})=>c.jsx(it.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:h,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&s})})});s4.displayName=i4;function o4(t,e){return`${t}-trigger-${e}`}function a4(t,e){return`${t}-content-${e}`}var cG=XP,l4=t4,c4=n4,u4=s4;const uG=cG,d4=N.forwardRef(({className:t,...e},r)=>c.jsx(l4,{ref:r,className:Be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));d4.displayName=l4.displayName;const ec=N.forwardRef(({className:t,...e},r)=>c.jsx(c4,{ref:r,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ec.displayName=c4.displayName;const tc=N.forwardRef(({className:t,...e},r)=>c.jsx(u4,{ref:r,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));tc.displayName=u4.displayName;const dG=({managers:t,onEdit:e,onDelete:r})=>c.jsx("div",{className:"rounded-md border",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{children:"Nombre"}),c.jsx(ht,{children:"Email"}),c.jsx(ht,{className:"text-right",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:"No se encontraron gerentes de cuenta."})}):t.map(n=>c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:`${n.first_name} ${n.last_name}`}),c.jsx(rt,{children:n.email||"N/A"}),c.jsxs(rt,{className:"text-right",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>e(n),className:"mr-2",title:"Editar Gerente",children:c.jsx(qs,{className:"h-4 w-4"})}),c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>r(n.id),title:"Eliminar Gerente",children:c.jsx(ls,{className:"h-4 w-4"})})]})]},n.id))})]})}),fG=Kr({first_name:Ge().min(1,{message:"El nombre es obligatorio."}),last_name:Ge().min(1,{message:"El apellido es obligatorio."}),email:Ge().email({message:"Debe ser una dirección de correo válida."}).min(1,{message:"El email es obligatorio."})}),wC=({initialData:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{const i=yn({resolver:bn(fG),defaultValues:t?{first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||""}:{first_name:"",last_name:"",email:""}}),s=a=>{e(a)};return c.jsx(wn,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[c.jsx(Ve,{control:i.control,name:"first_name",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. John",...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"last_name",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Apellido"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Doe",...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"email",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Email"}),c.jsx(qe,{children:c.jsx(at,{type:"email",placeholder:"ej. john.doe@ejemplo.com",...a,disabled:n||!!t})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r&&c.jsx(Ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):t?"Guardar Cambios":"Añadir Gerente"})]})]})})},hG=({projects:t,onEdit:e,onDelete:r})=>c.jsx("div",{className:"rounded-md border",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{children:"Nombre del Proyecto"}),c.jsx(ht,{children:"Código del Proyecto"}),c.jsx(ht,{className:"text-right",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:"No se encontraron proyectos."})}):t.map(n=>c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:n.name}),c.jsx(rt,{children:n.code}),c.jsxs(rt,{className:"text-right",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>e(n),className:"mr-2",title:"Editar Proyecto",children:c.jsx(qs,{className:"h-4 w-4"})}),c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>r(n.id),title:"Eliminar Proyecto",children:c.jsx(ls,{className:"h-4 w-4"})})]})]},n.id))})]})}),pG=Kr({name:Ge().min(1,{message:"El nombre del proyecto es obligatorio."}),code:Ge().min(1,{message:"El código del proyecto es obligatorio."})}),xC=({initialData:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{const i=yn({resolver:bn(pG),defaultValues:t?{name:t.name,code:t.code}:{name:"",code:""}}),s=a=>{e(a)};return c.jsx(wn,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[c.jsx(Ve,{control:i.control,name:"name",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre del Proyecto"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Descubrimiento de Nuevo Fármaco",...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"code",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Código del Proyecto"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. ND-001",...a,disabled:n||!!t})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r&&c.jsx(Ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):t?"Guardar Cambios":"Añadir Proyecto"})]})]})})},mG=({users:t,onRoleChange:e,onDelete:r,currentUserId:n,isUpdatingRole:i,isDeletingUser:s})=>{const a=["Requester","Account Manager","Admin"];return c.jsx("div",{className:"rounded-md border",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{children:"Nombre"}),c.jsx(ht,{children:"Email"}),c.jsx(ht,{children:"Rol"}),c.jsx(ht,{className:"text-right",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:"No se encontraron usuarios."})}):t.map(u=>c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:Mi(u)}),c.jsx(rt,{children:u.email||"N/A"}),c.jsx(rt,{children:c.jsxs(Br,{value:u.role,onValueChange:d=>e(u.id,d),disabled:u.id===n||i,children:[c.jsx(Rr,{className:"w-[180px]",children:c.jsx(Ur,{placeholder:"Seleccionar rol"})}),c.jsx(Pr,{children:a.map(d=>c.jsx(Qt,{value:d,children:d},d))})]})}),c.jsx(rt,{className:"text-right",children:c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>r(u.id),title:"Eliminar Usuario",disabled:u.id===n||s,children:s&&u.id===n?c.jsx(wt,{className:"h-4 w-4 animate-spin"}):c.jsx(ls,{className:"h-4 w-4"})})})]},u.id))})]})})},gG=Kr({email:Ge().email({message:"Debe ser una dirección de correo válida."}).min(1,{message:"El email es obligatorio."}),first_name:Ge().optional(),last_name:Ge().optional()}),vG=({onSubmit:t,onCancel:e,isSubmitting:r})=>{const n=yn({resolver:bn(gG),defaultValues:{email:"",first_name:"",last_name:""}}),i=async s=>{console.log("Submitting invite user data:",s),await t(s),n.reset()};return c.jsx(wn,{...n,children:c.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-4",children:[c.jsx(Ve,{control:n.control,name:"email",render:({field:s})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Email"}),c.jsx(qe,{children:c.jsx(at,{type:"email",placeholder:"ej. usuario@ejemplo.com",...s,disabled:r})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:n.control,name:"first_name",render:({field:s})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Jane",...s,disabled:r})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:n.control,name:"last_name",render:({field:s})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Apellido (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Doe",...s,disabled:r})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(Ce,{type:"button",variant:"outline",onClick:e,disabled:r,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:r,children:r?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):"Enviar Invitación"})]})]})})},_C=({addresses:t,onEdit:e,onDelete:r})=>c.jsx("div",{className:"rounded-md border",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{children:"Nombre"}),c.jsx(ht,{children:"Línea de Dirección 1"}),c.jsx(ht,{children:"Ciudad, Estado, CP"}),c.jsx(ht,{children:"País"}),c.jsx(ht,{children:"CIF / ID de IVA"}),c.jsx(ht,{className:"text-right",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No se encontraron direcciones."})}):t.map(n=>c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:n.name}),c.jsx(rt,{children:n.address_line_1}),c.jsxs(rt,{children:[n.city,", ",n.state,", ",n.zip_code]}),c.jsx(rt,{children:n.country}),c.jsx(rt,{children:n.cif||"N/A"}),c.jsxs(rt,{className:"text-right",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>e(n),className:"mr-2",title:"Editar Dirección",children:c.jsx(qs,{className:"h-4 w-4"})}),c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>r(n.id),title:"Eliminar Dirección",children:c.jsx(ls,{className:"h-4 w-4"})})]})]},n.id))})]})}),yG=Kr({name:Ge().min(1,{message:"El nombre de la dirección es obligatorio."}),address_line_1:Ge().min(1,{message:"La Línea de Dirección 1 es obligatoria."}),address_line_2:Ge().optional().nullable(),city:Ge().min(1,{message:"La Ciudad es obligatoria."}),state:Ge().min(1,{message:"El Estado/Provincia es obligatorio."}),zip_code:Ge().min(1,{message:"El Código Postal es obligatorio."}),country:Ge().min(1,{message:"El País es obligatorio."}),cif:Ge().optional().nullable()}),bG=({initialData:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{const i=yn({resolver:bn(yG),defaultValues:t?{name:t.name,address_line_1:t.address_line_1,address_line_2:t.address_line_2||null,city:t.city,state:t.state,zip_code:t.zip_code,country:t.country,cif:t.cif||null}:{name:"",address_line_1:"",address_line_2:null,city:"",state:"",zip_code:"",country:"",cif:null}}),s=a=>{e(a)};return c.jsx(wn,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[c.jsx(Ve,{control:i.control,name:"name",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre de la Dirección (ej. Laboratorio Principal, Almacén)"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"cif",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"CIF / ID de IVA (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"address_line_1",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Línea de Dirección 1"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"address_line_2",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Línea de Dirección 2 (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Ve,{control:i.control,name:"city",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Ciudad"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"state",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Estado/Provincia"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Ve,{control:i.control,name:"zip_code",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Código Postal"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"country",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"País"}),c.jsx(qe,{children:c.jsx(at,{...a,disabled:n})}),c.jsx(Ue,{})]})})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r&&c.jsx(Ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):t?"Guardar Cambios":"Añadir Dirección"})]})]})})},wG=Kr({template_name:Ge().min(1,{message:"El nombre de la plantilla es obligatorio."}),subject_template:Ge().min(1,{message:"El asunto de la plantilla es obligatorio."}),body_template:Ge().min(1,{message:"El cuerpo de la plantilla es obligatorio."})}),xG=["{{request.id}}","{{request.status}}","{{request.notes}}","{{request.quote_url}}","{{request.po_number}}","{{request.po_url}}","{{request.slip_url}}","{{requester.full_name}}","{{requester.email}}","{{vendor.name}}","{{vendor.contact_person}}","{{vendor.email}}","{{account_manager.full_name}}","{{account_manager.email}}","{{items_list}}","{{cta_button}}","{{message}}","{{actor.full_name}}","{{order.itemName}}","{{order.id}}","{{shipping_address}}","{{billing_address}}"],_G={"Quote Request":"Solicitud de Cotización","PO Request":"Solicitud de PO (Cómprame)","Order Confirmation":"Confirmación de Pedido"},EG=()=>{const{data:t,isLoading:e,error:r}=cl(),n=mU(),i=gU(),s=vU(),[a,u]=z.useState(!1),[d,h]=z.useState(!1),[f,p]=z.useState(void 0),{data:m,isLoading:g,error:_}=Hs(),y=PW(),b=IW(),E=DW(),[x,j]=z.useState(!1),[w,C]=z.useState(!1),[O,A]=z.useState(void 0),{profile:P,loading:q}=ti(),{data:T,isLoading:D,error:L}=Qw(),B=sU(),U=ZT(),Y=oU(),[X,ie]=z.useState(!1),{data:re,isLoading:K,error:Q}=a1(),M=MW(),[$,G]=z.useState(void 0),[te,ee]=z.useState(void 0),W=yn({resolver:bn(wG),defaultValues:{template_name:"",subject_template:"",body_template:""}}),{data:Z,isLoading:le}=dl(),{data:ce,isLoading:me}=fl(),je=zW(),Te=HW(),ze=WW(),Ze=KW(),pt=GW(),_t=QW(),[xt,xe]=z.useState(!1),[_e,J]=z.useState(!1),[oe,ae]=z.useState(void 0),[Ee,he]=z.useState("shipping"),ve=async We=>{await n.mutateAsync(We),u(!1)},Oe=async(We,nt)=>{await i.mutateAsync({id:We,data:nt}),h(!1)},lt=async We=>await s.mutateAsync(We),He=We=>{p(We),h(!0)},Et=async We=>{await y.mutateAsync(We),j(!1)},V=async(We,nt)=>{await b.mutateAsync({id:We,data:nt}),C(!1)},R=async We=>await E.mutateAsync(We),F=We=>{A(We),C(!0)},ne=async We=>{await B.mutateAsync(We),ie(!1)},fe=async(We,nt)=>{if((P==null?void 0:P.id)===We){ke.error("No puedes cambiar tu propio rol.");return}await U.mutateAsync({id:We,data:{role:nt}})},be=async We=>{if((P==null?void 0:P.id)===We){ke.error("No puedes eliminar tu propia cuenta.");return}await Y.mutateAsync(We)},Se=async We=>{Ee==="shipping"?await je.mutateAsync(We):await Ze.mutateAsync(We),xe(!1)},yt=async(We,nt)=>{Ee==="shipping"?await Te.mutateAsync({id:We,data:nt}):await pt.mutateAsync({id:We,data:nt}),J(!1),ae(void 0)},It=We=>{he(We),xe(!0)},Dt=(We,nt)=>{he(nt),ae(We),J(!0)};z.useEffect(()=>{re&&re.length>0&&!$&&G(re[0].id)},[re,$]),z.useEffect(()=>{if($&&re){const We=re.find(nt=>nt.id===$);ee(We),We&&W.reset({template_name:We.template_name,subject_template:We.subject_template,body_template:We.body_template})}},[$,re,W]);const Vt=We=>G(We),Ot=async We=>{te&&await M.mutateAsync({id:te.id,data:We})},xn=e||g||D||K||q||le||me,Xr=r||_||L||Q;return xn?c.jsxs("div",{className:"container mx-auto py-8 flex justify-center items-center",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando Panel de Administración..."]}):Xr?c.jsxs("div",{className:"container mx-auto py-8 text-red-600",children:["Error: ",Xr.message]}):c.jsxs("div",{className:"container mx-auto py-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Panel de Administración"}),c.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Gestiona gerentes de cuenta, proyectos, usuarios, direcciones y plantillas de correo electrónico."}),c.jsxs(uG,{defaultValue:"users",className:"w-full",children:[c.jsxs(d4,{className:"flex flex-wrap h-auto p-1 bg-muted/50 border rounded-lg overflow-x-auto w-full justify-start",children:[c.jsxs(ec,{value:"users",className:"flex items-center gap-2 px-4 py-2",children:[c.jsx(Wk,{className:"h-4 w-4"})," Usuarios"]}),c.jsxs(ec,{value:"account-managers",className:"flex items-center gap-2 px-4 py-2",children:[c.jsx(Qk,{className:"h-4 w-4"})," Gerentes de Cuenta"]}),c.jsxs(ec,{value:"projects",className:"flex items-center gap-2 px-4 py-2",children:[c.jsx(lD,{className:"h-4 w-4"})," Proyectos"]}),c.jsxs(ec,{value:"addresses",className:"flex items-center gap-2 px-4 py-2",children:[c.jsx(_E,{className:"h-4 w-4"})," Direcciones"]}),c.jsxs(ec,{value:"email-templates",className:"flex items-center gap-2 px-4 py-2",children:[c.jsx(ic,{className:"h-4 w-4"})," Plantillas de Email"]})]}),c.jsx(tc,{value:"users",className:"mt-6",children:c.jsxs(zn,{children:[c.jsxs(Hn,{className:"flex flex-row items-center justify-between",children:[c.jsx(Wn,{className:"text-xl",children:"Gestión de Usuarios"}),c.jsxs(rr,{open:X,onOpenChange:ie,children:[c.jsx(dc,{asChild:!0,children:c.jsxs(Ce,{size:"sm",children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Invitar Nuevo Usuario"]})}),c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Invitar Nuevo Usuario"})}),c.jsx(vG,{onSubmit:ne,onCancel:()=>ie(!1),isSubmitting:B.isPending})]})]})]}),c.jsx(Kn,{children:c.jsx(mG,{users:T||[],onRoleChange:fe,onDelete:be,currentUserId:P==null?void 0:P.id,isUpdatingRole:U.isPending,isDeletingUser:Y.isPending})})]})}),c.jsxs(tc,{value:"account-managers",className:"mt-6",children:[c.jsxs(zn,{children:[c.jsxs(Hn,{className:"flex flex-row items-center justify-between",children:[c.jsx(Wn,{className:"text-xl",children:"Gerentes de Cuenta"}),c.jsxs(rr,{open:a,onOpenChange:u,children:[c.jsx(dc,{asChild:!0,children:c.jsxs(Ce,{size:"sm",children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Añadir Nuevo Gerente"]})}),c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Añadir Nuevo Gerente de Cuenta"})}),c.jsx(wC,{onSubmit:ve,onCancel:()=>u(!1),isSubmitting:n.isPending})]})]})]}),c.jsx(Kn,{children:c.jsx(dG,{managers:t||[],onEdit:He,onDelete:lt})})]}),c.jsx(rr,{open:d,onOpenChange:h,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Editar Gerente de Cuenta"})}),f&&c.jsx(wC,{initialData:f,onSubmit:We=>Oe(f.id,We),onCancel:()=>h(!1),isSubmitting:i.isPending})]})})]}),c.jsxs(tc,{value:"projects",className:"mt-6",children:[c.jsxs(zn,{children:[c.jsxs(Hn,{className:"flex flex-row items-center justify-between",children:[c.jsx(Wn,{className:"text-xl",children:"Proyectos"}),c.jsxs(rr,{open:x,onOpenChange:j,children:[c.jsx(dc,{asChild:!0,children:c.jsxs(Ce,{size:"sm",children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Añadir Nuevo Proyecto"]})}),c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Añadir Nuevo Proyecto"})}),c.jsx(xC,{onSubmit:Et,onCancel:()=>j(!1),isSubmitting:y.isPending})]})]})]}),c.jsx(Kn,{children:c.jsx(hG,{projects:m||[],onEdit:F,onDelete:R})})]}),c.jsx(rr,{open:w,onOpenChange:C,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Editar Proyecto"})}),O&&c.jsx(xC,{initialData:O,onSubmit:We=>V(O.id,We),onCancel:()=>C(!1),isSubmitting:b.isPending})]})})]}),c.jsxs(tc,{value:"addresses",className:"mt-6 space-y-8",children:[c.jsxs(zn,{children:[c.jsxs(Hn,{className:"flex flex-row items-center justify-between",children:[c.jsxs(Wn,{className:"text-xl flex items-center",children:[c.jsx(_E,{className:"mr-2 h-5 w-5"})," Direcciones de Envío"]}),c.jsxs(Ce,{size:"sm",onClick:()=>It("shipping"),children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Añadir Dirección de Envío"]})]}),c.jsx(Kn,{children:c.jsx(_C,{addresses:Z||[],onEdit:We=>Dt(We,"shipping"),onDelete:ze.mutateAsync})})]}),c.jsxs(zn,{children:[c.jsxs(Hn,{className:"flex flex-row items-center justify-between",children:[c.jsxs(Wn,{className:"text-xl flex items-center",children:[c.jsx(ap,{className:"mr-2 h-5 w-5"})," Direcciones de Facturación"]}),c.jsxs(Ce,{size:"sm",onClick:()=>It("billing"),children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Añadir Dirección de Facturación"]})]}),c.jsx(Kn,{children:c.jsx(_C,{addresses:ce||[],onEdit:We=>Dt(We,"billing"),onDelete:_t.mutateAsync})})]})]}),c.jsx(tc,{value:"email-templates",className:"mt-6",children:c.jsxs(zn,{children:[c.jsx(Hn,{children:c.jsx(Wn,{className:"text-xl",children:"Plantillas de Correo Electrónico"})}),c.jsxs(Kn,{className:"space-y-6",children:[c.jsxs(Br,{value:$,onValueChange:Vt,children:[c.jsx(Rr,{className:"w-full md:w-[300px]",children:c.jsx(Ur,{placeholder:"Selecciona una plantilla"})}),c.jsx(Pr,{children:re==null?void 0:re.map(We=>c.jsx(Qt,{value:We.id,children:_G[We.template_name]||We.template_name},We.id))})]}),te&&c.jsx(wn,{...W,children:c.jsxs("form",{onSubmit:W.handleSubmit(Ot),className:"space-y-4",children:[c.jsx(Ve,{control:W.control,name:"template_name",render:({field:We})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre de la Plantilla"}),c.jsx(qe,{children:c.jsx(at,{...We,disabled:M.isPending})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:W.control,name:"subject_template",render:({field:We})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Asunto"}),c.jsx(qe,{children:c.jsx(at,{...We,disabled:M.isPending})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:W.control,name:"body_template",render:({field:We})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Cuerpo del Correo"}),c.jsx(qe,{children:c.jsx(Ls,{rows:10,...We,disabled:M.isPending})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{children:"Marcadores de Posición Disponibles"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:xG.map(We=>c.jsx(ul,{variant:"secondary",className:"font-mono text-xs",children:We},We))})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx(Ce,{type:"submit",disabled:M.isPending,children:M.isPending?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(bD,{className:"mr-2 h-4 w-4"})," Guardar Plantilla"]})})})]})})]})]})})]}),c.jsx(rr,{open:xt||_e,onOpenChange:_e?J:xe,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:oe?"Editar Dirección":`Añadir Nueva Dirección de ${Ee==="shipping"?"Envío":"Facturación"}`})}),c.jsx(bG,{initialData:oe,onSubmit:oe?We=>yt(oe.id,We):Se,onCancel:()=>{xe(!1),J(!1),ae(void 0)},isSubmitting:oe?Ee==="shipping"?Te.isPending:pt.isPending:Ee==="shipping"?je.isPending:Ze.isPending})]})})]})};var tm="Checkbox",[SG]=Xn(tm),[jG,p1]=SG(tm);function CG(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:a,name:u,onCheckedChange:d,required:h,value:f="on",internal_do_not_use_render:p}=t,[m,g]=Ps({prop:r,defaultProp:i??!1,onChange:d,caller:tm}),[_,y]=N.useState(null),[b,E]=N.useState(null),x=N.useRef(!1),j=_?!!a||!!_.closest("form"):!0,w={checked:m,disabled:s,setChecked:g,control:_,setControl:y,name:u,form:a,value:f,hasConsumerStoppedPropagationRef:x,required:h,defaultChecked:$o(i)?!1:i,isFormControl:j,bubbleInput:b,setBubbleInput:E};return c.jsx(jG,{scope:e,...w,children:kG(p)?p(w):n})}var f4="CheckboxTrigger",h4=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:a,disabled:u,checked:d,required:h,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:_}=p1(f4,t),y=$t(i,f),b=N.useRef(d);return N.useEffect(()=>{const E=s==null?void 0:s.form;if(E){const x=()=>p(b.current);return E.addEventListener("reset",x),()=>E.removeEventListener("reset",x)}},[s,p]),c.jsx(it.button,{type:"button",role:"checkbox","aria-checked":$o(d)?"mixed":d,"aria-required":h,"data-state":y4(d),"data-disabled":u?"":void 0,disabled:u,value:a,...n,ref:y,onKeyDown:Le(e,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Le(r,E=>{p(x=>$o(x)?!0:!x),_&&g&&(m.current=E.isPropagationStopped(),m.current||E.stopPropagation())})})});h4.displayName=f4;var m1=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:u,value:d,onCheckedChange:h,form:f,...p}=t;return c.jsx(CG,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:u,required:a,onCheckedChange:h,name:n,form:f,value:d,internal_do_not_use_render:({isFormControl:m})=>c.jsxs(c.Fragment,{children:[c.jsx(h4,{...p,ref:e,__scopeCheckbox:r}),m&&c.jsx(v4,{__scopeCheckbox:r})]})})});m1.displayName=tm;var p4="CheckboxIndicator",m4=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=p1(p4,r);return c.jsx(In,{present:n||$o(s.checked)||s.checked===!0,children:c.jsx(it.span,{"data-state":y4(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});m4.displayName=p4;var g4="CheckboxBubbleInput",v4=N.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:u,disabled:d,name:h,value:f,form:p,bubbleInput:m,setBubbleInput:g}=p1(g4,t),_=$t(r,g),y=LR(s),b=yN(n);N.useEffect(()=>{const x=m;if(!x)return;const j=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(j,"checked").set,O=!i.current;if(y!==s&&C){const A=new Event("click",{bubbles:O});x.indeterminate=$o(s),C.call(x,$o(s)?!1:s),x.dispatchEvent(A)}},[m,y,s,i]);const E=N.useRef($o(s)?!1:s);return c.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??E.current,required:u,disabled:d,name:h,value:f,form:p,...e,tabIndex:-1,ref:_,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});v4.displayName=g4;function kG(t){return typeof t=="function"}function $o(t){return t==="indeterminate"}function y4(t){return $o(t)?"indeterminate":t?"checked":"unchecked"}const $b=N.forwardRef(({className:t,...e},r)=>c.jsx(m1,{ref:r,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(m4,{className:Be("flex items-center justify-center text-current"),children:c.jsx(Nd,{className:"h-4 w-4"})})}));$b.displayName=m1.displayName;const NG=({items:t,onEdit:e,onDelete:r,selectedItems:n,onSelectChange:i})=>{const s=h=>{i(h?t.map(f=>f.id):[])},a=(h,f)=>{i(f?[...n,h]:n.filter(p=>p!==h))},u=t.length>0&&n.length===t.length,d=n.length>0&&n.length<t.length;return c.jsx("div",{className:"rounded-md border overflow-x-auto",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{className:"w-[50px]",children:c.jsx($b,{checked:u,onCheckedChange:s,"aria-label":"Seleccionar todos",className:d?"bg-primary":""})}),c.jsx(ht,{children:"Nombre del Producto"}),c.jsx(ht,{className:"hidden sm:table-cell",children:"Marca"}),c.jsx(ht,{children:"Catálogo #"}),c.jsx(ht,{children:"Cantidad"}),c.jsx(ht,{className:"hidden md:table-cell",children:"Precio Unitario"}),c.jsx(ht,{className:"hidden lg:table-cell",children:"Formato"}),c.jsx(ht,{className:"hidden lg:table-cell",children:"Añadido el"}),c.jsx(ht,{className:"text-right",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:9,className:"h-24 text-center text-muted-foreground",children:"No se encontraron artículos en el inventario."})}):t.map(h=>{const f=n.includes(h.id);return c.jsxs(sr,{"data-state":f&&"selected",children:[c.jsx(rt,{children:c.jsx($b,{checked:f,onCheckedChange:p=>a(h.id,!!p),"aria-label":`Seleccionar ${h.product_name}`})}),c.jsx(rt,{className:"font-medium",children:h.product_name}),c.jsx(rt,{className:"hidden sm:table-cell",children:h.brand||"N/A"}),c.jsx(rt,{children:h.catalog_number}),c.jsx(rt,{children:h.quantity}),c.jsx(rt,{className:"hidden md:table-cell",children:h.unit_price?`€${Number(h.unit_price).toFixed(2)}`:"N/A"}),c.jsx(rt,{className:"hidden lg:table-cell",children:h.format||"N/A"}),c.jsx(rt,{className:"hidden lg:table-cell",children:Mc(new Date(h.added_at),"yyyy-MM-dd")}),c.jsxs(rt,{className:"text-right",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>e(h),className:"mr-2",title:"Editar Artículo",children:c.jsx(qs,{className:"h-4 w-4"})}),c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>r(h.id),title:"Eliminar Artículo",children:c.jsx(ls,{className:"h-4 w-4"})})]})]},h.id)})})]})})},OG=async()=>YB(),AG=()=>ei({queryKey:["inventory"],queryFn:OG}),TG=()=>{const t=Mt();return Ut({mutationFn:async e=>ZB(e),onSuccess:e=>{t.invalidateQueries({queryKey:["inventory"]}),ke.success("Inventario actualizado!",{description:`Añadido/Actualizado: ${e.product_name} (Cant: ${e.quantity})`})},onError:e=>{ke.error("Fallo al añadir/actualizar el artículo de inventario.",{description:e.message})}})},RG=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>JB(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["inventory"]}),ke.success("Artículo de inventario actualizado exitosamente!")},onError:e=>{ke.error("Fallo al actualizar el artículo de inventario.",{description:e.message})}})},PG=()=>{const t=Mt();return Ut({mutationFn:async e=>XB(e),onSuccess:()=>{t.invalidateQueries({queryKey:["inventory"]}),ke.success("Artículo de inventario eliminado exitosamente!")},onError:e=>{ke.error("Fallo al eliminar el artículo de inventario.",{description:e.message})}})},IG=Kr({product_name:Ge().min(1,{message:"El nombre del producto es obligatorio."}),catalog_number:Ge().min(1,{message:"El número de catálogo es obligatorio."}),brand:Ge().optional().nullable(),quantity:Qo(t=>Number(t),is().min(0,{message:"La cantidad no puede ser negativa."})),unit_price:Qo(t=>t===""?null:Number(t),is().min(0,{message:"El precio unitario no puede ser negativo."}).nullable().optional()),format:Ge().optional().nullable()}),EC=({initialData:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{const i=yn({resolver:bn(IG),defaultValues:t?{product_name:t.product_name,catalog_number:t.catalog_number,brand:t.brand,quantity:t.quantity,unit_price:t.unit_price,format:t.format}:{product_name:"",catalog_number:"",brand:null,quantity:0,unit_price:null,format:null}}),s=a=>{e(a)};return c.jsx(wn,{...i,children:c.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[c.jsx(Ve,{control:i.control,name:"product_name",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Nombre del Producto"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Anticuerpo Anti-GFP",...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"brand",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Marca (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. Invitrogen",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"catalog_number",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Número de Catálogo"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. 18265017",...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"quantity",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Cantidad"}),c.jsx(qe,{children:c.jsx(at,{type:"number",...a,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"unit_price",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Precio Unitario (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{type:"number",step:"0.01",placeholder:"ej. 120.50 €",...a,disabled:n,value:a.value===null?"":a.value,onChange:u=>a.onChange(u.target.value===""?null:Number(u.target.value))})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:i.control,name:"format",render:({field:a})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Formato (Opcional)"}),c.jsx(qe,{children:c.jsx(at,{placeholder:"ej. 200pack 8cs of 25",...a,disabled:n,value:a.value||"",onChange:u=>a.onChange(u.target.value||null)})}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r&&c.jsx(Ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):t?"Guardar Cambios":"Añadir Artículo"})]})]})})},DG=({searchTerm:t,onSearchChange:e,selectedItemCount:r,onReorder:n})=>c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[c.jsx(at,{placeholder:"Buscar por producto, catálogo o marca...",value:t,onChange:i=>e(i.target.value),className:"flex-1 max-w-full sm:max-w-md"}),c.jsxs(Ce,{onClick:n,disabled:r===0,className:"w-full sm:w-auto",children:[c.jsx(Kk,{className:"mr-2 h-4 w-4"}),"Reordenar (",r,")"]})]}),MG=Kr({vendorId:Ge().min(1,{message:"El proveedor es obligatorio."}),shippingAddressId:Ge().min(1,{message:"La dirección de envío es obligatoria."}),billingAddressId:Ge().min(1,{message:"La dirección de facturación es obligatoria."})}),LG=({isOpen:t,onOpenChange:e,items:r})=>{const{session:n}=ti(),i=Xo(),{data:s,isLoading:a}=Kc(),{data:u,isLoading:d}=dl(),{data:h,isLoading:f}=fl(),p=JT(),m=yn({resolver:bn(MG),defaultValues:{vendorId:"",shippingAddressId:"",billingAddressId:""}});z.useEffect(()=>{u&&u.length>0&&!m.getValues("shippingAddressId")&&m.setValue("shippingAddressId",u[0].id)},[u,m]),z.useEffect(()=>{h&&h.length>0&&!m.getValues("billingAddressId")&&m.setValue("billingAddressId",h[0].id)},[h,m]);const g=async w=>{var O;if(!((O=n==null?void 0:n.user)!=null&&O.id)){ke.error("Error de sesión",{description:"Debes iniciar sesión para reordenar."});return}const C=r.map(A=>({productName:A.product_name,catalogNumber:A.catalog_number,quantity:A.quantity>0?A.quantity:1,unitPrice:A.unit_price||void 0,format:A.format||void 0,link:void 0,notes:`Reorder de Inventario (Cant. original: ${A.quantity})`,brand:A.brand||void 0}));try{const A=await p.mutateAsync({vendorId:w.vendorId,requesterId:n.user.id,accountManagerId:null,shippingAddressId:w.shippingAddressId,billingAddressId:w.billingAddressId,notes:`Solicitud de Reordenamiento generada automáticamente para ${r.length} artículos.`,projectCodes:null,items:C});e(!1),i(`/requests/${A.id}`)}catch{}},_=a||d||f,y=p.isPending,b=r.map(w=>w.brand).filter(w=>!!w),E=Array.from(new Set(b.map(w=>w.toLowerCase()))),x=(s==null?void 0:s.filter(w=>{var C;return(C=w.brands)==null?void 0:C.some(O=>E.includes(O.toLowerCase()))}))||[],j=s||[];return c.jsx(rr,{open:t,onOpenChange:e,children:c.jsxs(Zt,{className:"sm:max-w-[600px]",children:[c.jsxs(nr,{children:[c.jsx(ir,{children:"Reordenar Artículos de Inventario"}),c.jsxs(an,{children:["Crear una nueva solicitud de compra para los ",r.length," artículos seleccionados."]})]}),c.jsx(wn,{...m,children:c.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-semibold",children:"Artículos a Reordenar:"}),c.jsx("ul",{className:"list-disc list-inside text-sm max-h-24 overflow-y-auto p-2 border rounded-md",children:r.map(w=>c.jsxs("li",{className:"truncate",children:[w.product_name," (",w.catalog_number,") - Cantidad: ",w.quantity]},w.id))})]}),c.jsx(Ve,{control:m.control,name:"vendorId",render:({field:w})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Proveedor"}),c.jsxs(Br,{onValueChange:w.onChange,value:w.value,disabled:a||y,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:a?"Cargando proveedores...":"Selecciona un proveedor"})})}),c.jsxs(Pr,{children:[x.length>0&&c.jsxs(nC,{children:[c.jsx(Mb,{children:"Proveedores Sugeridos (por Marca)"}),x.map(C=>c.jsx(Qt,{value:C.id,children:C.name},C.id))]}),c.jsxs(nC,{children:[c.jsx(Mb,{children:"Todos los Proveedores"}),j.map(C=>c.jsx(Qt,{value:C.id,children:C.name},C.id))]})]})]}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ve,{control:m.control,name:"shippingAddressId",render:({field:w})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Dirección de Envío"}),c.jsxs(Br,{onValueChange:w.onChange,value:w.value,disabled:d||y,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:d?"Cargando direcciones...":"Selecciona dirección de envío"})})}),c.jsx(Pr,{children:u==null?void 0:u.map(C=>c.jsx(Qt,{value:C.id,children:C.name},C.id))})]}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:m.control,name:"billingAddressId",render:({field:w})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Dirección de Facturación"}),c.jsxs(Br,{onValueChange:w.onChange,value:w.value,disabled:f||y,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:f?"Cargando direcciones...":"Selecciona dirección de facturación"})})}),c.jsx(Pr,{children:h==null?void 0:h.map(C=>c.jsx(Qt,{value:C.id,children:C.name},C.id))})]}),c.jsx(Ue,{})]})})]}),c.jsxs(Rn,{children:[c.jsx(Ce,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:y,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:y||_,children:y?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Creando Solicitud..."]}):"Crear Solicitud de Reordenamiento"})]})]})})]})})},FG=()=>{const{data:t,isLoading:e,error:r}=AG(),n=TG(),i=RG(),s=PG(),[a,u]=z.useState(!1),[d,h]=z.useState(!1),[f,p]=z.useState(void 0),[m,g]=z.useState(""),[_,y]=z.useState([]),[b,E]=z.useState(!1),x=async q=>{await n.mutateAsync(q),u(!1)},j=async(q,T)=>{await i.mutateAsync({id:q,data:T}),h(!1),p(void 0)},w=async q=>{await s.mutateAsync(q)},C=q=>{p(q),h(!0)},O=()=>{_.length>0&&E(!0)},A=z.useMemo(()=>{if(!t)return[];const q=m.toLowerCase();return t.filter(T=>T.product_name.toLowerCase().includes(q)||T.catalog_number.toLowerCase().includes(q)||T.brand&&T.brand.toLowerCase().includes(q))},[t,m]),P=z.useMemo(()=>(t==null?void 0:t.filter(q=>_.includes(q.id)))||[],[t,_]);return e?c.jsxs("div",{className:"container mx-auto py-8 flex justify-center items-center",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando Inventario..."]}):r?c.jsxs("div",{className:"container mx-auto py-8 text-red-600",children:["Error al cargar el inventario: ",r.message]}):c.jsxs("div",{className:"container mx-auto py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Inventario"}),c.jsxs(rr,{open:a,onOpenChange:u,children:[c.jsx(dc,{asChild:!0,children:c.jsxs(Ce,{children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Añadir Nuevo Artículo"]})}),c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Añadir Nuevo Artículo al Inventario"})}),c.jsx(EC,{onSubmit:x,onCancel:()=>u(!1),isSubmitting:n.isPending})]})]})]}),c.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Gestiona el inventario de productos de tu laboratorio."}),c.jsx(DG,{searchTerm:m,onSearchChange:g,selectedItemCount:_.length,onReorder:O}),c.jsx("div",{className:"mt-6",children:c.jsx(NG,{items:A,onEdit:C,onDelete:w,selectedItems:_,onSelectChange:y})}),c.jsx(rr,{open:d,onOpenChange:h,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Editar Artículo de Inventario"})}),f&&c.jsx(EC,{initialData:f,onSubmit:q=>j(f.id,q),onCancel:()=>h(!1),isSubmitting:i.isPending})]})}),P.length>0&&c.jsx(LG,{isOpen:b,onOpenChange:q=>{E(q),q||y([])},items:P})]})},b4=()=>ei({queryKey:["expenditures"],queryFn:eU}),$G=()=>{const{data:t,isLoading:e}=b4(),{data:r,isLoading:n}=$d();return ei({queryKey:["unaccountedReceivedRequests",t,r],queryFn:async()=>{if(e||n||!r||!t)return[];const i=new Set(t.map(s=>s.request_id).filter(s=>!!s));return r.filter(s=>s.status==="Received"&&!i.has(s.id)&&s.items&&s.items.length>0&&s.items.every(a=>a.unit_price!==null&&a.unit_price!==void 0))},enabled:!e&&!n})},w4=()=>{const t=Mt();return Ut({mutationFn:async e=>{const r={...e,request_id:e.request_id||null};return tU(r)},onSuccess:()=>{ke.success("Gasto registrado exitosamente!"),t.invalidateQueries({queryKey:["expenditures"]}),t.invalidateQueries({queryKey:["unaccountedReceivedRequests"]})},onError:e=>{ke.error("Fallo al registrar el gasto.",{description:e.message})}})},qG=()=>{const t=Mt();return Ut({mutationFn:async({id:e,data:r})=>{const n={...r,request_id:r.request_id||null};return rU(e,n)},onSuccess:()=>{ke.success("Gasto actualizado exitosamente!"),t.invalidateQueries({queryKey:["expenditures"]}),t.invalidateQueries({queryKey:["unaccountedReceivedRequests"]})},onError:e=>{ke.error("Fallo al actualizar el gasto.",{description:e.message})}})},BG=()=>{const t=Mt();return Ut({mutationFn:async e=>{await nU(e)},onSuccess:()=>{ke.success("Gasto eliminado exitosamente!"),t.invalidateQueries({queryKey:["expenditures"]}),t.invalidateQueries({queryKey:["unaccountedReceivedRequests"]})},onError:e=>{ke.error("Fallo al eliminar el gasto.",{description:e.message})}})},UG=({expenditures:t,projects:e,onEdit:r,onDelete:n})=>{const i=s=>{var a;return((a=e==null?void 0:e.find(u=>u.id===s))==null?void 0:a.code)||"N/A"};return c.jsx("div",{className:"rounded-md border overflow-x-auto",children:c.jsxs(Fi,{children:[c.jsx($i,{children:c.jsxs(sr,{children:[c.jsx(ht,{className:"min-w-[100px]",children:"Fecha"}),c.jsx(ht,{className:"min-w-[150px]",children:"Proyecto"}),c.jsx(ht,{className:"min-w-[250px]",children:"Descripción"}),c.jsx(ht,{className:"text-right min-w-[100px]",children:"Monto"}),c.jsx(ht,{className:"min-w-[120px]",children:"Solicitud Vinculada"}),c.jsx(ht,{className:"text-right min-w-[100px]",children:"Acciones"})]})}),c.jsx(qi,{children:t.length===0?c.jsx(sr,{children:c.jsx(rt,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No se encontraron gastos registrados."})}):t.map(s=>c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:Mc(new Date(s.date_incurred),"yyyy-MM-dd")}),c.jsx(rt,{children:i(s.project_id)}),c.jsx(rt,{children:s.description}),c.jsxs(rt,{className:"text-right font-semibold text-red-600",children:["€",s.amount.toFixed(2)]}),c.jsx(rt,{children:s.request_id?c.jsx(Ba,{to:`/requests/${s.request_id}`,className:"text-blue-500 hover:underline",children:"Ver Solicitud"}):"N/A"}),c.jsxs(rt,{className:"text-right",children:[c.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>r(s),className:"mr-2",title:"Editar Gasto",children:c.jsx(qs,{className:"h-4 w-4"})}),c.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>n(s.id),title:"Eliminar Gasto",children:c.jsx(ls,{className:"h-4 w-4"})})]})]},s.id))})]})})},VG=Kr({project_id:Ge().min(1,{message:"El proyecto es obligatorio."}),amount:Qo(t=>Number(t),is().min(.01,{message:"El monto debe ser mayor a cero."})),description:Ge().min(1,{message:"La descripción es obligatoria."}),date_incurred:Ge().regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Formato de fecha inválido (YYYY-MM-DD)."}),request_id:Ge().optional().nullable()}),SC=({initialData:t,onSubmit:e,onCancel:r,isSubmitting:n})=>{const{data:i,isLoading:s}=Hs(),{data:a,isLoading:u}=$d(),d=yn({resolver:bn(VG),defaultValues:t?{project_id:t.project_id,amount:t.amount,description:t.description,date_incurred:t.date_incurred,request_id:t.request_id||null}:{project_id:"",amount:0,description:"",date_incurred:new Date().toISOString().split("T")[0],request_id:null}}),h=p=>{e(p)},f=s||u;return c.jsx(wn,{...d,children:c.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[c.jsx(Ve,{control:d.control,name:"project_id",render:({field:p})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Proyecto / Centro de Costo"}),c.jsxs(Br,{onValueChange:p.onChange,value:p.value,disabled:s||n,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:s?"Cargando proyectos...":"Selecciona un proyecto"})})}),c.jsx(Pr,{children:i==null?void 0:i.map(m=>c.jsxs(Qt,{value:m.id,children:[m.code," - ",m.name]},m.id))})]}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Ve,{control:d.control,name:"amount",render:({field:p})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Monto (€)"}),c.jsx(qe,{children:c.jsx(at,{type:"number",step:"0.01",placeholder:"ej. 150.00",...p,onChange:m=>p.onChange(m.target.value===""?0:Number(m.target.value)),disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:d.control,name:"date_incurred",render:({field:p})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Fecha del Gasto"}),c.jsx(qe,{children:c.jsx(at,{type:"date",...p,disabled:n})}),c.jsx(Ue,{})]})})]}),c.jsx(Ve,{control:d.control,name:"description",render:({field:p})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Descripción"}),c.jsx(qe,{children:c.jsx(Ls,{placeholder:"ej. Compra de reactivos para el proyecto X",...p,disabled:n})}),c.jsx(Ue,{})]})}),c.jsx(Ve,{control:d.control,name:"request_id",render:({field:p})=>c.jsxs($e,{children:[c.jsx(Fe,{children:"Vincular a Solicitud (Opcional)"}),c.jsxs(Br,{onValueChange:m=>p.onChange(m==="null-request"?null:m),value:p.value||"null-request",disabled:u||n,children:[c.jsx(qe,{children:c.jsx(Rr,{children:c.jsx(Ur,{placeholder:u?"Cargando solicitudes...":"Selecciona una solicitud (ID)"})})}),c.jsxs(Pr,{children:[c.jsx(Qt,{value:"null-request",children:"Sin Solicitud"}),a==null?void 0:a.map(m=>c.jsxs(Qt,{value:m.id,children:[m.request_number||m.id.substring(0,8)," (",m.status,")"]},m.id))]})]}),c.jsx(Ue,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r&&c.jsx(Ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),c.jsx(Ce,{type:"submit",disabled:n||f,children:n?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando..."]}):t?"Guardar Cambios":"Registrar Gasto"})]})]})})},qb=t=>t.items?t.items.reduce((e,r)=>{const n=r.unit_price||0;return e+n*r.quantity},0):0,zG=()=>{const t=w4();return e=>{if(e.length===0)return;const r=e.map(({request:n,projectId:i})=>{const s=qb(n),a=n.request_number||n.id.substring(0,8),u={project_id:i,amount:s,description:`Costo de la Solicitud #${a} (${n.vendor_id})`,date_incurred:Mc(new Date,"yyyy-MM-dd"),request_id:n.id};return t.mutateAsync(u)});return Promise.all(r)}},HG=({isOpen:t,onOpenChange:e,requests:r})=>{const{data:n,isLoading:i}=Hs(),s=zG(),[a,u]=z.useState(!1),[d,h]=z.useState({});z.useEffect(()=>{if(n&&n.length>0){const _=n[0].id,y={};r.forEach(b=>{var x;const E=(x=b.project_codes)==null?void 0:x[0];y[b.id]=E||_}),h(y)}},[r,n]);const f=(_,y)=>{h(b=>({...b,[_]:y}))},p=async()=>{if(a)return;const _=r.map(y=>({request:y,projectId:d[y.id]})).filter(y=>!!y.projectId);if(_.length===0){ke.error("No hay solicitudes válidas para importar o falta asignar un proyecto.");return}u(!0);try{await s(_),ke.success(`Importación completada. Se registraron ${_.length} gastos.`),e(!1)}catch(y){ke.error("Fallo al importar gastos.",{description:y.message})}finally{u(!1)}},m=r.reduce((_,y)=>_+qb(y),0),g=r.length>0&&Object.keys(d).length===r.length&&Object.values(d).every(_=>!!_);return c.jsx(rr,{open:t,onOpenChange:e,children:c.jsxs(Zt,{className:"sm:max-w-[800px]",children:[c.jsxs(nr,{children:[c.jsxs(ir,{className:"flex items-center",children:[c.jsx(ap,{className:"mr-2 h-5 w-5"})," Importar Gastos de Solicitudes Recibidas"]}),c.jsxs(an,{children:["Las siguientes ",r.length," solicitudes han sido recibidas pero aún no tienen un gasto asociado. Asigna un proyecto para importar el costo total de la solicitud."]})]}),c.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-md border",children:c.jsxs(Fi,{children:[c.jsx($i,{className:"sticky top-0 bg-background",children:c.jsxs(sr,{children:[c.jsx(ht,{children:"Solicitud"}),c.jsx(ht,{children:"Proveedor"}),c.jsx(ht,{className:"text-right",children:"Costo Total"}),c.jsx(ht,{className:"min-w-[200px]",children:"Asignar Proyecto"})]})}),c.jsx(qi,{children:r.map(_=>{const y=qb(_),b=_.request_number||_.id.substring(0,8);return c.jsxs(sr,{children:[c.jsx(rt,{className:"font-medium",children:b}),c.jsx(rt,{children:_.vendor_id})," ",c.jsxs(rt,{className:"text-right font-semibold",children:["€",y.toFixed(2)]}),c.jsx(rt,{children:c.jsxs(Br,{value:d[_.id]||"",onValueChange:E=>f(_.id,E),disabled:i||a,children:[c.jsx(Rr,{children:c.jsx(Ur,{placeholder:"Selecciona proyecto"})}),c.jsx(Pr,{children:n==null?void 0:n.map(E=>c.jsxs(Qt,{value:E.id,children:[E.code," - ",E.name]},E.id))})]})})]},_.id)})})]})}),c.jsx("div",{className:"flex justify-between items-center pt-4 border-t",children:c.jsxs("p",{className:"text-lg font-bold",children:["Total a Importar: ",c.jsxs("span",{className:"text-red-600",children:["€",m.toFixed(2)]})]})}),c.jsxs(Rn,{children:[c.jsx(Ce,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:a,children:"Cancelar"}),c.jsx(Ce,{onClick:p,disabled:a||!g,children:a?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Importando..."]}):c.jsxs(c.Fragment,{children:[c.jsx($k,{className:"mr-2 h-4 w-4"})," Importar ",r.length," Gastos"]})})]})]})})},WG=()=>{const{data:t,isLoading:e,error:r}=b4(),{data:n,isLoading:i}=Hs(),{data:s,isLoading:a}=$G(),u=w4(),d=qG(),h=BG(),[f,p]=z.useState(!1),[m,g]=z.useState(!1),[_,y]=z.useState(void 0),[b,E]=z.useState(!1),x=async q=>{await u.mutateAsync(q),p(!1)},j=async(q,T)=>{await d.mutateAsync({id:q,data:T}),g(!1),y(void 0)},w=async q=>{await h.mutateAsync(q)},C=q=>{y(q),g(!0)};if(e||i||a)return c.jsxs("div",{className:"container mx-auto py-8 flex justify-center items-center",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando Gastos..."]});if(r)return c.jsxs("div",{className:"container mx-auto py-8 text-red-600",children:["Error: ",r.message]});const A=(t==null?void 0:t.reduce((q,T)=>q+T.amount,0))||0,P=(s==null?void 0:s.length)||0;return c.jsxs("div",{className:"container mx-auto py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestión de Gastos"}),c.jsxs("div",{className:"flex space-x-2",children:[P>0&&c.jsxs(Ce,{variant:"secondary",onClick:()=>E(!0),disabled:a,children:[c.jsx(pD,{className:"mr-2 h-4 w-4"})," Importar (",P,")"]}),c.jsxs(rr,{open:f,onOpenChange:p,children:[c.jsx(dc,{asChild:!0,children:c.jsxs(Ce,{children:[c.jsx(Xi,{className:"mr-2 h-4 w-4"})," Registrar Nuevo Gasto"]})}),c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Registrar Nuevo Gasto"})}),c.jsx(SC,{onSubmit:x,onCancel:()=>p(!1),isSubmitting:u.isPending})]})]})]})]}),c.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Rastrea los gastos incurridos, vinculándolos a proyectos y solicitudes específicas."}),c.jsxs(zn,{className:"mb-8",children:[c.jsxs(Hn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Wn,{className:"text-sm font-medium",children:"Gasto Total Registrado"}),c.jsx(ap,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Kn,{children:c.jsxs("div",{className:"text-2xl font-bold",children:["€",A.toFixed(2)]})})]}),c.jsx(UG,{expenditures:t||[],projects:n,onEdit:C,onDelete:w}),c.jsx(rr,{open:m,onOpenChange:g,children:c.jsxs(Zt,{className:"sm:max-w-[425px]",children:[c.jsx(nr,{children:c.jsx(ir,{children:"Editar Gasto"})}),_&&c.jsx(SC,{initialData:_,onSubmit:q=>j(_.id,q),onCancel:()=>g(!1),isSubmitting:d.isPending})]})}),s&&c.jsx(HG,{isOpen:b,onOpenChange:E,requests:s})]})},KG=()=>{const t=sl();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"¡Ups! Página no encontrada"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Volver al Inicio"})]})})};var jC,or="colors",dn="sizes",et="space",GG={gap:et,gridGap:et,columnGap:et,gridColumnGap:et,rowGap:et,gridRowGap:et,inset:et,insetBlock:et,insetBlockEnd:et,insetBlockStart:et,insetInline:et,insetInlineEnd:et,insetInlineStart:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,marginBlock:et,marginBlockEnd:et,marginBlockStart:et,marginInline:et,marginInlineEnd:et,marginInlineStart:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,paddingBlock:et,paddingBlockEnd:et,paddingBlockStart:et,paddingInline:et,paddingInlineEnd:et,paddingInlineStart:et,top:et,right:et,bottom:et,left:et,scrollMargin:et,scrollMarginTop:et,scrollMarginRight:et,scrollMarginBottom:et,scrollMarginLeft:et,scrollMarginX:et,scrollMarginY:et,scrollMarginBlock:et,scrollMarginBlockEnd:et,scrollMarginBlockStart:et,scrollMarginInline:et,scrollMarginInlineEnd:et,scrollMarginInlineStart:et,scrollPadding:et,scrollPaddingTop:et,scrollPaddingRight:et,scrollPaddingBottom:et,scrollPaddingLeft:et,scrollPaddingX:et,scrollPaddingY:et,scrollPaddingBlock:et,scrollPaddingBlockEnd:et,scrollPaddingBlockStart:et,scrollPaddingInline:et,scrollPaddingInlineEnd:et,scrollPaddingInlineStart:et,fontSize:"fontSizes",background:or,backgroundColor:or,backgroundImage:or,borderImage:or,border:or,borderBlock:or,borderBlockEnd:or,borderBlockStart:or,borderBottom:or,borderBottomColor:or,borderColor:or,borderInline:or,borderInlineEnd:or,borderInlineStart:or,borderLeft:or,borderLeftColor:or,borderRight:or,borderRightColor:or,borderTop:or,borderTopColor:or,caretColor:or,color:or,columnRuleColor:or,fill:or,outline:or,outlineColor:or,stroke:or,textDecorationColor:or,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:dn,minBlockSize:dn,maxBlockSize:dn,inlineSize:dn,minInlineSize:dn,maxInlineSize:dn,width:dn,minWidth:dn,maxWidth:dn,height:dn,minHeight:dn,maxHeight:dn,flexBasis:dn,gridTemplateColumns:dn,gridTemplateRows:dn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},QG=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,zd=()=>{const t=Object.create(null);return(e,r,...n)=>{const i=(s=>JSON.stringify(s,QG))(e);return i in t?t[i]:t[i]=r(e,...n)}},Ch=Symbol.for("sxs.internal"),g1=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),CC=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:YG}=Object.prototype,Bb=t=>t.includes("-")?t:t.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),ZG=/\s+(?![^()]*\))/,Kl=t=>e=>t(...typeof e=="string"?String(e).split(ZG):[e]),kC={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Kl(((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t}))),marginInline:Kl(((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t}))),maxSize:Kl(((t,e)=>({maxBlockSize:t,maxInlineSize:e||t}))),minSize:Kl(((t,e)=>({minBlockSize:t,minInlineSize:e||t}))),paddingBlock:Kl(((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t}))),paddingInline:Kl(((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t})))},g0=/([\d.]+)([^]*)/,JG=(t,e)=>t.length?t.reduce(((r,n)=>(r.push(...e.map((i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i))),r)),[]):e,XG=(t,e)=>t in eQ&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((r,n,i,s)=>n+(i==="stretch"?`-moz-available${s};${Bb(t)}:${n}-webkit-fill-available`:`-moz-fit-content${s};${Bb(t)}:${n}fit-content`)+s)):String(e),eQ={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Fs=t=>t?t+"-":"",x4=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((n,i,s,a,u)=>a=="$"==!!s?n:(i||a=="--"?"calc(":"")+"var(--"+(a==="$"?Fs(e)+(u.includes("$")?"":Fs(r))+u.replace(/\$/g,"-"):u)+")"+(i||a=="--"?"*"+(i||"")+(s||"1")+")":""))),tQ=/\s*,\s*(?![^()]*\))/,rQ=Object.prototype.toString,nc=(t,e,r,n,i)=>{let s,a,u;const d=(h,f,p)=>{let m,g;const _=y=>{for(m in y){const x=m.charCodeAt(0)===64,j=x&&Array.isArray(y[m])?y[m]:[y[m]];for(g of j){const w=/[A-Z]/.test(E=m)?E:E.replace(/-[^]/g,(O=>O[1].toUpperCase())),C=typeof g=="object"&&g&&g.toString===rQ&&(!n.utils[w]||!f.length);if(w in n.utils&&!C){const O=n.utils[w];if(O!==a){a=O,_(O(g)),a=null;continue}}else if(w in kC){const O=kC[w];if(O!==u){u=O,_(O(g)),u=null;continue}}if(x&&(b=m.slice(1)in n.media?"@media "+n.media[m.slice(1)]:m,m=b.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((O,A,P,q,T,D)=>{const L=g0.test(A),B=.0625*(L?-1:1),[U,Y]=L?[q,A]:[A,q];return"("+(P[0]==="="?"":P[0]===">"===L?"max-":"min-")+U+":"+(P[0]!=="="&&P.length===1?Y.replace(g0,((X,ie,re)=>Number(ie)+B*(P===">"?1:-1)+re)):Y)+(T?") and ("+(T[0]===">"?"min-":"max-")+U+":"+(T.length===1?D.replace(g0,((X,ie,re)=>Number(ie)+B*(T===">"?-1:1)+re)):D):"")+")"}))),C){const O=x?p.concat(m):[...p],A=x?[...f]:JG(f,m.split(tQ));s!==void 0&&i(NC(...s)),s=void 0,d(g,A,O)}else s===void 0&&(s=[[],f,p]),m=x||m.charCodeAt(0)!==36?m:`--${Fs(n.prefix)}${m.slice(1).replace(/\$/g,"-")}`,g=C?g:typeof g=="number"?g&&w in nQ?String(g)+"px":String(g):x4(XG(w,g??""),n.prefix,n.themeMap[w]),s[0].push(`${x?`${m} `:`${Bb(m)}:`}${g}`)}}var b,E};_(h),s!==void 0&&i(NC(...s)),s=void 0};d(t,e,r)},NC=(t,e,r)=>`${r.map((n=>`${n}{`)).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,nQ={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},OC=t=>String.fromCharCode(t+(t>25?39:97)),Va=t=>(e=>{let r,n="";for(r=Math.abs(e);r>52;r=r/52|0)n=OC(r%52)+n;return OC(r%52)+n})(((e,r)=>{let n=r.length;for(;n;)e=33*e^r.charCodeAt(--n);return e})(5381,JSON.stringify(t))>>>0),Qu=["themed","global","styled","onevar","resonevar","allvar","inline"],iQ=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},sQ=t=>{let e;const r=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,((s,a)=>{const{cssText:u}=s;let d="";if(u.startsWith("--sxs"))return"";if(i[a-1]&&(d=i[a-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const h in e.rules)if(e.rules[h].group===s)return`--sxs{--sxs:${[...e.rules[h].cache].join(" ")}}${u}`;return s.cssRules.length?`${d}${u}`:""}return u})).join("")},n=()=>{if(e){const{rules:u,sheet:d}=e;if(!d.deleteRule){for(;Object(Object(d.cssRules)[0]).type===3;)d.cssRules.splice(0,1);d.cssRules=[]}for(const h in u)delete u[h]}const i=Object(t).styleSheets||[];for(const u of i)if(iQ(u)){for(let d=0,h=u.cssRules;h[d];++d){const f=Object(h[d]);if(f.type!==1)continue;const p=Object(h[d+1]);if(p.type!==4)continue;++d;const{cssText:m}=f;if(!m.startsWith("--sxs"))continue;const g=m.slice(14,-3).trim().split(/\s+/),_=Qu[g[0]];_&&(e||(e={sheet:u,reset:n,rules:{},toString:r}),e.rules[_]={group:p,index:d,cache:new Set(g)})}if(e)break}if(!e){const u=(d,h)=>({type:h,cssRules:[],insertRule(f,p){this.cssRules.splice(p,0,u(f,{import:3,undefined:1}[(f.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return d==="@media{}"?`@media{${[].map.call(this.cssRules,(f=>f.cssText)).join("")}}`:d}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:u("","text/css"),rules:{},reset:n,toString:r}}const{sheet:s,rules:a}=e;for(let u=Qu.length-1;u>=0;--u){const d=Qu[u];if(!a[d]){const h=Qu[u+1],f=a[h]?a[h].index:s.cssRules.length;s.insertRule("@media{}",f),s.insertRule(`--sxs{--sxs:${u}}`,f),a[d]={group:s.cssRules[f+1],index:f,cache:new Set([u])}}oQ(a[d])}};return n(),e},oQ=t=>{const e=t.group;let r=e.cssRules.length;t.apply=n=>{try{e.insertRule(n,r),++r}catch{}}},$u=Symbol(),aQ=zd(),lQ=(t,e)=>aQ(t,(()=>(...r)=>{let n={type:null,composers:new Set};for(const i of r)if(i!=null)if(i[Ch]){n.type==null&&(n.type=i[Ch].type);for(const s of i[Ch].composers)n.composers.add(s)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(cQ(i,t));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),uQ(t,n,e)})),cQ=({variants:t,compoundVariants:e,defaultVariants:r,...n},i)=>{const s=`${Fs(i.prefix)}c-${Va(n)}`,a=[],u=[],d=Object.create(null),h=[];for(const m in r)d[m]=String(r[m]);if(typeof t=="object"&&t)for(const m in t){f=d,p=m,YG.call(f,p)||(d[m]="undefined");const g=t[m];for(const _ in g){const y={[m]:String(_)};String(_)==="undefined"&&h.push(m);const b=g[_],E=[y,b,!CC(b)];a.push(E)}}var f,p;if(typeof e=="object"&&e)for(const m of e){let{css:g,..._}=m;g=typeof g=="object"&&g||{};for(const b in _)_[b]=String(_[b]);const y=[_,g,!CC(g)];u.push(y)}return[s,n,a,u,d,h]},uQ=(t,e,r)=>{const[n,i,s,a]=dQ(e.composers),u=typeof e.type=="function"||e.type.$$typeof?(p=>{function m(){for(let g=0;g<m[$u].length;g++){const[_,y]=m[$u][g];p.rules[_].apply(y)}return m[$u]=[],null}return m[$u]=[],m.rules={},Qu.forEach((g=>m.rules[g]={apply:_=>m[$u].push([g,_])})),m})(r):null,d=(u||r).rules,h=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,f=p=>{p=typeof p=="object"&&p||fQ;const{css:m,...g}=p,_={};for(const E in s)if(delete g[E],E in p){let x=p[E];typeof x=="object"&&x?_[E]={"@initial":s[E],...x}:(x=String(x),_[E]=x!=="undefined"||a.has(E)?x:s[E])}else _[E]=s[E];const y=new Set([...i]);for(const[E,x,j,w]of e.composers){r.rules.styled.cache.has(E)||(r.rules.styled.cache.add(E),nc(x,[`.${E}`],[],t,(A=>{d.styled.apply(A)})));const C=AC(j,_,t.media),O=AC(w,_,t.media,!0);for(const A of C)if(A!==void 0)for(const[P,q,T]of A){const D=`${E}-${Va(q)}-${P}`;y.add(D);const L=(T?r.rules.resonevar:r.rules.onevar).cache,B=T?d.resonevar:d.onevar;L.has(D)||(L.add(D),nc(q,[`.${D}`],[],t,(U=>{B.apply(U)})))}for(const A of O)if(A!==void 0)for(const[P,q]of A){const T=`${E}-${Va(q)}-${P}`;y.add(T),r.rules.allvar.cache.has(T)||(r.rules.allvar.cache.add(T),nc(q,[`.${T}`],[],t,(D=>{d.allvar.apply(D)})))}}if(typeof m=="object"&&m){const E=`${n}-i${Va(m)}-css`;y.add(E),r.rules.inline.cache.has(E)||(r.rules.inline.cache.add(E),nc(m,[`.${E}`],[],t,(x=>{d.inline.apply(x)})))}for(const E of String(p.className||"").trim().split(/\s+/))E&&y.add(E);const b=g.className=[...y].join(" ");return{type:e.type,className:b,selector:h,props:g,toString:()=>b,deferredInjector:u}};return g1(f,{className:n,selector:h,[Ch]:e,toString:()=>(r.rules.styled.cache.has(n)||f(),n)})},dQ=t=>{let e="";const r=[],n={},i=[];for(const[s,,,,a,u]of t){e===""&&(e=s),r.push(s),i.push(...u);for(const d in a){const h=a[d];(n[d]===void 0||h!=="undefined"||u.includes(h))&&(n[d]=h)}}return[e,r,n,new Set(i)]},AC=(t,e,r,n)=>{const i=[];e:for(let[s,a,u]of t){if(u)continue;let d,h=0,f=!1;for(d in s){const p=s[d];let m=e[d];if(m!==p){if(typeof m!="object"||!m)continue e;{let g,_,y=0;for(const b in m){if(p===String(m[b])){if(b!=="@initial"){const E=b.slice(1);(_=_||[]).push(E in r?r[E]:b.replace(/^@media ?/,"")),f=!0}h+=y,g=!0}++y}if(_&&_.length&&(a={["@media "+_.join(", ")]:a}),!g)continue e}}}(i[h]=i[h]||[]).push([n?"cv":`${d}-${s[d]}`,a,f])}return i},fQ={},hQ=zd(),pQ=(t,e)=>hQ(t,(()=>(...r)=>{const n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let s=Va(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let a=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let u of[].concat(i["@import"]))u=u.includes('"')||u.includes("'")?u:`"${u}"`,e.sheet.insertRule(`@import ${u};`,a++);delete i["@import"]}nc(i,[],[],t,(a=>{e.rules.global.apply(a)}))}}return""};return g1(n,{toString:n})})),mQ=zd(),gQ=(t,e)=>mQ(t,(()=>r=>{const n=`${Fs(t.prefix)}k-${Va(r)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const s=[];nc(r,[],[],t,(u=>s.push(u)));const a=`@keyframes ${n}{${s.join("")}}`;e.rules.global.apply(a)}return n};return g1(i,{get name(){return i()},toString:i})})),vQ=class{constructor(e,r,n,i){this.token=e==null?"":String(e),this.value=r==null?"":String(r),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Fs(this.prefix)+Fs(this.scale)+this.token}toString(){return this.computedValue}},yQ=zd(),bQ=(t,e)=>yQ(t,(()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const i=`.${r=(r=typeof r=="string"?r:"")||`${Fs(t.prefix)}t-${Va(n)}`}`,s={},a=[];for(const d in n){s[d]={};for(const h in n[d]){const f=`--${Fs(t.prefix)}${d}-${h}`,p=x4(String(n[d][h]),t.prefix,d);s[d][h]=new vQ(h,p,d,t.prefix),a.push(`${f}:${p}`)}}const u=()=>{if(a.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);const d=`${n===t.theme?":root,":""}.${r}{${a.join(";")}}`;e.rules.themed.apply(d)}return r};return{...s,get className(){return u()},selector:i,toString:u}})),wQ=zd(),_4=t=>{let e=!1;const r=wQ(t,(n=>{e=!0;const i="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",s=typeof n.media=="object"&&n.media||{},a=typeof n.root=="object"?n.root||null:globalThis.document||null,u=typeof n.theme=="object"&&n.theme||{},d={prefix:i,media:s,theme:u,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...GG},utils:typeof n.utils=="object"&&n.utils||{}},h=sQ(a),f={css:lQ(d,h),globalCss:pQ(d,h),keyframes:gQ(d,h),createTheme:bQ(d,h),reset(){h.reset(),f.theme.toString()},theme:{},sheet:h,config:d,prefix:i,getCssText:h.toString,toString:h.toString};return String(f.theme=f.createTheme(u)),f}));return e||r.reset(),r},E4=()=>jC||(jC=_4()),xQ=(...t)=>E4().createTheme(...t),Ws=(...t)=>E4().css(...t),_Q={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},kr={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},EQ="supabase-auth-ui",SQ={ROOT:"root",SIGN_IN:kr.SIGN_IN,SIGN_UP:kr.SIGN_UP,FORGOTTEN_PASSWORD:kr.FORGOTTEN_PASSWORD,MAGIC_LINK:kr.MAGIC_LINK,UPDATE_PASSWORD:kr.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function hl(t,e,r){var n,i;const s=[],a=SQ[t];return s.push(r!=null&&r.prependedClassName?(r==null?void 0:r.prependedClassName)+"_"+a:EQ+"_"+a),(n=r==null?void 0:r.className)!=null&&n[t]&&s.push((i=r==null?void 0:r.className)==null?void 0:i[t]),((r==null?void 0:r.extend)===void 0||(r==null?void 0:r.extend)===!0)&&s.push(e),s}function Ub(t,e){let r;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(r=0;r<e.length;r++)t[r]=Ub(t[r],e[r]);else for(r in e)t[r]=Ub(t[r],e[r]);return t}return e}function v0(t,...e){let r=e.length;for(let n=0;n<r;n++)t=Ub(t,e[n]);return t}function jQ(t,e){return t.replace(/{{(\w+)}}/g,(r,n)=>e.hasOwnProperty(n)?e[n]:r)}var CQ={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const kQ=Ws({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Aa=({children:t,appearance:e,...r})=>{var n;const i=hl("anchor",kQ(),e);return z.createElement("a",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.anchor,className:i.join(" ")},t)},NQ=Ws({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Yc=({children:t,color:e="default",appearance:r,icon:n,loading:i=!1,...s})=>{var a;const u=hl("button",NQ({color:e}),r);return z.createElement("button",{...s,style:(a=r==null?void 0:r.style)==null?void 0:a.button,className:u.join(" "),disabled:i},n,t)},OQ=Ws({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),ss=({children:t,appearance:e,...r})=>{var n;const i=hl("container",OQ({direction:r.direction,gap:r.gap}),e);return z.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.container,className:i.join(" ")},t)},AQ=Ws({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),TQ=({children:t,appearance:e,...r})=>{var n;const i=hl("divider",AQ(),e);return z.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.divider,className:i.join(" ")})},RQ=Ws({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),qo=({children:t,appearance:e,...r})=>{var n;const i=hl("input",RQ({type:r.type==="password"?"password":"default"}),e);return z.createElement("input",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.input,className:i.join(" ")},t)},PQ=Ws({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Bo=({children:t,appearance:e,...r})=>{var n;const i=hl("label",PQ(),e);return z.createElement("label",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.label,className:i.join(" ")},t)},IQ=Ws({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),as=({children:t,appearance:e,...r})=>{var n;const i=hl("message",IQ({color:r.color}),e);return z.createElement("span",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.message,className:i.join(" ")},t)};function S4({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:i,showLinks:s=!1}){var a;const[u,d]=N.useState(""),[h,f]=N.useState(""),[p,m]=N.useState(""),[g,_]=N.useState(!1),y=async E=>{var x,j;if(E.preventDefault(),f(""),m(""),_(!0),u.length===0){f((x=n==null?void 0:n.magic_link)==null?void 0:x.empty_email_address),_(!1);return}const{error:w}=await e.auth.signInWithOtp({email:u,options:{emailRedirectTo:r}});w?f(w.message):m((j=n==null?void 0:n.magic_link)==null?void 0:j.confirmation_text),_(!1)},b=n==null?void 0:n.magic_link;return z.createElement("form",{id:"auth-magic-link",onSubmit:y},z.createElement(ss,{gap:"large",direction:"vertical",appearance:i},z.createElement("div",null,z.createElement(Bo,{htmlFor:"email",appearance:i},b==null?void 0:b.email_input_label),z.createElement(qo,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:b==null?void 0:b.email_input_placeholder,onChange:E=>{f&&f(""),d(E.target.value)},appearance:i})),z.createElement(Yc,{color:"primary",type:"submit",loading:g,appearance:i},g?b==null?void 0:b.loading_button_label:b==null?void 0:b.button_label),s&&z.createElement(Aa,{href:"#auth-sign-in",onClick:E=>{E.preventDefault(),t(kr.SIGN_IN)},appearance:i},(a=n==null?void 0:n.sign_in)==null?void 0:a.link_text),p&&z.createElement(as,{appearance:i},p),h&&z.createElement(as,{color:"danger",appearance:i},h)))}const Jr=Ws({width:"21px",height:"21px"}),DQ=({provider:t})=>t=="google"?MQ():t=="facebook"?LQ():t=="twitter"?FQ():t=="apple"?$Q():t=="github"?qQ():t=="gitlab"?BQ():t=="bitbucket"?UQ():t=="discord"?VQ():t=="azure"?zQ():t=="keycloak"?HQ():t=="linkedin"?WQ():t=="notion"?KQ():t=="slack"?GQ():t=="spotify"?QQ():t=="twitch"?YQ():t=="workos"?ZQ():t=="kakao"?JQ():null,MQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),z.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),z.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),z.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),LQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),z.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),FQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),$Q=()=>z.createElement("svg",{className:Jr(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",z.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),qQ=()=>z.createElement("svg",{className:Jr(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",z.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),BQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),z.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),z.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),z.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),z.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),z.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),z.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),UQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},z.createElement("defs",null,z.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},z.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),z.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),z.createElement("title",null,"Bitbucket-blue"),z.createElement("g",{id:"Layer_2","data-name":"Layer 2"},z.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},z.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),z.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),VQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),zQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},z.createElement("stop",{offset:"0",stopColor:"#114a8b"}),z.createElement("stop",{offset:"1",stopColor:"#0669bc"})),z.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),z.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),z.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},z.createElement("stop",{offset:"0",stopOpacity:".3"}),z.createElement("stop",{offset:".071",stopOpacity:".2"}),z.createElement("stop",{offset:".321",stopOpacity:".1"}),z.createElement("stop",{offset:".623",stopOpacity:".05"}),z.createElement("stop",{offset:"1",stopOpacity:"0"})),z.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),z.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},z.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),z.createElement("stop",{offset:"1",stopColor:"#2892df"})),z.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),HQ=()=>z.createElement("svg",{className:Jr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),WQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),z.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),KQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},z.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),z.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),z.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),GQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},z.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),z.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),z.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),z.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),z.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),z.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),z.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),z.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),QQ=()=>z.createElement("svg",{className:Jr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),YQ=()=>z.createElement("svg",{className:Jr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),z.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),z.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),z.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),ZQ=()=>z.createElement("svg",{className:Jr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),z.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),JQ=()=>z.createElement("svg",{className:Jr(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},z.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),z.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),z.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function XQ({supabaseClient:t,socialLayout:e="vertical",providers:r=["github","google","azure"],providerScopes:n,queryParams:i,redirectTo:s,onlyThirdPartyProviders:a=!0,view:u="sign_in",i18n:d,appearance:h}){const[f,p]=N.useState(!1),[m,g]=N.useState(""),_=e==="vertical",y=u==="magic_link"?"sign_in":u,b=async x=>{p(!0);const{error:j}=await t.auth.signInWithOAuth({provider:x,options:{redirectTo:s,scopes:n==null?void 0:n[x],queryParams:i}});j&&g(j.message),p(!1)};function E(x){const j=x.toLowerCase();return x.charAt(0).toUpperCase()+j.slice(1)}return z.createElement(z.Fragment,null,r&&r.length>0&&z.createElement(z.Fragment,null,z.createElement(ss,{gap:"large",direction:"vertical",appearance:h},z.createElement(ss,{direction:_?"vertical":"horizontal",gap:_?"small":"medium",appearance:h},r.map(x=>{var j;return z.createElement(Yc,{key:x,color:"default",loading:f,onClick:()=>b(x),appearance:h},z.createElement(DQ,{provider:x}),_&&jQ((j=d==null?void 0:d[y])==null?void 0:j.social_provider_text,{provider:E(x)}))}))),!a&&z.createElement(TQ,{appearance:h})))}function TC({authView:t="sign_in",defaultEmail:e="",defaultPassword:r="",setAuthView:n=()=>{},setDefaultEmail:i=_=>{},setDefaultPassword:s=_=>{},supabaseClient:a,showLinks:u=!1,redirectTo:d,additionalData:h,magicLink:f,i18n:p,appearance:m,children:g}){var _,y,b,E;const x=N.useRef(!0),[j,w]=N.useState(e),[C,O]=N.useState(r),[A,P]=N.useState(""),[q,T]=N.useState(!1),[D,L]=N.useState("");N.useEffect(()=>(x.current=!0,w(e),O(r),()=>{x.current=!1}),[t]);const B=async X=>{var ie;switch(X.preventDefault(),P(""),T(!0),t){case"sign_in":const{error:re}=await a.auth.signInWithPassword({email:j,password:C});re&&P(re.message);break;case"sign_up":let K={emailRedirectTo:d};h&&(K.data=h);const{data:{user:Q,session:M},error:$}=await a.auth.signUp({email:j,password:C,options:K});$?P($.message):Q&&!M&&L((ie=p==null?void 0:p.sign_up)==null?void 0:ie.confirmation_text);break}x.current&&T(!1)},U=X=>{i(j),s(C),n(X)},Y=p==null?void 0:p[t];return z.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:B,autoComplete:"on",style:{width:"100%"}},z.createElement(ss,{direction:"vertical",gap:"large",appearance:m},z.createElement(ss,{direction:"vertical",gap:"large",appearance:m},z.createElement("div",null,z.createElement(Bo,{htmlFor:"email",appearance:m},Y==null?void 0:Y.email_label),z.createElement(qo,{id:"email",type:"email",name:"email",placeholder:Y==null?void 0:Y.email_input_placeholder,defaultValue:j,onChange:X=>w(X.target.value),autoComplete:"email",appearance:m})),z.createElement("div",null,z.createElement(Bo,{htmlFor:"password",appearance:m},Y==null?void 0:Y.password_label),z.createElement(qo,{id:"password",type:"password",name:"password",placeholder:Y==null?void 0:Y.password_input_placeholder,defaultValue:C,onChange:X=>O(X.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:m})),g),z.createElement(Yc,{type:"submit",color:"primary",loading:q,appearance:m},q?Y==null?void 0:Y.loading_button_label:Y==null?void 0:Y.button_label),u&&z.createElement(ss,{direction:"vertical",gap:"small",appearance:m},t===kr.SIGN_IN&&f&&z.createElement(Aa,{href:"#auth-magic-link",onClick:X=>{X.preventDefault(),n(kr.MAGIC_LINK)},appearance:m},(_=p==null?void 0:p.magic_link)==null?void 0:_.link_text),t===kr.SIGN_IN&&z.createElement(Aa,{href:"#auth-forgot-password",onClick:X=>{X.preventDefault(),n(kr.FORGOTTEN_PASSWORD)},appearance:m},(y=p==null?void 0:p.forgotten_password)==null?void 0:y.link_text),t===kr.SIGN_IN?z.createElement(Aa,{href:"#auth-sign-up",onClick:X=>{X.preventDefault(),U(kr.SIGN_UP)},appearance:m},(b=p==null?void 0:p.sign_up)==null?void 0:b.link_text):z.createElement(Aa,{href:"#auth-sign-in",onClick:X=>{X.preventDefault(),U(kr.SIGN_IN)},appearance:m},(E=p==null?void 0:p.sign_in)==null?void 0:E.link_text))),D&&z.createElement(as,{appearance:m},D),A&&z.createElement(as,{color:"danger",appearance:m},A))}function j4({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:i,showLinks:s=!1}){var a;const[u,d]=N.useState(""),[h,f]=N.useState(""),[p,m]=N.useState(""),[g,_]=N.useState(!1),y=async E=>{var x;E.preventDefault(),f(""),m(""),_(!0);const{error:j}=await e.auth.resetPasswordForEmail(u,{redirectTo:r});j?f(j.message):m((x=n==null?void 0:n.forgotten_password)==null?void 0:x.confirmation_text),_(!1)},b=n==null?void 0:n.forgotten_password;return z.createElement("form",{id:"auth-forgot-password",onSubmit:y},z.createElement(ss,{direction:"vertical",gap:"large",appearance:i},z.createElement(ss,{gap:"large",direction:"vertical",appearance:i},z.createElement("div",null,z.createElement(Bo,{htmlFor:"email",appearance:i},b==null?void 0:b.email_label),z.createElement(qo,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:b==null?void 0:b.email_input_placeholder,onChange:E=>d(E.target.value),appearance:i})),z.createElement(Yc,{type:"submit",color:"primary",loading:g,appearance:i},g?b==null?void 0:b.loading_button_label:b==null?void 0:b.button_label),s&&z.createElement(Aa,{href:"#auth-sign-in",onClick:E=>{E.preventDefault(),t(kr.SIGN_IN)},appearance:i},(a=n==null?void 0:n.sign_in)==null?void 0:a.link_text),p&&z.createElement(as,{appearance:i},p),h&&z.createElement(as,{color:"danger",appearance:i},h))))}function C4({supabaseClient:t,i18n:e,appearance:r}){const[n,i]=N.useState(""),[s,a]=N.useState(""),[u,d]=N.useState(""),[h,f]=N.useState(!1),p=async g=>{var _;g.preventDefault(),a(""),d(""),f(!0);const{error:y}=await t.auth.updateUser({password:n});y?a(y.message):d((_=e==null?void 0:e.update_password)==null?void 0:_.confirmation_text),f(!1)},m=e==null?void 0:e.update_password;return z.createElement("form",{id:"auth-update-password",onSubmit:p},z.createElement(ss,{gap:"large",direction:"vertical",appearance:r},z.createElement("div",null,z.createElement(Bo,{htmlFor:"password",appearance:r},m==null?void 0:m.password_label),z.createElement(qo,{id:"password",name:"password",placeholder:m==null?void 0:m.password_input_placeholder,type:"password",autoFocus:!0,onChange:g=>i(g.target.value),appearance:r})),z.createElement(Yc,{type:"submit",color:"primary",loading:h,appearance:r},h?m==null?void 0:m.loading_button_label:m==null?void 0:m.button_label),u&&z.createElement(as,{appearance:r},u),s&&z.createElement(as,{color:"danger",appearance:r},s)))}function eY({setAuthView:t=()=>{},supabaseClient:e,otpType:r="email",i18n:n,appearance:i,showLinks:s=!1}){var a;const[u,d]=N.useState(""),[h,f]=N.useState(""),[p,m]=N.useState(""),[g,_]=N.useState(""),[y,b]=N.useState(""),[E,x]=N.useState(!1),j=async C=>{C.preventDefault(),_(""),b(""),x(!0);let O={email:u,token:p,type:r};["sms","phone_change"].includes(r)&&(O={phone:h,token:p,type:r});const{error:A}=await e.auth.verifyOtp(O);A&&_(A.message),x(!1)},w=n==null?void 0:n.verify_otp;return z.createElement("form",{id:"auth-magic-link",onSubmit:j},z.createElement(ss,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(r)?z.createElement("div",null,z.createElement(Bo,{htmlFor:"phone",appearance:i},w==null?void 0:w.phone_input_label),z.createElement(qo,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:w==null?void 0:w.phone_input_placeholder,onChange:C=>f(C.target.value),appearance:i})):z.createElement("div",null,z.createElement(Bo,{htmlFor:"email",appearance:i},w==null?void 0:w.email_input_label),z.createElement(qo,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:w==null?void 0:w.email_input_placeholder,onChange:C=>d(C.target.value),appearance:i})),z.createElement("div",null,z.createElement(Bo,{htmlFor:"token",appearance:i},w==null?void 0:w.token_input_label),z.createElement(qo,{id:"token",name:"token",type:"text",placeholder:w==null?void 0:w.token_input_placeholder,onChange:C=>m(C.target.value),appearance:i})),z.createElement(Yc,{color:"primary",type:"submit",loading:E,appearance:i},E?w==null?void 0:w.loading_button_label:w==null?void 0:w.button_label),s&&z.createElement(Aa,{href:"#auth-sign-in",onClick:C=>{C.preventDefault(),t(kr.SIGN_IN)},appearance:i},(a=n==null?void 0:n.sign_in)==null?void 0:a.link_text),y&&z.createElement(as,{appearance:i},y),g&&z.createElement(as,{color:"danger",appearance:i},g)))}const k4=N.createContext({user:null,session:null}),tY=t=>{const{supabaseClient:e}=t,[r,n]=N.useState(null),[i,s]=N.useState((r==null?void 0:r.user)??null);N.useEffect(()=>{(async()=>{var d;const{data:h}=await e.auth.getSession();n(h.session),s(((d=h.session)==null?void 0:d.user)??null)})();const{data:u}=e.auth.onAuthStateChange(async(d,h)=>{n(h),s((h==null?void 0:h.user)??null)});return()=>{u==null||u.subscription.unsubscribe()}},[]);const a={session:r,user:i};return z.createElement(k4.Provider,{value:a,...t})},rY=()=>{const t=N.useContext(k4);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function Zc({supabaseClient:t,socialLayout:e="vertical",providers:r,providerScopes:n,queryParams:i,view:s="sign_in",redirectTo:a,onlyThirdPartyProviders:u=!1,magicLink:d=!1,showLinks:h=!0,appearance:f,theme:p="default",localization:m={variables:{}},otpType:g="email",additionalData:_,children:y}){const b=v0(CQ,m.variables??{}),[E,x]=N.useState(s),[j,w]=N.useState(""),[C,O]=N.useState(""),A=E==="sign_in"||E==="sign_up"||E==="magic_link";N.useEffect(()=>{var T,D;_4({theme:v0(((T=f==null?void 0:f.theme)==null?void 0:T.default)??{},((D=f==null?void 0:f.variables)==null?void 0:D.default)??{})})},[f]);const P=({children:T})=>{var D;return z.createElement("div",{className:p!=="default"?xQ(v0(f==null?void 0:f.theme[p],((D=f==null?void 0:f.variables)==null?void 0:D[p])??{})):""},A&&z.createElement(XQ,{appearance:f,supabaseClient:t,providers:r,providerScopes:n,queryParams:i,socialLayout:e,redirectTo:a,onlyThirdPartyProviders:u,i18n:b,view:E}),!u&&T)};N.useEffect(()=>{const{data:T}=t.auth.onAuthStateChange(D=>{D==="PASSWORD_RECOVERY"?x("update_password"):D==="USER_UPDATED"&&x("sign_in")});return x(s),()=>T.subscription.unsubscribe()},[s]);const q={supabaseClient:t,setAuthView:x,defaultEmail:j,defaultPassword:C,setDefaultEmail:w,setDefaultPassword:O,redirectTo:a,magicLink:d,showLinks:h,i18n:b,appearance:f};switch(E){case kr.SIGN_IN:return z.createElement(P,null,z.createElement(TC,{...q,authView:"sign_in"}));case kr.SIGN_UP:return z.createElement(P,null,z.createElement(TC,{appearance:f,supabaseClient:t,authView:"sign_up",setAuthView:x,defaultEmail:j,defaultPassword:C,setDefaultEmail:w,setDefaultPassword:O,redirectTo:a,magicLink:d,showLinks:h,i18n:b,additionalData:_,children:y}));case kr.FORGOTTEN_PASSWORD:return z.createElement(P,null,z.createElement(j4,{appearance:f,supabaseClient:t,setAuthView:x,redirectTo:a,showLinks:h,i18n:b}));case kr.MAGIC_LINK:return z.createElement(P,null,z.createElement(S4,{appearance:f,supabaseClient:t,setAuthView:x,redirectTo:a,showLinks:h,i18n:b}));case kr.UPDATE_PASSWORD:return z.createElement(C4,{appearance:f,supabaseClient:t,i18n:b});case kr.VERIFY_OTP:return z.createElement(eY,{appearance:f,supabaseClient:t,otpType:g,i18n:b});default:return null}}Zc.ForgottenPassword=j4;Zc.UpdatePassword=C4;Zc.MagicLink=S4;Zc.UserContextProvider=tY;Zc.useUser=rY;Ws({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const nY=()=>{const{session:t,loading:e}=ti(),r=Xo();return z.useEffect(()=>{t&&r("/dashboard")},[t,r]),e?c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Cargando autenticación..."]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsx("div",{children:c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Inicia sesión en tu cuenta"})}),c.jsx(Zc,{supabaseClient:Xe,providers:[],appearance:{theme:_Q,variables:{default:{colors:{brand:"hsl(var(--primary))",brandAccent:"hsl(var(--primary-foreground))"}}}},theme:"light",redirectTo:window.location.origin+"/dashboard",onError:n=>{console.error("Error during authentication:",n),toast.error("Error durante la autenticación.",{description:n.message})}})]})})},iY=()=>{};var RC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},sY=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],u=t[r++],d=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},O4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,f=s>>2,p=(s&3)<<4|u>>4;let m=(u&15)<<2|h>>6,g=h&63;d||(g=64,a||(m=64)),n.push(r[f],r[p],r[m],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||p==null)throw new oY;const m=s<<2|u>>4;if(n.push(m),h!==64){const g=u<<4&240|h>>2;if(n.push(g),p!==64){const _=h<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aY=function(t){const e=N4(t);return O4.encodeByteArray(e,!0)},A4=function(t){return aY(t).replace(/\./g,"")},lY=function(t){try{return O4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ua<"u")return Ua;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=()=>cY().__FIREBASE_DEFAULTS__,dY=()=>{if(typeof sd>"u"||typeof RC>"u")return;const t=RC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lY(t[1]);return e&&JSON.parse(e)},hY=()=>{try{return iY()||uY()||dY()||fY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},T4=()=>{var t;return(t=hY())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function R4(){try{return typeof indexedDB=="object"}catch{return!1}}function P4(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}function mY(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="FirebaseError";class Jc extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=gY,Object.setPrototypeOf(this,Jc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rm.prototype.create)}}class rm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?vY(s,n):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Jc(i,u,n)}}function vY(t,e){return t.replace(yY,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const yY=/\{\$([^}]+)}/g;function Vb(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(PC(s)&&PC(a)){if(!Vb(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function PC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t){return t&&t._delegate?t._delegate:t}class Zo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new pY;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xY(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);n===u&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wY(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wY(t){return t===_a?void 0:t}function xY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bY(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mr||(mr={}));const EY={debug:mr.DEBUG,verbose:mr.VERBOSE,info:mr.INFO,warn:mr.WARN,error:mr.ERROR,silent:mr.SILENT},SY=mr.INFO,jY={[mr.DEBUG]:"log",[mr.VERBOSE]:"log",[mr.INFO]:"info",[mr.WARN]:"warn",[mr.ERROR]:"error"},CY=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=jY[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kY{constructor(e){this.name=e,this._logLevel=SY,this._logHandler=CY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mr.DEBUG,...e),this._logHandler(this,mr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mr.VERBOSE,...e),this._logHandler(this,mr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mr.INFO,...e),this._logHandler(this,mr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mr.WARN,...e),this._logHandler(this,mr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mr.ERROR,...e),this._logHandler(this,mr.ERROR,...e)}}const NY=(t,e)=>e.some(r=>t instanceof r);let IC,DC;function OY(){return IC||(IC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AY(){return DC||(DC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I4=new WeakMap,zb=new WeakMap,D4=new WeakMap,y0=new WeakMap,y1=new WeakMap;function TY(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(As(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&I4.set(r,t)}).catch(()=>{}),y1.set(e,t),e}function RY(t){if(zb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});zb.set(t,e)}let Hb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return zb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return As(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PY(t){Hb=t(Hb)}function IY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(b0(this),e,...r);return D4.set(n,e.sort?e.sort():[e]),As(n)}:AY().includes(t)?function(...e){return t.apply(b0(this),e),As(I4.get(this))}:function(...e){return As(t.apply(b0(this),e))}}function DY(t){return typeof t=="function"?IY(t):(t instanceof IDBTransaction&&RY(t),NY(t,OY())?new Proxy(t,Hb):t)}function As(t){if(t instanceof IDBRequest)return TY(t);if(y0.has(t))return y0.get(t);const e=DY(t);return e!==t&&(y0.set(t,e),y1.set(e,t)),e}const b0=t=>y1.get(t);function nm(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=As(a);return n&&a.addEventListener("upgradeneeded",d=>{n(As(a.result),d.oldVersion,d.newVersion,As(a.transaction),d)}),r&&a.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}function w0(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),As(r).then(()=>{})}const MY=["get","getKey","getAll","getAllKeys","count"],LY=["put","add","delete","clear"],x0=new Map;function MC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(x0.get(e))return x0.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=LY.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||MY.includes(r)))return;const s=async function(a,...u){const d=this.transaction(a,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),i&&d.done]))[0]};return x0.set(e,s),s}PY(t=>({...t,get:(e,r,n)=>MC(e,r)||t.get(e,r,n),has:(e,r)=>!!MC(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($Y(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function $Y(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wb="@firebase/app",LC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new kY("@firebase/app"),qY="@firebase/app-compat",BY="@firebase/analytics-compat",UY="@firebase/analytics",VY="@firebase/app-check-compat",zY="@firebase/app-check",HY="@firebase/auth",WY="@firebase/auth-compat",KY="@firebase/database",GY="@firebase/data-connect",QY="@firebase/database-compat",YY="@firebase/functions",ZY="@firebase/functions-compat",JY="@firebase/installations",XY="@firebase/installations-compat",eZ="@firebase/messaging",tZ="@firebase/messaging-compat",rZ="@firebase/performance",nZ="@firebase/performance-compat",iZ="@firebase/remote-config",sZ="@firebase/remote-config-compat",oZ="@firebase/storage",aZ="@firebase/storage-compat",lZ="@firebase/firestore",cZ="@firebase/ai",uZ="@firebase/firestore-compat",dZ="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="[DEFAULT]",fZ={[Wb]:"fire-core",[qY]:"fire-core-compat",[UY]:"fire-analytics",[BY]:"fire-analytics-compat",[zY]:"fire-app-check",[VY]:"fire-app-check-compat",[HY]:"fire-auth",[WY]:"fire-auth-compat",[KY]:"fire-rtdb",[GY]:"fire-data-connect",[QY]:"fire-rtdb-compat",[YY]:"fire-fn",[ZY]:"fire-fn-compat",[JY]:"fire-iid",[XY]:"fire-iid-compat",[eZ]:"fire-fcm",[tZ]:"fire-fcm-compat",[rZ]:"fire-perf",[nZ]:"fire-perf-compat",[iZ]:"fire-rc",[sZ]:"fire-rc-compat",[oZ]:"fire-gcs",[aZ]:"fire-gcs-compat",[lZ]:"fire-fst",[uZ]:"fire-fst-compat",[cZ]:"fire-vertex","fire-js":"fire-js",[dZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,hZ=new Map,Gb=new Map;function FC(t,e){try{t.container.addComponent(e)}catch(r){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function el(t){const e=t.name;if(Gb.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Gb.set(e,t);for(const r of gd.values())FC(r,t);for(const r of hZ.values())FC(r,t);return!0}function b1(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new rm("app","Firebase",pZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}function M4(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Kb,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Uo.create("bad-app-name",{appName:String(i)});if(r||(r=T4()),!r)throw Uo.create("no-options");const s=gd.get(i);if(s){if(Vb(r,s.options)&&Vb(n,s.config))return s;throw Uo.create("duplicate-app",{appName:i})}const a=new _Y(i);for(const d of Gb.values())a.addComponent(d);const u=new mZ(r,n,a);return gd.set(i,u),u}function L4(t=Kb){const e=gd.get(t);if(!e&&t===Kb&&T4())return M4();if(!e)throw Uo.create("no-app",{appName:t});return e}function gZ(){return Array.from(gd.values())}function Vo(t,e,r){let n=fZ[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(a.join(" "));return}el(new Zo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ="firebase-heartbeat-database",yZ=1,vd="firebase-heartbeat-store";let _0=null;function F4(){return _0||(_0=nm(vZ,yZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Uo.create("idb-open",{originalErrorMessage:t.message})})),_0}async function bZ(t){try{const r=(await F4()).transaction(vd),n=await r.objectStore(vd).get($4(t));return await r.done,n}catch(e){if(e instanceof Jc)$s.warn(e.message);else{const r=Uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(r.message)}}}async function $C(t,e){try{const n=(await F4()).transaction(vd,"readwrite");await n.objectStore(vd).put(e,$4(t)),await n.done}catch(r){if(r instanceof Jc)$s.warn(r.message);else{const n=Uo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});$s.warn(n.message)}}}function $4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=1024,xZ=30;class _Z{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new SZ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>xZ){const a=jZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){$s.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qC(),{heartbeatsToSend:n,unsentEntries:i}=EZ(this._heartbeatsCache.heartbeats),s=A4(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return $s.warn(r),""}}}function qC(){return new Date().toISOString().substring(0,10)}function EZ(t,e=wZ){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),BC(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),BC(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class SZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R4()?P4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bZ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $C(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $C(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function BC(t){return A4(JSON.stringify({version:2,heartbeats:t})).length}function jZ(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(t){el(new Zo("platform-logger",e=>new FY(e),"PRIVATE")),el(new Zo("heartbeat",e=>new _Z(e),"PRIVATE")),Vo(Wb,LC,t),Vo(Wb,LC,"esm2020"),Vo("fire-js","")}CZ("");var kZ="firebase",NZ="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(kZ,NZ,"app");const q4="@firebase/installations",w1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1e4,U4=`w:${w1}`,V4="FIS_v2",OZ="https://firebaseinstallations.googleapis.com/v1",AZ=3600*1e3,TZ="installations",RZ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},tl=new rm(TZ,RZ,PZ);function z4(t){return t instanceof Jc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4({projectId:t}){return`${OZ}/projects/${t}/installations`}function W4(t){return{token:t.token,requestStatus:2,expiresIn:DZ(t.expiresIn),creationTime:Date.now()}}async function K4(t,e){const n=(await e.json()).error;return tl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function G4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IZ(t,{refreshToken:e}){const r=G4(t);return r.append("Authorization",MZ(e)),r}async function Q4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DZ(t){return Number(t.replace("s","000"))}function MZ(t){return`${V4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LZ({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=H4(t),i=G4(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={fid:r,authVersion:V4,appId:t.appId,sdkVersion:U4},u={method:"POST",headers:i,body:JSON.stringify(a)},d=await Q4(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:W4(h.authToken)}}else throw await K4("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z=/^[cdef][\w-]{21}$/,Qb="";function qZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=BZ(t);return $Z.test(r)?r:Qb}catch{return Qb}}function BZ(t){return FZ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Map;function J4(t,e){const r=im(t);X4(r,e),UZ(r,e)}function X4(t,e){const r=Z4.get(t);if(r)for(const n of r)n(e)}function UZ(t,e){const r=VZ();r&&r.postMessage({key:t,fid:e}),zZ()}let Ta=null;function VZ(){return!Ta&&"BroadcastChannel"in self&&(Ta=new BroadcastChannel("[Firebase] FID Change"),Ta.onmessage=t=>{X4(t.data.key,t.data.fid)}),Ta}function zZ(){Z4.size===0&&Ta&&(Ta.close(),Ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ="firebase-installations-database",WZ=1,rl="firebase-installations-store";let E0=null;function x1(){return E0||(E0=nm(HZ,WZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rl)}}})),E0}async function rp(t,e){const r=im(t),i=(await x1()).transaction(rl,"readwrite"),s=i.objectStore(rl),a=await s.get(r);return await s.put(e,r),await i.done,(!a||a.fid!==e.fid)&&J4(t,e.fid),e}async function eI(t){const e=im(t),n=(await x1()).transaction(rl,"readwrite");await n.objectStore(rl).delete(e),await n.done}async function sm(t,e){const r=im(t),i=(await x1()).transaction(rl,"readwrite"),s=i.objectStore(rl),a=await s.get(r),u=e(a);return u===void 0?await s.delete(r):await s.put(u,r),await i.done,u&&(!a||a.fid!==u.fid)&&J4(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t){let e;const r=await sm(t.appConfig,n=>{const i=KZ(n),s=GZ(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===Qb?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function KZ(t){const e=t||{fid:qZ(),registrationStatus:0};return tI(e)}function GZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(tl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=QZ(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YZ(t)}:{installationEntry:e}}async function QZ(t,e){try{const r=await LZ(t,e);return rp(t.appConfig,r)}catch(r){throw z4(r)&&r.customData.serverCode===409?await eI(t.appConfig):await rp(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function YZ(t){let e=await UC(t.appConfig);for(;e.registrationStatus===1;)await Y4(100),e=await UC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await _1(t);return n||r}return e}function UC(t){return sm(t,e=>{if(!e)throw tl.create("installation-not-found");return tI(e)})}function tI(t){return ZZ(t)?{fid:t.fid,registrationStatus:0}:t}function ZZ(t){return t.registrationStatus===1&&t.registrationTime+B4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JZ({appConfig:t,heartbeatServiceProvider:e},r){const n=XZ(t,r),i=IZ(t,r),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={installation:{sdkVersion:U4,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},d=await Q4(()=>fetch(n,u));if(d.ok){const h=await d.json();return W4(h)}else throw await K4("Generate Auth Token",d)}function XZ(t,{fid:e}){return`${H4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t,e=!1){let r;const n=await sm(t.appConfig,s=>{if(!rI(s))throw tl.create("not-registered");const a=s.authToken;if(!e&&rJ(a))return s;if(a.requestStatus===1)return r=eJ(t,e),s;{if(!navigator.onLine)throw tl.create("app-offline");const u=iJ(s);return r=tJ(t,u),u}});return r?await r:n.authToken}async function eJ(t,e){let r=await VC(t.appConfig);for(;r.authToken.requestStatus===1;)await Y4(100),r=await VC(t.appConfig);const n=r.authToken;return n.requestStatus===0?E1(t,e):n}function VC(t){return sm(t,e=>{if(!rI(e))throw tl.create("not-registered");const r=e.authToken;return sJ(r)?{...e,authToken:{requestStatus:0}}:e})}async function tJ(t,e){try{const r=await JZ(t,e),n={...e,authToken:r};return await rp(t.appConfig,n),r}catch(r){if(z4(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await eI(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await rp(t.appConfig,n)}throw r}}function rI(t){return t!==void 0&&t.registrationStatus===2}function rJ(t){return t.requestStatus===2&&!nJ(t)}function nJ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AZ}function iJ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function sJ(t){return t.requestStatus===1&&t.requestTime+B4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oJ(t){const e=t,{installationEntry:r,registrationPromise:n}=await _1(e);return n?n.catch(console.error):E1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(t,e=!1){const r=t;return await lJ(r),(await E1(r,e)).token}async function lJ(t){const{registrationPromise:e}=await _1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cJ(t){if(!t||!t.options)throw S0("App Configuration");if(!t.name)throw S0("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw S0(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function S0(t){return tl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="installations",uJ="installations-internal",dJ=t=>{const e=t.getProvider("app").getImmediate(),r=cJ(e),n=b1(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},fJ=t=>{const e=t.getProvider("app").getImmediate(),r=b1(e,nI).getImmediate();return{getId:()=>oJ(r),getToken:i=>aJ(r,i)}};function hJ(){el(new Zo(nI,dJ,"PUBLIC")),el(new Zo(uJ,fJ,"PRIVATE"))}hJ();Vo(q4,w1);Vo(q4,w1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ="/firebase-messaging-sw.js",mJ="/firebase-cloud-messaging-push-scope",iI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gJ="https://fcmregistrations.googleapis.com/v1",sI="google.c.a.c_id",vJ="google.c.a.c_l",yJ="google.c.a.ts",bJ="google.c.a.e",zC=1e4;var HC;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(HC||(HC={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var yd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(yd||(yd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wJ(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="fcm_token_details_db",xJ=5,WC="fcm_token_object_Store";async function _J(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(j0))return null;let e=null;return(await nm(j0,xJ,{upgrade:async(n,i,s,a)=>{if(i<2||!n.objectStoreNames.contains(WC))return;const u=a.objectStore(WC),d=await u.index("fcmSenderId").get(t);if(await u.clear(),!!d){if(i===2){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:h.createTime??Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:Es(h.vapidKey)}}}else if(i===3){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Es(h.auth),p256dh:Es(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Es(h.vapidKey)}}}else if(i===4){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Es(h.auth),p256dh:Es(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Es(h.vapidKey)}}}}}})).close(),await w0(j0),await w0("fcm_vapid_details_db"),await w0("undefined"),EJ(e)?e:null}function EJ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ="firebase-messaging-database",jJ=1,bd="firebase-messaging-store";let C0=null;function oI(){return C0||(C0=nm(SJ,jJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bd)}}})),C0}async function CJ(t){const e=aI(t),n=await(await oI()).transaction(bd).objectStore(bd).get(e);if(n)return n;{const i=await _J(t.appConfig.senderId);if(i)return await S1(t,i),i}}async function S1(t,e){const r=aI(t),i=(await oI()).transaction(bd,"readwrite");return await i.objectStore(bd).put(e,r),await i.done,e}function aI({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ln=new rm("messaging","Messaging",kJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NJ(t,e){const r=await C1(t),n=lI(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(j1(t.appConfig),i)).json()}catch(a){throw ln.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw ln.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw ln.create("token-subscribe-no-token");return s.token}async function OJ(t,e){const r=await C1(t),n=lI(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${j1(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw ln.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw ln.create("token-update-failed",{errorInfo:a})}if(!s.token)throw ln.create("token-update-no-token");return s.token}async function AJ(t,e){const n={method:"DELETE",headers:await C1(t)};try{const s=await(await fetch(`${j1(t.appConfig)}/${e}`,n)).json();if(s.error){const a=s.error.message;throw ln.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw ln.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function j1({projectId:t}){return`${gJ}/projects/${t}/registrations`}async function C1({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function lI({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==iI&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=10080*60*1e3;async function RJ(t){const e=await IJ(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Es(e.getKey("auth")),p256dh:Es(e.getKey("p256dh"))},n=await CJ(t.firebaseDependencies);if(n){if(DJ(n.subscriptionOptions,r))return Date.now()>=n.createTime+TJ?PJ(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await AJ(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return KC(t.firebaseDependencies,r)}else return KC(t.firebaseDependencies,r)}async function PJ(t,e){try{const r=await OJ(t.firebaseDependencies,e),n={...e,token:r,createTime:Date.now()};return await S1(t.firebaseDependencies,n),r}catch(r){throw r}}async function KC(t,e){const n={token:await NJ(t,e),createTime:Date.now(),subscriptionOptions:e};return await S1(t,n),n.token}async function IJ(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wJ(e)})}function DJ(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return MJ(e,t),LJ(e,t),FJ(e,t),e}function MJ(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function LJ(t,e){e.data&&(t.data=e.data)}function FJ(t,e){var i,s,a,u;if(!e.fcmOptions&&!((i=e.notification)!=null&&i.click_action))return;t.fcmOptions={};const r=((s=e.fcmOptions)==null?void 0:s.link)??((a=e.notification)==null?void 0:a.click_action);r&&(t.fcmOptions.link=r);const n=(u=e.fcmOptions)==null?void 0:u.analytics_label;n&&(t.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(t){return typeof t=="object"&&!!t&&sI in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t){if(!t||!t.options)throw k0("App Configuration Object");if(!t.name)throw k0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw k0(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function k0(t){return ln.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=qJ(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ(t){try{t.swRegistration=await navigator.serviceWorker.register(pJ,{scope:mJ}),t.swRegistration.update().catch(()=>{}),await VJ(t.swRegistration)}catch(e){throw ln.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function VJ(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${zC} ms`)),zC),i=t.installing||t.waiting;t.active?(clearTimeout(n),e()):i?i.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zJ(t,e){if(!e&&!t.swRegistration&&await UJ(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HJ(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=iI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t,e){if(!navigator)throw ln.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ln.create("permission-blocked");return await HJ(t,e==null?void 0:e.vapidKey),await zJ(t,e==null?void 0:e.serviceWorkerRegistration),RJ(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(t,e,r){const n=KJ(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[sI],message_name:r[vJ],message_time:r[yJ],message_device_time:Math.floor(Date.now()/1e3)})}function KJ(t){switch(t){case yd.NOTIFICATION_CLICKED:return"notification_open";case yd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===yd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(GC(r)):t.onMessageHandler.next(GC(r)));const n=r.data;$J(n)&&n[bJ]==="1"&&await WJ(t,r.messageType,n)}const QC="@firebase/messaging",YC="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ=t=>{const e=new BJ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>GJ(e,r)),e},YJ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>cI(e,n)}};function ZJ(){el(new Zo("messaging",QJ,"PUBLIC")),el(new Zo("messaging-internal",YJ,"PRIVATE")),Vo(QC,YC),Vo(QC,YC,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JJ(){try{await P4()}catch{return!1}return typeof window<"u"&&R4()&&mY()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJ(t,e){if(!navigator)throw ln.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t=L4()){return JJ().then(e=>{if(!e)throw ln.create("unsupported-browser")},e=>{throw ln.create("indexed-db-unsupported")}),b1(v1(t),"messaging").getImmediate()}async function tX(t,e){return t=v1(t),cI(t,e)}function rX(t,e){return t=v1(t),XJ(t,e)}ZJ();const nX={apiKey:"AIzaSyCDVNVyXwKFLRZSTFXgNkXJ0VK3j9jb4UQ",authDomain:"labflow-af22c.firebaseapp.com",projectId:"labflow-af22c",storageBucket:"labflow-af22c.firebasestorage.app",messagingSenderId:"969221893099",appId:"1:969221893099:web:f333a159c4c6e8b6e907ae",measurementId:"G-4XF1FBDNL2"},iX="BEPxPZAQQh5qHVKQ3FeIfC3arZHDVNbE3xxQ_ci-mE98mNc9FrD8oLke-Of7KqLClFBjvV7_Ci33rIAkeX2esrA",sX=()=>gZ().length?L4():M4(nX),oX=()=>{const{session:t,profile:e}=ti(),[r,n]=N.useState(null),[i,s]=N.useState(!1);return N.useEffect(()=>{"Notification"in window&&"serviceWorker"in navigator&&s(!0)},[]),N.useEffect(()=>{if(!i||!t)return;const a=sX(),u=eX(a);(async()=>{try{if(await Notification.requestPermission()==="granted"){const f=await tX(u,{vapidKey:iX});f?(n(f),console.log("FCM Token obtained:",f),await aX(f,t.user.id),rX(u,p=>{var m,g;console.log("Received foreground message:",p),ke.info(((m=p.notification)==null?void 0:m.title)||"Nueva Notificación",{description:(g=p.notification)==null?void 0:g.body,duration:5e3})})):console.log("No registration token available. Request permission to generate one.")}else console.warn("Notification permission denied.")}catch(h){console.error("An error occurred while retrieving token:",h)}})()},[t,i]),{token:r,isSupported:i}},aX=async(t,e)=>{const{error:r}=await Xe.from("fcm_tokens").upsert({user_id:e,token:t,last_used:new Date().toISOString()},{onConflict:"token"});r?console.error("Error saving FCM token to Supabase:",r):console.log("FCM token saved/updated successfully in Supabase.")},lX=()=>(oX(),null),cX=new VL,ws=({children:t,requiredRoles:e})=>{const{session:r,profile:n,loading:i}=ti();return i?c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Loading authentication..."]}):r?e&&n&&!e.includes(n.role)?c.jsx(tS,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:t}):c.jsx(tS,{to:"/login",replace:!0})},uX=()=>{const{loading:t}=ti();return t?c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(wt,{className:"h-8 w-8 animate-spin mr-2"})," Loading application..."]}):c.jsx(aU,{children:c.jsxs(H8,{children:[c.jsx(ci,{path:"/login",element:c.jsx(nY,{})}),c.jsx(ci,{path:"/",element:c.jsx(ws,{children:c.jsx(fC,{})})}),c.jsx(ci,{path:"/dashboard",element:c.jsx(ws,{children:c.jsx(fC,{})})}),c.jsx(ci,{path:"/new-request",element:c.jsx(ws,{children:c.jsx(VK,{})})}),c.jsx(ci,{path:"/vendors",element:c.jsx(ws,{requiredRoles:["Account Manager","Admin"],children:c.jsx(WK,{})})}),c.jsx(ci,{path:"/requests/:id",element:c.jsx(ws,{children:c.jsx(sG,{})})}),c.jsx(ci,{path:"/profile",element:c.jsx(ws,{children:c.jsx(oG,{})})}),c.jsx(ci,{path:"/admin",element:c.jsx(ws,{requiredRoles:["Admin"],children:c.jsx(EG,{})})})," ",c.jsx(ci,{path:"/inventory",element:c.jsx(ws,{requiredRoles:["Account Manager","Admin"],children:c.jsx(FG,{})})}),c.jsx(ci,{path:"/expenditures",element:c.jsx(ws,{requiredRoles:["Account Manager","Admin"],children:c.jsx(WG,{})})})," ",c.jsx(ci,{path:"*",element:c.jsx(KG,{})})]})})},dX=()=>c.jsx(zL,{client:cX,children:c.jsxs(bL,{children:[c.jsx(nM,{}),c.jsx(DM,{}),c.jsx(X8,{future:{v7_relativeSplatPath:!0},children:c.jsxs(J$,{children:[c.jsx(lX,{})," ",c.jsx(uX,{})]})})]})});a5.createRoot(document.getElementById("root")).render(c.jsx(dX,{}));
